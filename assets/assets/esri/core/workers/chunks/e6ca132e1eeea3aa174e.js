"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5988,3172,5732],{5732:(e,t,n)=>{n.d(t,{a:()=>s,c:()=>r,g:()=>i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},46851:(e,t,n)=>{n.d(t,{E:()=>r,R:()=>i});const r=1e-6,i=Math.random,s=Math.PI/180,a=180/Math.PI;Object.freeze({__proto__:null,EPSILON:r,RANDOM:i,toRadian:function(e){return e*s},toDegree:function(e){return e*a},equals:function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))}})},52138:(e,t,n)=>{n.d(t,{a:()=>l,b:()=>u,d:()=>f,e:()=>s,f:()=>h,g:()=>_,h:()=>b,i:()=>o,m:()=>c,o:()=>m,q:()=>x,s:()=>a,t:()=>d});var r=n(65617),i=n(46851);function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(e,t,n,r,i,s,a,o,l,u,c,d,h,f,m,p,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=u,e[9]=c,e[10]=d,e[11]=h,e[12]=f,e[13]=m,e[14]=p,e[15]=g,e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){const n=t[1],r=t[2],i=t[3],s=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=i,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function u(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],m=t[12],p=t[13],g=t[14],y=t[15],b=n*o-r*a,_=n*l-i*a,x=n*u-s*a,w=r*l-i*o,M=r*u-s*o,v=i*u-s*l,S=c*p-d*m,F=c*g-h*m,I=c*y-f*m,E=d*g-h*p,T=d*y-f*p,O=h*y-f*g;let q=b*O-_*T+x*E+w*I-M*F+v*S;return q?(q=1/q,e[0]=(o*O-l*T+u*E)*q,e[1]=(i*T-r*O-s*E)*q,e[2]=(p*v-g*M+y*w)*q,e[3]=(h*M-d*v-f*w)*q,e[4]=(l*I-a*O-u*F)*q,e[5]=(n*O-i*I+s*F)*q,e[6]=(g*x-m*v-y*_)*q,e[7]=(c*v-h*x+f*_)*q,e[8]=(a*T-o*I+u*S)*q,e[9]=(r*I-n*T-s*S)*q,e[10]=(m*M-p*x+y*b)*q,e[11]=(d*x-c*M-f*b)*q,e[12]=(o*F-a*E-l*S)*q,e[13]=(n*E-r*F+i*S)*q,e[14]=(p*_-m*w-g*b)*q,e[15]=(c*w-d*_+h*b)*q,e):null}function c(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],f=t[10],m=t[11],p=t[12],g=t[13],y=t[14],b=t[15];let _=n[0],x=n[1],w=n[2],M=n[3];return e[0]=_*r+x*o+w*d+M*p,e[1]=_*i+x*l+w*h+M*g,e[2]=_*s+x*u+w*f+M*y,e[3]=_*a+x*c+w*m+M*b,_=n[4],x=n[5],w=n[6],M=n[7],e[4]=_*r+x*o+w*d+M*p,e[5]=_*i+x*l+w*h+M*g,e[6]=_*s+x*u+w*f+M*y,e[7]=_*a+x*c+w*m+M*b,_=n[8],x=n[9],w=n[10],M=n[11],e[8]=_*r+x*o+w*d+M*p,e[9]=_*i+x*l+w*h+M*g,e[10]=_*s+x*u+w*f+M*y,e[11]=_*a+x*c+w*m+M*b,_=n[12],x=n[13],w=n[14],M=n[15],e[12]=_*r+x*o+w*d+M*p,e[13]=_*i+x*l+w*h+M*g,e[14]=_*s+x*u+w*f+M*y,e[15]=_*a+x*c+w*m+M*b,e}function d(e,t,n){const r=n[0],i=n[1],s=n[2];let a,o,l,u,c,d,h,f,m,p,g,y;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*s+t[12],e[13]=t[1]*r+t[5]*i+t[9]*s+t[13],e[14]=t[2]*r+t[6]*i+t[10]*s+t[14],e[15]=t[3]*r+t[7]*i+t[11]*s+t[15]):(a=t[0],o=t[1],l=t[2],u=t[3],c=t[4],d=t[5],h=t[6],f=t[7],m=t[8],p=t[9],g=t[10],y=t[11],e[0]=a,e[1]=o,e[2]=l,e[3]=u,e[4]=c,e[5]=d,e[6]=h,e[7]=f,e[8]=m,e[9]=p,e[10]=g,e[11]=y,e[12]=a*r+c*i+m*s+t[12],e[13]=o*r+d*i+p*s+t[13],e[14]=l*r+h*i+g*s+t[14],e[15]=u*r+f*i+y*s+t[15]),e}function h(e,t,n){const r=n[0],i=n[1],s=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,n,r){let s,a,o,l,u,c,d,h,f,m,p,g,y,b,_,x,w,M,v,S,F,I,E,T,O=r[0],q=r[1],k=r[2],N=Math.sqrt(O*O+q*q+k*k);return N<i.E?null:(N=1/N,O*=N,q*=N,k*=N,s=Math.sin(n),a=Math.cos(n),o=1-a,l=t[0],u=t[1],c=t[2],d=t[3],h=t[4],f=t[5],m=t[6],p=t[7],g=t[8],y=t[9],b=t[10],_=t[11],x=O*O*o+a,w=q*O*o+k*s,M=k*O*o-q*s,v=O*q*o-k*s,S=q*q*o+a,F=k*q*o+O*s,I=O*k*o+q*s,E=q*k*o-O*s,T=k*k*o+a,e[0]=l*x+h*w+g*M,e[1]=u*x+f*w+y*M,e[2]=c*x+m*w+b*M,e[3]=d*x+p*w+_*M,e[4]=l*v+h*S+g*F,e[5]=u*v+f*S+y*F,e[6]=c*v+m*S+b*F,e[7]=d*v+p*S+_*F,e[8]=l*I+h*E+g*T,e[9]=u*I+f*E+y*T,e[10]=c*I+m*E+b*T,e[11]=d*I+p*E+_*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function m(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=r+r,l=i+i,u=s+s,c=r*o,d=r*l,h=r*u,f=i*l,m=i*u,p=s*u,g=a*o,y=a*l,b=a*u;return e[0]=1-(f+p),e[1]=d+b,e[2]=h-y,e[3]=0,e[4]=d-b,e[5]=1-(c+p),e[6]=m+g,e[7]=0,e[8]=h+y,e[9]=m-g,e[10]=1-(c+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}const g=(0,r.c)();function y(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function _(e,t){if(e===t)return!0;const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],d=e[8],h=e[9],f=e[10],m=e[11],p=e[12],g=e[13],y=e[14],b=e[15],_=t[0],x=t[1],w=t[2],M=t[3],v=t[4],S=t[5],F=t[6],I=t[7],E=t[8],T=t[9],O=t[10],q=t[11],k=t[12],N=t[13],B=t[14],L=t[15];return Math.abs(n-_)<=i.E*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-x)<=i.E*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(s-w)<=i.E*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-M)<=i.E*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-v)<=i.E*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(l-S)<=i.E*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-F)<=i.E*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(c-I)<=i.E*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(d-E)<=i.E*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(h-T)<=i.E*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(f-O)<=i.E*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(m-q)<=i.E*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(p-k)<=i.E*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(g-N)<=i.E*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(y-B)<=i.E*Math.max(1,Math.abs(y),Math.abs(B))&&Math.abs(b-L)<=i.E*Math.max(1,Math.abs(b),Math.abs(L))}function x(e){const t=i.E,n=e[0],r=e[1],s=e[2],a=e[4],o=e[5],l=e[6],u=e[8],c=e[9],d=e[10];return Math.abs(1-(n*n+a*a+u*u))<=t&&Math.abs(1-(r*r+o*o+c*c))<=t&&Math.abs(1-(s*s+l*l+d*d))<=t}const w=c,M=y;Object.freeze({__proto__:null,copy:s,set:a,identity:o,transpose:l,invert:u,adjoint:function(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],m=t[12],p=t[13],g=t[14],y=t[15];return e[0]=o*(h*y-f*g)-d*(l*y-u*g)+p*(l*f-u*h),e[1]=-(r*(h*y-f*g)-d*(i*y-s*g)+p*(i*f-s*h)),e[2]=r*(l*y-u*g)-o*(i*y-s*g)+p*(i*u-s*l),e[3]=-(r*(l*f-u*h)-o*(i*f-s*h)+d*(i*u-s*l)),e[4]=-(a*(h*y-f*g)-c*(l*y-u*g)+m*(l*f-u*h)),e[5]=n*(h*y-f*g)-c*(i*y-s*g)+m*(i*f-s*h),e[6]=-(n*(l*y-u*g)-a*(i*y-s*g)+m*(i*u-s*l)),e[7]=n*(l*f-u*h)-a*(i*f-s*h)+c*(i*u-s*l),e[8]=a*(d*y-f*p)-c*(o*y-u*p)+m*(o*f-u*d),e[9]=-(n*(d*y-f*p)-c*(r*y-s*p)+m*(r*f-s*d)),e[10]=n*(o*y-u*p)-a*(r*y-s*p)+m*(r*u-s*o),e[11]=-(n*(o*f-u*d)-a*(r*f-s*d)+c*(r*u-s*o)),e[12]=-(a*(d*g-h*p)-c*(o*g-l*p)+m*(o*h-l*d)),e[13]=n*(d*g-h*p)-c*(r*g-i*p)+m*(r*h-i*d),e[14]=-(n*(o*g-l*p)-a*(r*g-i*p)+m*(r*l-i*o)),e[15]=n*(o*h-l*d)-a*(r*h-i*d)+c*(r*l-i*o),e},determinant:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],m=e[13],p=e[14],g=e[15];return(t*a-n*s)*(d*g-h*p)-(t*o-r*s)*(c*g-h*m)+(t*l-i*s)*(c*p-d*m)+(n*o-r*a)*(u*g-h*f)-(n*l-i*a)*(u*p-d*f)+(r*l-i*o)*(u*m-c*f)},multiply:c,translate:d,scale:h,rotate:f,rotateX:function(e,t,n){const r=Math.sin(n),i=Math.cos(n),s=t[4],a=t[5],o=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+u*r,e[5]=a*i+c*r,e[6]=o*i+d*r,e[7]=l*i+h*r,e[8]=u*i-s*r,e[9]=c*i-a*r,e[10]=d*i-o*r,e[11]=h*i-l*r,e},rotateY:function(e,t,n){const r=Math.sin(n),i=Math.cos(n),s=t[0],a=t[1],o=t[2],l=t[3],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-u*r,e[1]=a*i-c*r,e[2]=o*i-d*r,e[3]=l*i-h*r,e[8]=s*r+u*i,e[9]=a*r+c*i,e[10]=o*r+d*i,e[11]=l*r+h*i,e},rotateZ:function(e,t,n){const r=Math.sin(n),i=Math.cos(n),s=t[0],a=t[1],o=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+u*r,e[1]=a*i+c*r,e[2]=o*i+d*r,e[3]=l*i+h*r,e[4]=u*i-s*r,e[5]=c*i-a*r,e[6]=d*i-o*r,e[7]=h*i-l*r,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotation:function(e,t,n){let r,s,a,o=n[0],l=n[1],u=n[2],c=Math.sqrt(o*o+l*l+u*u);return c<i.E?null:(c=1/c,o*=c,l*=c,u*=c,r=Math.sin(t),s=Math.cos(t),a=1-s,e[0]=o*o*a+s,e[1]=l*o*a+u*r,e[2]=u*o*a-l*r,e[3]=0,e[4]=o*l*a-u*r,e[5]=l*l*a+s,e[6]=u*l*a+o*r,e[7]=0,e[8]=o*u*a+l*r,e[9]=l*u*a-o*r,e[10]=u*u*a+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:m,fromYRotation:function(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotationTranslation:p,fromQuat2:function(e,t){const n=g,r=-t[0],i=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],d=r*r+i*i+s*s+a*a;return d>0?(n[0]=2*(o*a+c*r+l*s-u*i)/d,n[1]=2*(l*a+c*i+u*r-o*s)/d,n[2]=2*(u*a+c*s+o*i-l*r)/d):(n[0]=2*(o*a+c*r+l*s-u*i),n[1]=2*(l*a+c*i+u*r-o*s),n[2]=2*(u*a+c*s+o*i-l*r)),p(e,t,n),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){const n=t[0],r=t[1],i=t[2],s=t[4],a=t[5],o=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(s*s+a*a+o*o),e[2]=Math.sqrt(l*l+u*u+c*c),e},getRotation:function(e,t){const n=t[0]+t[5]+t[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},fromRotationTranslationScale:function(e,t,n,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=i+i,u=s+s,c=a+a,d=i*l,h=i*u,f=i*c,m=s*u,p=s*c,g=a*c,y=o*l,b=o*u,_=o*c,x=r[0],w=r[1],M=r[2];return e[0]=(1-(m+g))*x,e[1]=(h+_)*x,e[2]=(f-b)*x,e[3]=0,e[4]=(h-_)*w,e[5]=(1-(d+g))*w,e[6]=(p+y)*w,e[7]=0,e[8]=(f+b)*M,e[9]=(p-y)*M,e[10]=(1-(d+m))*M,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,n,r,i){const s=t[0],a=t[1],o=t[2],l=t[3],u=s+s,c=a+a,d=o+o,h=s*u,f=s*c,m=s*d,p=a*c,g=a*d,y=o*d,b=l*u,_=l*c,x=l*d,w=r[0],M=r[1],v=r[2],S=i[0],F=i[1],I=i[2],E=(1-(p+y))*w,T=(f+x)*w,O=(m-_)*w,q=(f-x)*M,k=(1-(h+y))*M,N=(g+b)*M,B=(m+_)*v,L=(g-b)*v,C=(1-(h+p))*v;return e[0]=E,e[1]=T,e[2]=O,e[3]=0,e[4]=q,e[5]=k,e[6]=N,e[7]=0,e[8]=B,e[9]=L,e[10]=C,e[11]=0,e[12]=n[0]+S-(E*S+q*F+B*I),e[13]=n[1]+F-(T*S+k*F+L*I),e[14]=n[2]+I-(O*S+N*F+C*I),e[15]=1,e},fromQuat:function(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=n+n,o=r+r,l=i+i,u=n*a,c=r*a,d=r*o,h=i*a,f=i*o,m=i*l,p=s*a,g=s*o,y=s*l;return e[0]=1-d-m,e[1]=c+y,e[2]=h-g,e[3]=0,e[4]=c-y,e[5]=1-u-m,e[6]=f+p,e[7]=0,e[8]=h+g,e[9]=f-p,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,n,r,i,s,a){const o=1/(n-t),l=1/(i-r),u=1/(s-a);return e[0]=2*s*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(n+t)*o,e[9]=(i+r)*l,e[10]=(a+s)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*u,e[15]=0,e},perspective:function(e,t,n,r,i){const s=1/Math.tan(t/2);let a;return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=(i+r)*a,e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,n,r){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),u=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(i-s)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},ortho:function(e,t,n,r,i,s,a){const o=1/(t-n),l=1/(r-i),u=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*o,e[13]=(i+r)*l,e[14]=(a+s)*u,e[15]=1,e},lookAt:function(e,t,n,r){let s,a,l,u,c,d,h,f,m,p;const g=t[0],y=t[1],b=t[2],_=r[0],x=r[1],w=r[2],M=n[0],v=n[1],S=n[2];return Math.abs(g-M)<i.E&&Math.abs(y-v)<i.E&&Math.abs(b-S)<i.E?o(e):(h=g-M,f=y-v,m=b-S,p=1/Math.sqrt(h*h+f*f+m*m),h*=p,f*=p,m*=p,s=x*m-w*f,a=w*h-_*m,l=_*f-x*h,p=Math.sqrt(s*s+a*a+l*l),p?(p=1/p,s*=p,a*=p,l*=p):(s=0,a=0,l=0),u=f*l-m*a,c=m*s-h*l,d=h*a-f*s,p=Math.sqrt(u*u+c*c+d*d),p?(p=1/p,u*=p,c*=p,d*=p):(u=0,c=0,d=0),e[0]=s,e[1]=u,e[2]=h,e[3]=0,e[4]=a,e[5]=c,e[6]=f,e[7]=0,e[8]=l,e[9]=d,e[10]=m,e[11]=0,e[12]=-(s*g+a*y+l*b),e[13]=-(u*g+c*y+d*b),e[14]=-(h*g+f*y+m*b),e[15]=1,e)},targetTo:function(e,t,n,r){const i=t[0],s=t[1],a=t[2],o=r[0],l=r[1],u=r[2];let c=i-n[0],d=s-n[1],h=a-n[2],f=c*c+d*d+h*h;f>0&&(f=1/Math.sqrt(f),c*=f,d*=f,h*=f);let m=l*h-u*d,p=u*c-o*h,g=o*d-l*c;return f=m*m+p*p+g*g,f>0&&(f=1/Math.sqrt(f),m*=f,p*=f,g*=f),e[0]=m,e[1]=p,e[2]=g,e[3]=0,e[4]=d*g-h*p,e[5]=h*m-c*g,e[6]=c*p-d*m,e[7]=0,e[8]=c,e[9]=d,e[10]=h,e[11]=0,e[12]=i,e[13]=s,e[14]=a,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},subtract:y,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},exactEquals:b,equals:_,isOrthoNormal:x,mul:w,sub:M})},65617:(e,t,n)=>{function r(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function s(e,t,n){return[e,t,n]}function a(e){const t=[0,0,0],n=Math.min(3,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function o(e,t){return new Float64Array(e,t,3)}function l(){return s(1,1,1)}function u(){return s(1,0,0)}function c(){return s(0,1,0)}function d(){return s(0,0,1)}n.d(t,{O:()=>f,Z:()=>h,a:()=>i,b:()=>o,c:()=>r,d:()=>a,f:()=>s});const h=[0,0,0],f=l(),m=u(),p=c(),g=d();Object.freeze({__proto__:null,create:r,clone:i,fromValues:s,fromArray:a,createView:o,zeros:function(){return[0,0,0]},ones:l,unitX:u,unitY:c,unitZ:d,ZEROS:h,ONES:f,UNIT_X:m,UNIT_Y:p,UNIT_Z:g})},35270:(e,t,n)=>{n.d(t,{h$:()=>i,VL:()=>s,rW:()=>l,B7:()=>o});const r={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function i(e){var t;return null!=(t=r[e.toLowerCase()])?t:null}function s(e){const t=i(e);return t?[...t]:t}function a(e,t,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function o(e,t,n,r=1){const i=(e%360+360)%360/360,s=n<=.5?n*(t+1):n+t-n*t,o=2*n-s;return[Math.round(255*a(o,s,i+1/3)),Math.round(255*a(o,s,i)),Math.round(255*a(o,s,i-1/3)),r]}function l(e){const t=e.length>5,n=t?8:4,r=(1<<n)-1,i=t?1:17,s=t?9===e.length:5===e.length;let a=Number("0x"+e.substr(1));if(isNaN(a))return null;const o=[0,0,0,1];let l;return s&&(l=a&r,a>>=n,o[3]=i*l/255),l=a&r,a>>=n,o[2]=i*l,l=a&r,a>>=n,o[1]=i*l,l=a&r,a>>=n,o[0]=i*l,o}},32448:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(43697),i=n(15923),s=n(50758),a=n(52011);class o{constructor(){this._emitter=new o.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const n=this._listenersMap&&this._listenersMap.get(e);if(!n)return!1;const r=this.target||this;return[...n].forEach((e=>{e.call(r,t)})),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map((e=>this.on(e,t)));return(0,s.AL)(n)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),{remove:()=>{const n=this._listenersMap&&this._listenersMap.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)}}}once(e,t){const n=this.on(e,(e=>{n.remove(),t.call(null,e)}));return n}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return n=(0,r._)([(0,a.j)("esri.core.Evented")],n),n};let n=class extends i.Z{constructor(){super(...arguments),this._emitter=new o.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};n=(0,r._)([(0,a.j)("esri.core.Evented")],n),e.EventedAccessor=n}(o||(o={}));const l=o},24133:(e,t,n)=>{n.d(t,{QB:()=>o});var r=n(67676),i=n(70586),s=n(44553),a=n(88764);class o{constructor(e=9,t){this.compareMinX=d,this.compareMinY=h,this.toBBox=function(e){return e},this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),x.prune(),w.prune(),M.prune(),v.prune()}all(e){this._all(this.data,e)}search(e,t){let n=this.data;const r=this.toBBox;if(b(e,n))for(x.clear();n;){for(let i=0,s=n.children.length;i<s;i++){const s=n.children[i],a=n.leaf?r(s):s;b(e,a)&&(n.leaf?t(s):y(e,a)?this._all(s,t):x.push(s))}n=x.pop()}}collides(e){let t=this.data;const n=this.toBBox;if(!b(e,t))return!1;for(x.clear();t;){for(let r=0,i=t.children.length;r<i;r++){const i=t.children[r],s=t.leaf?n(i):i;if(b(e,s)){if(t.leaf||y(e,s))return!0;x.push(i)}}t=x.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}let t=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=new F([]),this}remove(e){if(!e)return this;let t,n=this.data,s=null,a=0,o=!1;const l=this.toBBox(e);for(M.clear(),v.clear();n||M.length>0;){var u;if(n||(n=(0,i.j0)(M.pop()),s=M.data[M.length-1],a=null!=(u=v.pop())?u:0,o=!0),n.leaf&&(t=(0,r.cq)(n.children,e,n.children.length,n.indexHint),-1!==t))return n.children.splice(t,1),M.push(n),this._condense(M),this;o||n.leaf||!y(n,l)?s?(a++,n=s.children[a],o=!1):n=null:(M.push(n),v.push(a),a=0,s=n,n=n.children[0])}return this}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let n=e;for(w.clear();n;){var r;if(!0===n.leaf)for(const e of n.children)t(e);else w.pushArray(n.children);n=null!=(r=w.pop())?r:null}}_build(e,t,n,r){const i=n-t+1;let s=this._maxEntries;if(i<=s){const r=new F(e.slice(t,n+1));return l(r,this.toBBox),r}r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/s**(r-1)));const a=new I([]);a.height=r;const o=Math.ceil(i/s),u=o*Math.ceil(Math.sqrt(s));_(e,t,n,u,this.compareMinX);for(let i=t;i<=n;i+=u){const t=Math.min(i+u-1,n);_(e,i,t,o,this.compareMinY);for(let n=i;n<=t;n+=o){const i=Math.min(n+o-1,t);a.children.push(this._build(e,n,i,r-1))}}return l(a,this.toBBox),a}_chooseSubtree(e,t,n,r){for(;r.push(t),!0!==t.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let s=0,a=t.children.length;s<a;s++){const a=t.children[s],o=f(a),l=p(e,a)-o;l<i?(i=l,r=o<r?o:r,n=a):l===i&&o<r&&(r=o,n=a)}t=n||t.children[0]}return t}_insert(e,t,n){const r=this.toBBox,i=n?e:r(e);M.clear();const s=this._chooseSubtree(i,this.data,t,M);for(s.children.push(e),c(s,i);t>=0&&M.data[t].children.length>this._maxEntries;)this._split(M,t),t--;this._adjustParentBBoxes(i,M,t)}_split(e,t){const n=e.data[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const s=this._chooseSplitIndex(n,i,r);if(!s)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const a=n.children.splice(s,n.children.length-s),o=n.leaf?new F(a):new I(a);o.height=n.height,l(n,this.toBBox),l(o,this.toBBox),t?e.data[t-1].children.push(o):this._splitRoot(n,o)}_splitRoot(e,t){this.data=new I([e,t]),this.data.height=e.height+1,l(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,i,s;r=i=1/0;for(let a=t;a<=n-t;a++){const t=u(e,0,a,this.toBBox),o=u(e,a,n,this.toBBox),l=g(t,o),c=f(t)+f(o);l<r?(r=l,s=a,i=c<i?c:i):l===r&&c<i&&(i=c,s=a)}return s}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:d,i=e.leaf?this.compareMinY:h;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const i=this.toBBox,s=u(e,0,t,i),a=u(e,n-t,n,i);let o=m(s)+m(a);for(let r=t;r<n-t;r++){const t=e.children[r];c(s,e.leaf?i(t):t),o+=m(s)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];c(a,e.leaf?i(t):t),o+=m(a)}return o}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)c(t.data[r],e)}_condense(e){for(let t=e.length-1;t>=0;t--){const n=e.data[t];if(0===n.children.length)if(t>0){const i=e.data[t-1],s=i.children;s.splice((0,r.cq)(s,n,s.length,i.indexHint),1)}else this.clear();else l(n,this.toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function l(e,t){u(e,0,e.children.length,t,e)}function u(e,t,n,r,i){i||(i=new F([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s,a=t;a<n;a++)s=e.children[a],c(i,e.leaf?r(s):s);return i}function c(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function d(e,t){return e.minX-t.minX}function h(e,t){return e.minY-t.minY}function f(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function m(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function g(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function y(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function _(e,t,n,r,s){const o=[t,n];for(;o.length;){const t=(0,i.j0)(o.pop()),n=(0,i.j0)(o.pop());if(t-n<=r)continue;const l=n+Math.ceil((t-n)/r/2)*r;(0,a.q)(e,l,n,t,s),o.push(n,l,l,t)}}const x=new s.Z,w=new s.Z,M=new s.Z,v=new s.Z({deallocator:void 0});class S extends class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new r.SO}}class F extends S{constructor(e){super(),this.children=e,this.leaf=!0}}class I extends S{constructor(e){super(),this.children=e,this.leaf=!1}}},14808:(e,t,n)=>{n.d(t,{lt:()=>u,WU:()=>o,Qc:()=>c});var r=n(19153),i=n(70171);const s={ar:[".",","],bg:[","," "],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function a(e){e||(e=(0,i.Kd)());let t=e in s;if(!t){const n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}const[n,r,a="#,##0.###"]=s[e];return{decimal:n,group:r,pattern:a}}function o(e,t){const n=a((t={...t}).locale);t.customs=n;const r=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){const r=(n=n||{}).customs.group,i=n.customs.decimal,s=t.split(";"),a=s[0];if(-1!==(t=s[e<0?1:0]||"-"+a).indexOf("%"))e*=100;else if(-1!==t.indexOf("‰"))e*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const o=l,u=a.match(o);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(o,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);const r=t.split("."),i="string"==typeof n.places&&n.places.indexOf(",");let s=n.places;i?s=n.places.substring(i+1):s>=0||(s=(r[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(s))));const a=String(Math.abs(e)).split("."),o=a[1]||"";if(r[1]||n.places){i&&(n.places=n.places.substring(0,i));const e=void 0!==n.places?n.places:r[1]&&r[1].lastIndexOf("0")+1;e>o.length&&(a[1]=o.padEnd(Number(e),"0")),s<o.length&&(a[1]=o.substr(0,Number(s)))}else a[1]&&a.pop();const l=r[0].replace(",","");let u=l.indexOf("0");-1!==u&&(u=l.length-u,u>a[0].length&&(a[0]=a[0].padStart(u,"0")),-1===l.indexOf("#")&&(a[0]=a[0].substr(a[0].length-u)));let c,d,h=r[0].lastIndexOf(",");if(-1!==h){c=r[0].length-h-1;const e=r[0].substr(0,h);h=e.lastIndexOf(","),-1!==h&&(d=e.length-h-1)}const f=[];for(let e=a[0];e;){const t=e.length-c;f.push(t>0?e.substr(t):e),e=t>0?e.slice(0,t):"",d&&(c=d,d=void 0)}return a[0]=f.reverse().join(n.group||","),a.join(n.decimal||".")}(e,u[0],{decimal:i,group:r,places:n.places,round:n.round}))}(e,r,t)}const l=/[#0,]*[#0](?:\.0*#*)?/;function u(e){const t=a((e=e||{}).locale),n=e.pattern||t.pattern,i=t.group,s=t.decimal;let o=1;if(-1!==n.indexOf("%"))o/=100;else if(-1!==n.indexOf("‰"))o/=1e3;else if(-1!==n.indexOf("¤"))throw new Error("currency notation not supported");const u=n.split(";");1===u.length&&u.push("-"+u[0]);const c=h(u,(function(t){return(t="(?:"+(0,r.Qs)(t,".")+")").replace(l,(function(t){const n={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:s,exponent:!1},r=t.split(".");let a=e.places;1===r.length&&1!==o&&(r[1]="###"),1===r.length||0===a?n.fractional=!1:(void 0===a&&(a=e.pattern?r[1].lastIndexOf("0")+1:1/0),a&&null==e.fractional&&(n.fractional=!0),!e.places&&a<r[1].length&&(a+=","+r[1].length),n.places=a);const l=r[0].split(",");return l.length>1&&(n.groupSize=l.pop().length,l.length>1&&(n.groupSize2=l.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=d(e),n=h(e.fractional,(function(t){let n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0);let r=t+n;return n&&(r="(?:(?:"+r+")|(?:"+n+"))"),r+h(e.exponent,(function(t){return t?"([eE]"+d({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0);return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:s,factor:o}}function c(e,t){const n=u(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;let i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor}function d(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",h(e.signed,(function(e){return e?"[-+]":""}),!0)+h(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,r.Qs)(t))?t="\\s":" "===t&&(t="\\s\\xa0");const n=e.groupSize,i=e.groupSize2;if(i){const e="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+n+"})";return n-i>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}const h=function(e,t,n){if(!(e instanceof Array))return t(e);const r=[];for(let n=0;n<e.length;n++)r.push(t(e[n]));return f(r.join("|"),n)},f=function(e,t){return"("+(t?"?:":"")+e+")"}},66577:(e,t,n)=>{n.d(t,{qM:()=>c});var r=n(75215),i=n(6570),s=n(9361),a=n(65091),o=n(13473),l=n(17332),u=n(58901);n(82971),n(86973),n(33955);const c={base:s.Z,key:"type",typeMap:{extent:i.Z,multipoint:a.Z,point:o.Z,polyline:u.Z,polygon:l.Z}};(0,r.N7)(c)},33955:(e,t,n)=>{n.d(t,{im:()=>p,q9:()=>b,Ji:()=>g,YX:()=>c,aW:()=>d,wp:()=>h,oU:()=>m,l9:()=>f});var r=n(70586),i=n(6570),s=n(9361),a=n(65091),o=n(13473),l=n(17332),u=n(58901);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function d(e){return void 0!==e.points}function h(e){return void 0!==e.x&&void 0!==e.y}function f(e){return void 0!==e.paths}function m(e){return void 0!==e.rings}function p(e){return(0,r.Wi)(e)?null:e instanceof s.Z?e:h(e)?o.Z.fromJSON(e):f(e)?u.Z.fromJSON(e):m(e)?l.Z.fromJSON(e):d(e)?a.Z.fromJSON(e):c(e)?i.Z.fromJSON(e):null}function g(e){return e?h(e)?"esriGeometryPoint":f(e)?"esriGeometryPolyline":m(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":d(e)?"esriGeometryMultipoint":null:null}const y={esriGeometryPoint:o.Z,esriGeometryPolyline:u.Z,esriGeometryPolygon:l.Z,esriGeometryEnvelope:i.Z,esriGeometryMultipoint:a.Z};function b(e){return e&&y[e]||null}},86973:(e,t,n)=>{n.d(t,{Mk:()=>i,P$:()=>s});var r=n(35454);const i=(0,r.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),s=(0,r.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},70171:(e,t,n)=>{n.d(t,{Ze:()=>m,Kd:()=>c,qe:()=>h});var r,i,s,a=n(16358);let o;const l=null!=(r=null==(i=a.Z.esriConfig)?void 0:i.locale)?r:null==(s=a.Z.dojoConfig)?void 0:s.locale;function u(){var e,t;return null!=(e=null!=l?l:null==(t=a.Z.navigator)?void 0:t.language)?e:"en"}function c(){return void 0===o&&(o=u()),o}const d=[];function h(e){return d.push(e),{remove(){d.splice(d.indexOf(e),1)}}}const f=[];function m(e){return f.push(e),{remove(){d.splice(f.indexOf(e),1)}}}null==a.Z.addEventListener||a.Z.addEventListener("languagechange",(function(){const e=null!=undefined?undefined:u();o!==e&&(o=e,[...f].forEach((t=>{t.call(null,e)})),[...d].forEach((t=>{t.call(null,e)})))}))},37549:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(80442),i=n(24133);const s={minX:0,minY:0,maxX:0,maxY:0};class a{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i.QB(9,(0,r.Z)("esri-csp-restrictions")?e=>({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const e=new Array(this._idByBounds.size);let t=0;this._idByBounds.forEach(((n,r)=>{e[t++]=r})),this._indexInvalid=!1,this._index.clear(),this._index.load(e)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((e=>this._idByBounds.has(e)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(e){const t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}forEachInBounds(e,t){this._loadIndex(),function(e,t,n){s.minX=t[0],s.minY=t[1],s.maxX=t[2],s.maxY=t[3],e.search(s,n)}(this._index,e,(e=>t(this._idByBounds.get(e))))}get(e){return this._boundsById.get(e)}has(e){return this._boundsById.has(e)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(e,t){if(!this._indexInvalid){const t=this._boundsById.get(e);t&&(this._index.remove(t),this._idByBounds.delete(t))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},57191:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(20102),i=n(32448),s=n(92604),a=n(70586),o=n(60437),l=n(24470),u=n(98732),c=n(37549),d=n(29730),h=n(70272),f=n(5428);const m={getObjectId:e=>e.objectId,getAttributes:e=>e.attributes,getAttribute:(e,t)=>e.attributes[t],cloneWithGeometry:(e,t)=>new h.ZP(t,e.attributes,null,e.objectId),getGeometry:e=>e.geometry,getCentroid:(e,t)=>(e.centroid||(e.centroid=(0,d.Y)(new f.Z,e.geometry,t.hasZ,t.hasM)),e.centroid)};class p{constructor(e){this.geometryInfo=e,this._boundsStore=new c.H,this._featuresById=new Map,this._markedIds=new Set,this.events=new i.Z,this.featureAdapter=m}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=(0,l.Ue)(l.Gv);return this._featuresById.forEach((t=>{const n=this._boundsStore.get(t.objectId);n&&(e[0]=Math.min(n[0],e[0]),e[1]=Math.min(n[1],e[1]),e[2]=Math.max(n[2],e[2]),e[3]=Math.max(n[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{(0,a.pC)(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,n){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t((0,o.JR)(n,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,n)=>{this._markedIds.has(n)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const t=e.objectId;if(null==t)return void s.Z.getLogger("esri.layers.graphics.data.FeatureStore").error(new r.Z("featurestore:invalid-feature","feature id is missing",{feature:e}));const n=this._featuresById.get(t);let i;if(this._markedIds.add(t),n?(e.displayId=n.displayId,i=this._boundsStore.get(t),this._boundsStore.delete(t)):(0,a.pC)(this.onFeatureAdd)&&this.onFeatureAdd(e),(0,a.Wi)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);i=(0,u.$)((0,a.pC)(i)?i:(0,l.Ue)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,a.pC)(i)&&this._boundsStore.set(t,i),this._featuresById.set(t,e)}_remove(e){return(0,a.pC)(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}},27793:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C,inferFieldType:()=>j,inferFields:()=>P,inferLocationInfo:()=>A}),n(66577);var r=n(3172),i=n(20102),s=n(92604),a=n(14808),o=n(95330),l=n(17452),u=n(42894),c=n(37455),d=n(8744),h=n(40488),f=n(70272),m=n(5428),p=n(57191),g=n(37427),y=n(87958);const b=/^\s*"([\S\s]*)"\s*$/,_=/""/g,x=[","," ",";","|","\t"];function*w(e,t,n){let r=0;for(;r<=e.length;){const i=e.indexOf(t,r),s=e.substring(r,i>-1?i:void 0);r+=s.length+t.length,n&&!s.trim()||(yield s)}}function M(e){const t=e.includes("\r\n")?"\r\n":"\n";return w(e,t,!0)}function v(e,t){return w(e,t,!1)}function S(e){const t=e.trim();let n=0,r="";for(const e of x){const i=t.split(e).length;i>n&&(n=i,r=e)}return""===r?null:r}function*F(e,t,n,r=(()=>Object.create(null))){let i="",s="",a=0,o=r(),l=0;e:for(const u of e){const e=v(u,n);for(const u of e)if(i+=s+u,s="",a+=I(u),a%2==0){if(a>0){const e=b.exec(i);if(!e){o=r(),l=0,i="",a=0;continue e}o[t[l]]=e[1].replace(_,'"'),l++}else o[t[l]]=i,l++;i="",a=0}else s=n;0===a?(yield o,o=r(),l=0):s="\n"}}function I(e){let t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}var E=n(25278),T=n(99514),O=n(35671),q=n(82971);const k=(0,E.bU)("esriGeometryPoint"),N=["csv"],B=[0,0];class L{constructor(e,t){this.x=e,this.y=t}}class C{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=null}async load(e,t={}){var n;this.loadOptions=e;const[r]=await Promise.all([this._fetch(t.signal),this._checkProjection(null==e||null==(n=e.parsingOptions)?void 0:n.spatialReference)]),s=function(e,t){const n=t.parsingOptions||{},r={delimiter:n.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},s=M(e);let{value:a}=s.next();if(!a)throw new i.Z("csv-layer:empty-csv","CSV is empty",{csv:e});if(a=a.trim(),!n.delimiter){const e=S(a);if(!e)throw new i.Z("csv-layer:invalid-delimiter","Unable to detect the delimiter from CSV");r.delimiter=e}const o=a.split(r.delimiter),u=r.layerDefinition={name:(0,l.vt)(t.url,N)||"csv",drawingInfo:k,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const e=A(o);if(!n.longitudeField&&!e.longitudeFieldName||!n.latitudeField&&!e.latitudeFieldName)throw new i.Z("csv-layer:location-fields-not-found","Unable to identify latitude and longitude fields from the CSV file");r.locationInfo={longitudeFieldName:n.longitudeField||e.longitudeFieldName,latitudeFieldName:n.latitudeField||e.latitudeFieldName}}const c=P(s,r.delimiter,o,r.locationInfo);if(n.fields&&n.fields.length){const e=new Map;for(const t of n.fields)e.set(t.name.toLowerCase(),t);for(const t of c){const n=e.get(t.name.toLowerCase());if(n){const e=t.name;Object.assign(t,n),t.name=e}}}if(u.fields=c,!u.fields.some((e=>"esriFieldTypeOID"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(u.timeInfo){const e=new T.Z(u.fields),t=u.timeInfo;if(t.startTimeField){const n=e.get(t.startTimeField);n?(t.startTimeField=n.name,n.type="esriFieldTypeDate"):t.startTimeField=null}if(t.endTimeField){const n=e.get(t.endTimeField);n?(t.endTimeField=n.name,n.type="esriFieldTypeDate"):t.endTimeField=null}if(t.trackIdField){const n=e.get(t.trackIdField);t.trackIdField=n?n.name:null}t.startTimeField||t.endTimeField||(u.timeInfo=null)}return r}(r,e);this.locationInfo=s.locationInfo,this.delimiter=s.delimiter,this._queryEngine=this._createQueryEngine(s);const a=await this._createFeatures(r);if(this._queryEngine.featureStore.addMany(a),s.layerDefinition.extent=this._queryEngine.fullExtent,s.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;s.layerDefinition.timeInfo.timeExtent=[e,t]}return s}async applyEdits(){throw new i.Z("csv-layer:editing-not-supported","applyEdits() is not supported on CSVLayer")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){var t;return this.loadOptions.customParameters=e,null==(t=this._snapshotTask)||t.abort(),this._snapshotTask=(0,o.vr)(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),(0,o.D_)(e)||s.Z.getLogger("esri.layers.CSVLayer").error(new i.Z("csv-layer:refresh","An error occurred during refresh",{error:e}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(e){const{url:t,customParameters:n}=this.loadOptions;if(!t)throw new i.Z("csv-layer:invalid-source","url not defined");const s=(0,l.mN)(t);return(await(0,r.default)(s.path,{query:{...s.query,...n},responseType:"text",signal:e})).data}_createQueryEngine(e){const{objectIdField:t,fields:n,extent:r,timeInfo:i}=e.layerDefinition,s=new p.Z({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});return new y.Z({fields:n,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:i,objectIdField:t,spatialReference:r.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:s})}async _createFeatures(e){const{latitudeFieldName:t,longitudeFieldName:n}=this.locationInfo,{objectIdField:r,fieldsIndex:i,spatialReference:s}=this._queryEngine;let a=[];const o=[],l=i.fields.filter((e=>e.name!==r)).map((e=>e.name));let p=0;const g=M(e);g.next();const y={};for(const e of i.fields)if("esriFieldTypeOID"!==e.type&&"esriFieldTypeGlobalID"!==e.type){const t=(0,O.os)(e);void 0!==t&&(y[e.name]=t)}const b=F(g,l,this.delimiter,(0,E.Dm)(y,r));for(const e of b){const s=this._parseCoordinateValue(e[t]),l=this._parseCoordinateValue(e[n]);if(null!=l&&null!=s&&!isNaN(s)&&!isNaN(l)){e[t]=s,e[n]=l;for(const r in e)if(r!==t&&r!==n)if(i.isDateField(r)){const t=new Date(e[r]);e[r]=U(t,e[r])?t.getTime():null}else if(i.isNumericField(r)){const t=G(e[r]);isNaN(t)?e[r]=null:e[r]=t}e[r]=p,p++,a.push(new L(l,s)),o.push(e)}}if(!(0,d.fS)({wkid:4326},s))if((0,d.sS)(s))for(const e of a)[e.x,e.y]=(0,h.hG)(e.x,e.y,B);else a=(0,u.oj)(c.N,a,q.Z.WGS84,s,null);const _=[];for(let e=0;e<a.length;e++){const{x:t,y:n}=a[e],i=o[e];i[r]=e+1,_.push(new f.ZP(new m.Z([],[t,n]),i,null,i[r]))}return _}_parseCoordinateValue(e){if(null==e||""===e)return null;let t=G(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await(0,g._W)(d.Zn,e)}catch{throw new i.Z("csv-layer:projection-not-supported","Projection not supported")}}}const Z=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],D=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"];function A(e){const t=e.map((e=>e.toLowerCase()));return{longitudeFieldName:e[t.indexOf(D.find((e=>t.includes(e))))],latitudeFieldName:e[t.indexOf(Z.find((e=>t.includes(e))))]}}function P(e,t,n,r){const i=[],s=F(e,n,t),a=[];e:for(;a.length<10;){const{value:e,done:t}=s.next();if(t)break e;a.push(e)}for(const e of n)if(e===r.longitudeFieldName||e===r.latitudeFieldName)i.push({name:e,type:"esriFieldTypeDouble",alias:e});else{const t=j(a.map((t=>t[e]))),n={name:e,type:null,alias:e};switch(t){case"integer":n.type="esriFieldTypeInteger";break;case"double":n.type="esriFieldTypeDouble";break;case"date":n.type="esriFieldTypeDate",n.length=36;break;default:n.type="esriFieldTypeString",n.length=255}i.push(n)}return i}function j(e){if(!e.length)return"string";const t=/[^+-.,0-9]/;return e.map((e=>{let n=!1;if(""!==e){if(t.test(e))n=!0;else{let t=G(e);if(!isNaN(t))return/[.,]/.test(e)||!Number.isInteger(t)||t>214783647||t<-214783648?"double":"integer";if(-1===e.indexOf("E"))n=!0;else{if(t=Number(e),!isNaN(t))return"double";if(-1===e.indexOf(","))n=!0;else{if(e=e.replace(",","."),t=Number(e),!isNaN(t))return"double";n=!0}}}return n?/^[-]?\d*[.,]?\d*$/.test(e)?"string":U(new Date(e),e)?"date":"string":"string"}})).reduce(((e,t)=>void 0===e||e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0))}const R=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,Y=Number.isNaN(new Date("technology 10").getTime());function U(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;let n=!0;if(!Y&&/\d+\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,r=0;for(;!t&&r<=e.length;)t=!R.test(e[r]),r++;n=!t}}return n}const G=function(){const e=(0,a.lt)(),t=new RegExp("^"+e.regexp+"$"),n=new RegExp("["+e.group+"\\s\\xa0]","g"),r=e.factor;return function(i){const s=t.exec(i);if(e.factor=r,!s)return NaN;let a=s[1];if(!s[1]){if(!s[2])return NaN;a=s[2],e.factor*=-1}return a=a.replace(n,"").replace(e.decimal,"."),+a*e.factor}}()},25278:(e,t,n)=>{n.d(t,{MS:()=>c,Dm:()=>l,Hq:()=>u,bU:()=>o});var r=n(80442),i=n(22974),s=n(61159),a=n(58333);function o(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?a.I4:"esriGeometryPolyline"===e?a.ET:a.lF}}}function l(e,t){if((0,r.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.includes(".")?`["${t}"]`:`.${t}`} = ${JSON.stringify(e[t])};`;const r=new Function(n);return()=>new r}catch(n){return()=>({[t]:null,...e})}}function u(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,i.d9)(e)}}]}function c(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:s.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},99514:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(35671);function i(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function s(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}class a{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;const t=[];for(const a of e){const e=a&&a.name;if(e){const l=o(e);this._fieldsMap.set(e,a),this._fieldsMap.set(l,a),t.push(l),"date"===(n=a).type||"esriFieldTypeDate"===n.type?(this.dateFields.push(a),this._dateFieldsSet.add(a)):(0,r.H7)(a)&&(this._numericFieldsSet.add(a),this.numericFields.push(a)),i(a)||s(a)||(a.editable=null==a.editable||!!a.editable,a.nullable=null==a.nullable||!!a.nullable)}}var n;t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)i(e)||s(e)||e.nullable||void 0!==(0,r.os)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function o(e){return e.toLowerCase().trim()}},35671:(e,t,n)=>{n.d(t,{io:()=>g,AB:()=>p,gd:()=>m,Q0:()=>f,YN:()=>u,UF:()=>d,O5:()=>y,os:()=>_,H7:()=>O,qN:()=>q,Pz:()=>B,Qc:()=>L,vP:()=>j}),n(20102);var r,i,s=n(78286);(i=r||(r={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var a=n(59266);const o=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],l=["field","normalizationField"];function u(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(c(o,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)c(l,e,t)}function c(e,t,n){if(e)for(const r of e){const e=(0,s.hS)(r,t),i=e&&"function"!=typeof e&&n.get(e);i&&(0,s.RB)(r,i.name,t)}}function d(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n&&n.name||null,e.endField=r&&r.name||null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=r&&r.name||null}}const h=new Set;function f(e,t){return e&&t?(h.clear(),m(h,e,t),Array.from(h).sort()):[]}function m(e,t,n){var r;if(n)if(null!=t&&null!=(r=t.fields)&&r.length)if(n.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const r of n)p(e,t,r);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function p(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}async function g(e,t,n){var r;if(!n)return;const{arcadeUtils:i}=await(0,a.LC)(),s=i.extractFieldNames(n,null==t||null==(r=t.fields)?void 0:r.map((e=>e.name)));for(const n of s)p(e,t,n)}function y({displayField:e,fields:t}){return e||(t&&t.length?b(t,"name-or-title")||b(t,"unique-identifier")||b(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function b(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}function _(e){const t=e.defaultValue;return void 0!==t&&E(e,t)?t:e.nullable?null:void 0}function x(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function w(e){return null===e||x(e)}const M="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function v(e){return null===e||M(e)}function S(e){return null!=e&&"string"==typeof e}function F(e){return null===e||S(e)}function I(){return!0}function E(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?v:M;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?w:x;break;case"string":case"esriFieldTypeString":n=e.nullable?F:S;break;default:n=I}return 1===arguments.length?n:n(t)}const T=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function O(e){return null!=e&&T.has(e.type)}function q(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var k,N;function B(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function L(e,t){return e.nullable&&null===t?null:O(e)&&!function(e,t){const n="string"==typeof e?C(e):e;return!!n&&(n.isInteger?M(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?k.OUT_OF_RANGE:E(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const n="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<n||+t>i)return r.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return r.INVALID_CODED_VALUE}return null}(e.domain,t):null:N.INVALID_TYPE}function C(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Z;case"esriFieldTypeInteger":case"integer":return D;case"esriFieldTypeSingle":case"single":return A;case"esriFieldTypeDouble":case"double":return P}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(k||(k={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(N||(N={}));const Z={min:-32768,max:32767,isInteger:!0},D={min:-2147483648,max:2147483647,isInteger:!0},A={min:-34e37,max:12e37,isInteger:!1},P={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function j(e,t,n){switch(e){case r.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case r.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case N.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case k.OUT_OF_RANGE:{const{min:e,max:r}=C(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}},3172:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(68773),i=n(40330),s=n(20102),a=n(16358),o=n(80442),l=n(22974),u=n(70586),c=n(95330),d=n(17452),h=n(71058),f=n(85958);async function m(e,t){var l;const f=(0,d.HK)(e),b=(0,d.jc)(e);b||f||(e=(0,d.Fv)(e));const _={url:e,requestOptions:{...(0,u.Wg)(t)}};let x=(0,d.oh)(e);if(x){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(e){n=S("request:interceptor",e,t)}if((r instanceof Error||r instanceof s.Z)&&(n=S("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}(x,_);if(null!=e)return{data:e,getHeader:w,requestOptions:_.requestOptions,url:_.url};x.after||x.error||(x=null)}if(e=_.url,"image"===(t=_.requestOptions).responseType){if((0,o.Z)("host-webworker")||(0,o.Z)("host-node"))throw S("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),_)}else if(f)throw S("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),_);if("head"===t.method){if(t.body)throw S("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),_);if(f||b)throw S("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),_)}if(await async function(){(0,o.Z)("host-webworker")?p||(p=await Promise.all([n.e(102),n.e(9884)]).then(n.bind(n,29884))):m._abortableFetch||(m._abortableFetch=a.Z.fetch.bind(a.Z))}(),p)return p.execute(e,t);const M=new AbortController;(0,c.fu)(t,(()=>M.abort()));const v={controller:M,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:x,params:_,redoRequest:!1,useIdentity:g.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},T=await async function(e){var t,n;let s,o;await async function(e){const t=e.params.url,n=e.params.requestOptions,s=e.controller.signal,o=n.body;let l=null,u=null,d=null;if(y&&"HTMLFormElement"in a.Z&&(o instanceof FormData?l=o:o instanceof HTMLFormElement&&(u=o,l=new FormData(u))),"string"==typeof o&&(d=o),e.fetchOptions={cache:n.cacheBust&&!m._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:s},(l||d)&&(e.fetchOptions.body=l||d),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query&&n.query.token||l&&l.get&&l.get("token")||u&&u.elements.token),!e.hasToken&&r.Z.apiKey&&(0,h.r)(t)&&(n.query||(n.query={}),n.query.token=r.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!I(t)&&!(0,c.Hc)(s)){let r;"immediate"===n.authMode?(await F(),r=await i.id.getCredential(t,{signal:s}),e.credential=r):"no-prompt"===n.authMode?(await F(),r=await i.id.getCredential(t,{prompt:!1,signal:s}).catch((()=>{})),e.credential=r):i.id&&(r=i.id.findCredential(t)),r&&(e.credentialToken=r.token,e.useSSL=!!r.ssl)}}(e);try{do{[s,o]=await E(e)}while(!await O(e,s,o))}catch(t){const n=S("request:server",t,e.params,s);throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const l=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)&&!e.hasToken&&!e.credentialToken&&null!=(t=o)&&null!=(n=t.user)&&n.username&&!(0,d.kl)(l)){const e=(0,d.P$)(l,!0);e&&g.trustedServers.push(e)}const u=e.credential;if(u&&i.id){const e=i.id.findServerInfo(u.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=i.id.findCredential(t,u.userId);e&&-1===i.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:o,getHeader:s?e=>s.headers.get(e):w,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(v);return null==(l=x)||null==l.after||l.after(T),T}let p;const g=r.Z.request,y="FormData"in a.Z,b=[499,498,403,401],_=["COM_0056","COM_0057","SB_0008"],x=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],w=()=>null,M=Symbol();function v(e){const t=(0,d.P$)(e);return!t||t.endsWith(".arcgis.com")||m._corsServers.includes(t)||(0,d.kl)(t)}function S(e,t,n,r){let i="Error";const a={url:n.url,requestOptions:n.requestOptions,getHeader:w,ssl:!1};if(t instanceof s.Z)return t.details?(t.details=(0,l.d9)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=a,t;if(t){const e=r&&(e=>r.headers.get(e)),n=r&&r.status,s=t.message;s&&(i=s),e&&(a.getHeader=e),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details,a.raw=M in t?t[M]:t}return(0,c.D_)(t)?(0,c.zE)():new s.Z(e,i,a)}async function F(){i.id||await Promise.all([n.e(7824),n.e(8778),n.e(102),n.e(9625)]).then(n.bind(n,79339))}function I(e){return x.some((t=>t.test(e)))}async function E(e){let t=e.params.url;const n=e.params.requestOptions,r=e.fetchOptions,s=(0,d.jc)(t)||(0,d.HK)(t),a=n.responseType||"json",l=s?0:null!=n.timeout?n.timeout:g.timeout;let u=!1;if(!s){e.useSSL&&(t=(0,d.hO)(t)),n.cacheBust&&"default"===r.cache&&(t=(0,d.ZN)(t,"request.preventCache",Date.now()));let s={...n.query};e.credentialToken&&(s.token=e.credentialToken);let a=(0,d.B7)(s);(0,o.Z)("esri-url-encodes-apostrophe")&&(a=a.replace(/'/g,"%27"));const l=t.length+1+a.length;let c;u="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||l>g.maxUrlLength;const h=n.useProxy||!!(0,d.ed)(t);if(h){const e=(0,d.b7)(t);c=e.path,!u&&c.length+1+l>g.maxUrlLength&&(u=!0),e.query&&(s={...e.query,...s})}if("HEAD"===r.method&&(u||h)){if(u){if(l>g.maxUrlLength)throw S("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw S("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(h)throw S("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(r.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?t=(0,d.fl)(t,s):(r.body=(0,d.B7)(s),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,d.fl)(t,s),h&&(e.useProxy=!0,t=`${c}?${t}`),s.token&&y&&r.body instanceof FormData){const e=r.body;e.set?e.set("token",s.token):e.append("token",s.token)}if(n.hasOwnProperty("withCredentials"))e.withCredentials=n.withCredentials;else if(!(0,d.D6)(t,d.Gd))if((0,d.kl)(t))e.withCredentials=!0;else if(i.id){const n=i.id.findServerInfo(t);n&&n.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(r.credentials="include")}let h,f,p=0,b=!1;l>0&&(p=setTimeout((()=>{b=!0,e.controller.abort()}),l));try{if("native-request-init"===n.responseType)f=r,f.url=t;else if("image"!==n.responseType||"default"!==r.cache||"GET"!==r.method||u||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(n.headers)||!s&&!e.useProxy&&g.proxyUrl&&!v(t)){if(h=await m._abortableFetch(t,r),e.useProxy||function(e){const t=(0,d.P$)(e);t&&!m._corsServers.includes(t)&&m._corsServers.push(t)}(t),"native"===n.responseType)f=h;else if("HEAD"!==r.method)if(h.ok){switch(a){case"array-buffer":f=await h.arrayBuffer();break;case"blob":case"image":f=await h.blob();break;default:f=await h.text()}if(p&&(clearTimeout(p),p=0),"json"===a||"xml"===a||"document"===a)if(f)switch(a){case"json":f=JSON.parse(f);break;case"xml":f=T(f,"application/xml");break;case"document":f=T(f,"text/html")}else f=null;if(f){if("array-buffer"===a||"blob"===a){const e=h.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&f["blob"===a?"size":"byteLength"]<=750)try{const e=await new Response(f).json();e.error&&(f=e)}catch{}}"image"===a&&f instanceof Blob&&(f=await q(URL.createObjectURL(f),e,!0))}}else f=await h.text()}else f=await q(t,e)}catch(r){if("AbortError"===r.name){if(b)throw new Error("Timeout exceeded");throw(0,c.zE)("Request canceled")}if(!(!h&&r instanceof TypeError&&g.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||e.useProxy||v(t))throw r;e.redoRequest=!0,(0,d.tD)({proxyUrl:g.proxyUrl,urlPrefix:(0,d.P$)(t)})}finally{p&&clearTimeout(p)}return[h,f]}function T(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function O(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let s,a,o,l;if(!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[M]=n,s;null!=n&&n.error&&(s=n.error),s&&(a=Number(s.code),o=s.hasOwnProperty("subcode")?Number(s.subcode):null,l=s.messageCode,l=l&&l.toUpperCase());const u=r.authMode;if(403===a&&(4===o||s.message&&s.message.toLowerCase().indexOf("ssl")>-1&&-1===s.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===a)&&-1!==b.indexOf(a)&&!I(e.params.url)&&(403!==a||-1===_.indexOf(l)&&(null==o||2===o&&e.credentialToken))){await F();try{const t=await i.id.getCredential(e.params.url,{error:S("request:server",s,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===u)return e.credential=null,e.credentialToken=null,!1;s=t}}if(s)throw s;return!0}function q(e,t,n=!1){const r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,(0,f.f)(i,e,n,r)}m._abortableFetch=null,m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},71058:(e,t,n)=>{n.d(t,{r:()=>s});var r=n(17452);const i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function s(e){const t=(0,r.P$)(e,!0);return t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},59266:(e,t,n)=>{n.d(t,{mz:()=>c,pp:()=>u,WW:()=>o,Yi:()=>l,LC:()=>a}),n(66577);var r=n(70586),i=n(82971);let s;function a(){return s||(s=(async()=>{const e=await Promise.all([n.e(9490),n.e(6690)]).then(n.bind(n,96690));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),s}const o=(e,t,n)=>c.create(e,t,n,null,["$feature"]),l=(e,t,n)=>c.create(e,t,n,null,["$feature","$view"]),u=(e,t,n,r)=>c.create(e,t,n,r,["$feature","$view"]);class c{constructor(e,t,n,r,i,s,a,o){this.script=e,this.evaluate=i;const l=Array.isArray(a)?a:a.fields;this.fields=l,this._syntaxTree=r,this._arcade=t,this._arcadeDictionary=n,this._arcadeFeature=s,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,n,s,o,l){const{arcade:u,Feature:d,Dictionary:h}=await a(),f=i.Z.fromJSON(t),m=u.parseScript(e,l),p=o.reduce(((e,t)=>({...e,[t]:null})),{});let g=null;(0,r.pC)(s)&&(g=new h(s),g.immutable=!0,p.$config=null);const y=u.scriptUsesGeometryEngine(m)&&u.enableGeometrySupport(),b=u.scriptUsesFeatureSet(m)&&u.enableFeatureSetSupport(),_=u.scriptIsAsync(m)&&u.enableAsyncSupport(),x={vars:p,spatialReference:f,useAsync:!!_},w=new h;w.immutable=!1,w.setField("scale",0);const M=u.compileScript(m,x);return await Promise.all([y,b,_]),new c(e,u,h,m,(e=>("$view"in e&&e.$view&&(w.setField("scale",e.$view.scale),e.$view=w),g&&(e.$config=g),M({vars:e,spatialReference:f}))),new d,n,f)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},85958:(e,t,n)=>{n.d(t,{f:()=>a});var r=n(80442),i=n(70586),s=n(95330);function a(e,t,n=!1,a){return new Promise(((l,u)=>{if((0,s.Hc)(a))return void u(o());let c=()=>{f(),u(new Error(`Unable to load ${t}`))},d=()=>{const t=e;f(),l(t)},h=()=>{if(!e)return;const t=e;f(),t.src="",u(o())};const f=()=>{(0,r.Z)("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",d)),c=null,d=null,e=null,(0,i.pC)(a)&&a.removeEventListener("abort",h),h=null,n&&URL.revokeObjectURL(t)};(0,i.pC)(a)&&a.addEventListener("abort",h),(0,r.Z)("esri-image-decode")?e.decode().then(d,c):(e.addEventListener("error",c),e.addEventListener("load",d))}))}function o(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}},58333:(e,t,n)=>{n.d(t,{I4:()=>i,lF:()=>a,ET:()=>s,qP:()=>o,eG:()=>l,lj:()=>c,wW:()=>u});const r=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},c={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);