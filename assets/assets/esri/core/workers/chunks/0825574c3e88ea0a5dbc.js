"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6841],{36030:(e,t,n)=>{n.d(t,{J:()=>l});var i=n(35454),r=n(5600);function l(e,t={}){var n;const l=e instanceof i.Xn?e:new i.Xn(e,t),a={type:null==(n=null==t?void 0:t.ignoreUnknown)||n?l.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:l.jsonValues,read:(null==t||!t.readOnly)&&{reader:l.read},write:{writer:l.write}}};return void 0!==(null==t?void 0:t.default)&&(a.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(a.json.name=t.name),(0,r.Cb)(a)}},66577:(e,t,n)=>{n.d(t,{qM:()=>c});var i=n(75215),r=n(6570),l=n(9361),a=n(65091),o=n(13473),s=n(17332),u=n(58901);n(82971),n(86973),n(33955);const c={base:l.Z,key:"type",typeMap:{extent:r.Z,multipoint:a.Z,point:o.Z,polyline:u.Z,polygon:s.Z}};(0,i.N7)(c)},33955:(e,t,n)=>{n.d(t,{im:()=>y,q9:()=>b,Ji:()=>h,YX:()=>c,aW:()=>d,wp:()=>f,oU:()=>p,l9:()=>m});var i=n(70586),r=n(6570),l=n(9361),a=n(65091),o=n(13473),s=n(17332),u=n(58901);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function d(e){return void 0!==e.points}function f(e){return void 0!==e.x&&void 0!==e.y}function m(e){return void 0!==e.paths}function p(e){return void 0!==e.rings}function y(e){return(0,i.Wi)(e)?null:e instanceof l.Z?e:f(e)?o.Z.fromJSON(e):m(e)?u.Z.fromJSON(e):p(e)?s.Z.fromJSON(e):d(e)?a.Z.fromJSON(e):c(e)?r.Z.fromJSON(e):null}function h(e){return e?f(e)?"esriGeometryPoint":m(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":d(e)?"esriGeometryMultipoint":null:null}const v={esriGeometryPoint:o.Z,esriGeometryPolyline:u.Z,esriGeometryPolygon:s.Z,esriGeometryEnvelope:r.Z,esriGeometryMultipoint:a.Z};function b(e){return e&&v[e]||null}},86973:(e,t,n)=>{n.d(t,{Mk:()=>r,P$:()=>l});var i=n(35454);const r=(0,i.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),l=(0,i.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},35671:(e,t,n)=>{n.d(t,{io:()=>h,AB:()=>y,gd:()=>p,Q0:()=>m,YN:()=>u,UF:()=>d,O5:()=>v,os:()=>g,H7:()=>N,qN:()=>D,Pz:()=>E,Qc:()=>k,vP:()=>L}),n(20102);var i,r,l=n(78286);(r=i||(i={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",r.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var a=n(59266);const o=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],s=["field","normalizationField"];function u(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(c(o,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)c(s,e,t)}function c(e,t,n){if(e)for(const i of e){const e=(0,l.hS)(i,t),r=e&&"function"!=typeof e&&n.get(e);r&&(0,l.RB)(i,r.name,t)}}function d(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=n&&n.name||null,e.endField=i&&i.name||null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=i&&i.name||null}}const f=new Set;function m(e,t){return e&&t?(f.clear(),p(f,e,t),Array.from(f).sort()):[]}function p(e,t,n){var i;if(n)if(null!=t&&null!=(i=t.fields)&&i.length)if(n.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const i of n)y(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function y(e,t,n){if("string"==typeof n)if(t){const i=t.get(n);i&&e.add(i.name)}else e.add(n)}async function h(e,t,n){var i;if(!n)return;const{arcadeUtils:r}=await(0,a.LC)(),l=r.extractFieldNames(n,null==t||null==(i=t.fields)?void 0:i.map((e=>e.name)));for(const n of l)y(e,t,n)}function v({displayField:e,fields:t}){return e||(t&&t.length?b(t,"name-or-title")||b(t,"unique-identifier")||b(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function b(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}function g(e){const t=e.defaultValue;return void 0!==t&&C(e,t)?t:e.nullable?null:void 0}function F(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function V(e){return null===e||F(e)}const T="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function S(e){return null===e||T(e)}function w(e){return null!=e&&"string"==typeof e}function _(e){return null===e||w(e)}function x(){return!0}function C(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?S:T;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?V:F;break;case"string":case"esriFieldTypeString":n=e.nullable?_:w;break;default:n=x}return 1===arguments.length?n:n(t)}const I=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function N(e){return null!=e&&I.has(e.type)}function D(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var M,z;function E(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function k(e,t){return e.nullable&&null===t?null:N(e)&&!function(e,t){const n="string"==typeof e?O(e):e;return!!n&&(n.isInteger?T(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?M.OUT_OF_RANGE:C(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const n="range"in e?e.range[0]:e.minValue,r="range"in e?e.range[1]:e.maxValue;if(+t<n||+t>r)return i.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return i.INVALID_CODED_VALUE}return null}(e.domain,t):null:z.INVALID_TYPE}function O(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return A;case"esriFieldTypeInteger":case"integer":return G;case"esriFieldTypeSingle":case"single":return P;case"esriFieldTypeDouble":case"double":return Z}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(M||(M={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(z||(z={}));const A={min:-32768,max:32767,isInteger:!0},G={min:-2147483648,max:2147483647,isInteger:!0},P={min:-34e37,max:12e37,isInteger:!1},Z={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function L(e,t,n){switch(e){case i.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case i.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case z.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case M.OUT_OF_RANGE:{const{min:e,max:i}=O(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${i}`}}}},98046:(e,t,n)=>{n.d(t,{Z:()=>m});var i,r=n(43697),l=n(22303),a=n(22974),o=n(5600),s=n(75215),u=n(36030),c=n(52011),d=n(899);let f=i=class extends d.Z{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new i({fromColor:(0,a.d9)(this.fromColor),toColor:(0,a.d9)(this.toColor),algorithm:this.algorithm})}};(0,r._)([(0,u.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0),(0,r._)([(0,o.Cb)({type:l.Z,json:{type:[s.z8],write:!0}})],f.prototype,"fromColor",void 0),(0,r._)([(0,o.Cb)({type:l.Z,json:{type:[s.z8],write:!0}})],f.prototype,"toColor",void 0),(0,r._)([(0,o.Cb)({type:["algorithmic"]})],f.prototype,"type",void 0),f=i=(0,r._)([(0,c.j)("esri.rest.support.AlgorithmicColorRamp")],f);const m=f},57316:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(43697),r=n(35454),l=n(5600),a=(n(67676),n(80442),n(75215),n(52011)),o=n(10736),s=n(94593),u=n(89164);const c=new r.Xn({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});let d=class extends o.wq{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};(0,i._)([(0,l.Cb)({type:u.Z,json:{write:!0}})],d.prototype,"baseSymbol",void 0),(0,i._)([(0,l.Cb)({types:s.V,json:{read:{reader:s.i},write:!0}})],d.prototype,"colorRamp",void 0),(0,i._)([(0,l.Cb)({json:{read:c.read,write:c.write}})],d.prototype,"type",void 0),d=(0,i._)([(0,a.j)("esri.rest.support.ClassificationDefinition")],d);const f=d,m=new r.Xn({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),p=new r.Xn({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let y=class extends f{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type="class-breaks-definition"}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,i._)([(0,l.Cb)({json:{write:!0}})],y.prototype,"breakCount",void 0),(0,i._)([(0,l.Cb)({json:{write:!0}})],y.prototype,"classificationField",void 0),(0,i._)([(0,l.Cb)({type:String,json:{read:m.read,write:m.write}})],y.prototype,"classificationMethod",void 0),(0,i._)([(0,l.Cb)({json:{write:!0}})],y.prototype,"normalizationField",void 0),(0,i._)([(0,l.Cb)({json:{read:p.read,write:p.write}})],y.prototype,"normalizationType",void 0),(0,i._)([(0,l.Cb)({value:null,json:{write:!0}})],y.prototype,"standardDeviationInterval",null),(0,i._)([(0,l.Cb)({value:null,json:{write:!0}})],y.prototype,"definedInterval",null),(0,i._)([(0,l.Cb)()],y.prototype,"type",void 0),y=(0,i._)([(0,a.j)("esri.rest.support.ClassBreaksDefinition")],y);const h=y},899:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(43697),r=n(10736),l=n(5600),a=(n(67676),n(80442),n(75215),n(52011));let o=class extends r.wq{constructor(e){super(e),this.type=null}};(0,i._)([(0,l.Cb)({readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=(0,i._)([(0,a.j)("esri.rest.support.ColorRamp")],o);const s=o},1515:(e,t,n)=>{n.d(t,{Z:()=>d});var i,r=n(43697),l=n(22974),a=n(5600),o=(n(75215),n(52011)),s=n(98046),u=n(899);let c=i=class extends u.Z{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new i({colorRamps:(0,l.d9)(this.colorRamps)})}};(0,r._)([(0,a.Cb)({type:[s.Z],json:{write:!0}})],c.prototype,"colorRamps",void 0),(0,r._)([(0,a.Cb)({type:["multipart"]})],c.prototype,"type",void 0),c=i=(0,r._)([(0,o.j)("esri.rest.support.MultipartColorRamp")],c);const d=c},94593:(e,t,n)=>{n.d(t,{i:()=>o,V:()=>a});var i=n(98046),r=n(899),l=n(1515);const a={key:"type",base:r.Z,typeMap:{algorithmic:i.Z,multipart:l.Z}};function o(e){return e&&e.type?"algorithmic"===e.type?i.Z.fromJSON(e):"multipart"===e.type?l.Z.fromJSON(e):null:null}},36841:(e,t,n)=>{n.r(t),n.d(t,{classBreaks:()=>c,summaryStatistics:()=>s,uniqueValues:()=>u}),n(20102);var i=n(82971),r=(n(35671),n(8418)),l=n(59266);let a=null;async function o(e,t){if(!t)return[];const n=e.field,o=e.valueExpression,s=e.normalizationType,u=e.normalizationField,c=e.normalizationTotal,d=[],f=e.viewInfoParams;let m=null,p=null;if(o){if(!a){const{arcadeUtils:e}=await(0,l.LC)();a=e}m=a.createFunction(o),p=f&&a.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:new i.Z(f.spatialReference)})}return t.forEach((e=>{const t=e.attributes;let i;if(o){const t=a.createExecContext(e,p);i=a.executeFunction(m,t)}else t&&(i=t[n]);if(s&&isFinite(i)){const e=t&&parseFloat(t[u]);i=(0,r.fk)(i,s,e,c)}d.push(i)})),d}async function s(e){const{attribute:t,features:n}=e,{normalizationType:i,normalizationField:l,minValue:a,maxValue:s,fieldType:u}=t,c=await o({field:t.field,valueExpression:t.valueExpression,normalizationType:i,normalizationField:l,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams},n),d=(0,r.S5)({normalizationType:i,normalizationField:l,minValue:a,maxValue:s}),f={value:.5,fieldType:u},m="esriFieldTypeString"===u?(0,r.H0)({values:c,supportsNullCount:d,percentileParams:f}):(0,r.i5)({values:c,minValue:a,maxValue:s,useSampleStdDev:!i,supportsNullCount:d,percentileParams:f});return(0,r.F_)(m,"esriFieldTypeDate"===u)}async function u(e){const{attribute:t,features:n}=e,i=await o({field:t.field,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams},n),l=(0,r.eT)(i);return(0,r.Qm)(l,t.domain,t.returnAllCodedValues)}async function c(e){const{attribute:t,features:n}=e,{field:i,normalizationType:l,normalizationField:a,normalizationTotal:s,classificationMethod:u}=t,c=await o({field:i,valueExpression:t.valueExpression,normalizationType:l,normalizationField:a,normalizationTotal:s,viewInfoParams:t.viewInfoParams},n),d=(0,r.G2)(c,{field:i,normalizationType:l,normalizationField:a,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,r.DL)(d,u)}},8418:(e,t,n)=>{n.d(t,{G2:()=>w,XL:()=>h,i5:()=>y,H0:()=>p,eT:()=>V,Qm:()=>T,Lq:()=>v,fk:()=>S,S5:()=>m,F_:()=>F,DL:()=>_});var i=n(57316);function r(e,t){return Number(e.toFixed(t))}function l(e){const t=e.definition,{classificationMethod:n,breakCount:i,normalizationType:l,definedInterval:s}=t,u=[];let c=e.values;if(0===c.length)return[];c=c.sort(((e,t)=>e-t));const d=c[0],f=c[c.length-1];if("equal-interval"===n)if(c.length>=i){const e=(f-d)/i;let t=d;for(let n=1;n<i;n++){const i=r(d+n*e,6);u.push({minValue:t,maxValue:i,label:a(t,i,l)}),t=i}u.push({minValue:t,maxValue:f,label:a(t,f,l)})}else c.forEach((e=>{u.push({minValue:e,maxValue:e,label:a(e,e,l)})}));else if("natural-breaks"===n){const t=function(e){const t=[],n=[];let i=Number.MIN_VALUE,r=1,l=-1;for(let a=0;a<e.length;a++){const o=e[a];o===i?(r++,n[l]=r):null!==o&&(t.push(o),i=o,r=1,n.push(r),l++)}return{uniqueValues:t,valueFrequency:n}}(c),n=e.valueFrequency||t.valueFrequency,s=o(t.uniqueValues,n,i);let m=d;for(let e=1;e<i;e++)if(t.uniqueValues.length>e){const n=r(t.uniqueValues[s[e]],6);u.push({minValue:m,maxValue:n,label:a(m,n,l)}),m=n}u.push({minValue:m,maxValue:f,label:a(m,f,l)})}else if("quantile"===n)if(c.length>=i&&d!==f){let e=d,t=Math.ceil(c.length/i),n=0;for(let r=1;r<i;r++){let o=t+n-1;o>c.length&&(o=c.length-1),o<0&&(o=0),u.push({minValue:e,maxValue:c[o],label:a(e,c[o],l)}),e=c[o],n+=t,t=Math.ceil((c.length-n)/(i-r))}u.push({minValue:e,maxValue:f,label:a(e,f,l)})}else{let e=-1;for(let t=0;t<c.length;t++){const n=c[t];n!==e&&(e=n,u.push({minValue:e,maxValue:n,label:a(e,n,l)}),e=n)}}else if("standard-deviation"===n){const e=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/=e.length,t}(c),t=function(e,t){let n=0;for(let i=0;i<e.length;i++){const r=e[i];n+=(r-t)*(r-t)}return n/=e.length,Math.sqrt(n)}(c,e);if(0===t)u.push({minValue:c[0],maxValue:c[0],label:a(c[0],c[0],l)});else{const n=function(e,t,n,i,r){let l=Math.max(i-e,t-i)/r/n;return l=l>=1?1:l>=.5?.5:.25,l}(d,f,i,e,t)*t;let o=0,s=d;for(let t=i;t>=1;t--){const i=r(e-(t-.5)*n,6);u.push({minValue:s,maxValue:i,label:a(s,i,l)}),s=i,o++}let c=r(e+.5*n,6);u.push({minValue:s,maxValue:c,label:a(s,c,l)}),s=c,o++;for(let t=1;t<=i;t++)c=o===2*i?f:r(e+(t+.5)*n,6),u.push({minValue:s,maxValue:c,label:a(s,c,l)}),s=c,o++}}else if("defined-interval"===n){if(!s)return u;const e=c[0],t=c[c.length-1],n=Math.ceil((t-e)/s);let i=e;for(let t=1;t<n;t++){const n=r(e+t*s,6);u.push({minValue:i,maxValue:n,label:a(i,n,l)}),i=n}u.push({minValue:i,maxValue:t,label:a(i,t,l)})}return u}function a(e,t,n){let i=null;return i=e===t?n&&"percent-of-total"===n?e+"%":e.toString():n&&"percent-of-total"===n?e+"% - "+t+"%":e+" - "+t,i}function o(e,t,n){const i=e.length,r=[];n>i&&(n=i);for(let e=0;e<n;e++)r.push(Math.round(e*i/n-1));r.push(i-1);let l=s(r,e,t,n);return function(e,t,n,i,r,l){let a=0,o=0,s=0,c=0,d=!0;for(let f=0;f<2&&d;f++){0===f&&(d=!1);for(let f=0;f<l-1;f++)for(;n[f+1]+1!==n[f+2];){n[f+1]=n[f+1]+1;const l=u(f,n,i,r);s=l.sbMean,a=l.sbSdcm;const m=u(f+1,n,i,r);if(c=m.sbMean,o=m.sbSdcm,!(a+o<t[f]+t[f+1])){n[f+1]=n[f+1]-1;break}t[f]=a,t[f+1]=o,e[f]=s,e[f+1]=c,d=!0}for(let f=l-1;f>0;f--)for(;n[f]!==n[f-1]+1;){n[f]=n[f]-1;const l=u(f-1,n,i,r);s=l.sbMean,a=l.sbSdcm;const m=u(f,n,i,r);if(c=m.sbMean,o=m.sbSdcm,!(a+o<t[f-1]+t[f])){n[f]=n[f]+1;break}t[f-1]=a,t[f]=o,e[f-1]=s,e[f]=c,d=!0}}return d}(l.mean,l.sdcm,r,e,t,n)&&(l=s(r,e,t,n)),r}function s(e,t,n,i){let r=[],l=[],a=[],o=0;const s=[],c=[];for(let r=0;r<i;r++){const i=u(r,e,t,n);s.push(i.sbMean),c.push(i.sbSdcm),o+=c[r]}let d,f=o,m=!0;for(;m||o<f;){m=!1,r=[];for(let t=0;t<i;t++)r.push(e[t]);for(let n=0;n<i;n++)for(let r=e[n]+1;r<=e[n+1];r++)if(d=t[r],n>0&&r!==e[n+1]&&Math.abs(d-s[n])>Math.abs(d-s[n-1]))e[n]=r;else if(n<i-1&&e[n]!==r-1&&Math.abs(d-s[n])>Math.abs(d-s[n+1])){e[n+1]=r-1;break}f=o,o=0,l=[],a=[];for(let r=0;r<i;r++){l.push(s[r]),a.push(c[r]);const i=u(r,e,t,n);s[r]=i.sbMean,c[r]=i.sbSdcm,o+=c[r]}}if(o>f){for(let t=0;t<i;t++)e[t]=r[t],s[t]=l[t],c[t]=a[t];o=f}return{mean:s,sdcm:c}}function u(e,t,n,i){let r=0,l=0;for(let a=t[e]+1;a<=t[e+1];a++){const e=i[a];r+=n[a]*e,l+=e}l<=0&&console.log("Exception in Natural Breaks calculation");const a=r/l;let o=0;for(let r=t[e]+1;r<=t[e+1];r++)o+=i[r]*(n[r]-a)**2;return{sbMean:a,sbSdcm:o}}const c=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,d=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),f=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function m(e){const t=null!=e.normalizationField||null!=e.normalizationType,n=null!=e.minValue||null!=e.maxValue,i=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!n&&!i}function p(e){const t=e.returnDistinct?[...new Set(e.values)]:e.values,n=t.filter((e=>null!=e)).length,i={count:n};return e.supportsNullCount&&(i.nullcount=t.length-n),e.percentileParams&&(i.median=h(t,e.percentileParams)),i}function y(e){const{values:t,useSampleStdDev:n,supportsNullCount:i}=e;let r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,a=null,o=null,s=null,u=null,c=0;const d=null==e.minValue?-1/0:e.minValue,f=null==e.maxValue?1/0:e.maxValue;for(const e of t)Number.isFinite(e)?e>=d&&e<=f&&(a+=e,r=Math.min(r,e),l=Math.max(l,e),c++):"string"==typeof e&&c++;if(c&&null!=a){o=a/c;let e=0;for(const n of t)Number.isFinite(n)&&n>=d&&n<=f&&(e+=(n-o)**2);u=n?c>1?e/(c-1):0:c>0?e/c:0,s=Math.sqrt(u)}else r=null,l=null;const m={avg:o,count:c,max:l,min:r,stddev:s,sum:a,variance:u};return i&&(m.nullcount=t.length-c),e.percentileParams&&(m.median=h(t,e.percentileParams)),m}function h(e,t){const{fieldType:n,value:i,orderBy:r,isDiscrete:l}=t,a=v(n,"desc"===r);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,t)=>a(e,t)))).length)return null;if(i<=0)return e[0];if(i>=1)return e[e.length-1];const o=(e.length-1)*i,s=Math.floor(o),u=s+1,c=o%1,d=e[s],f=e[u];return u>=e.length||l||"string"==typeof d||"string"==typeof f?d:d*(1-c)+f*c}function v(e,t){const n=t?1:-1,i=function(e){return e?(e,t)=>t-e:(e,t)=>e-t}(t),r=b(t);if(!e||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...d].includes(e))return(e,t)=>"number"==typeof e&&"number"==typeof t?i(e,t):"string"==typeof e&&"string"==typeof t?r(e,t):n;if("esriFieldTypeDate"===e)return(e,t)=>{const r=new Date(e).getTime(),l=new Date(t).getTime();return isNaN(r)||isNaN(l)?n:i(r,l)};if(d.has(e))return(e,t)=>i(e,t);if("esriFieldTypeString"===e)return(e,t)=>r(e,t);if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e){const e=b(t);return(t,n)=>e(g(t),g(n))}return t?(e,t)=>1:(e,t)=>-1}function b(e){return e?(e,t)=>(e=e.toUpperCase())>(t=t.toUpperCase())?-1:e<t?1:0:(e,t)=>(e=e.toUpperCase())<(t=t.toUpperCase())?-1:e>t?1:0}function g(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function F(e,t){let n;for(n in e)f.indexOf(n)>-1&&(Number.isFinite(e[n])||(e[n]=null));return t?(["avg","stddev","variance"].forEach((t=>{null!=e[t]&&(e[t]=Math.ceil(e[t]))})),e):e}function V(e){const t={};for(let n of e)(null==n||"string"==typeof n&&""===n.trim())&&(n=null),null==t[n]?t[n]={count:1,data:n}:t[n].count++;return{count:t}}function T(e,t,n){const i=e.count,r=[];n&&t&&"coded-value"===t.type&&t.codedValues.forEach((e=>{const t=e.code;i.hasOwnProperty(t)||(i[t]={data:t,count:0})}));for(const e in i){const t=i[e];r.push({value:t.data,count:t.count,label:t.label})}return{uniqueValueInfos:r}}function S(e,t,n,i){let r=null;switch(t){case"log":0!==e&&(r=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(i)&&0!==i&&(r=e/i*100);break;case"field":Number.isFinite(n)&&0!==n&&(r=e/n);break;case"natural-log":e>0&&(r=Math.log(e));break;case"square-root":e>0&&(r=e**.5)}return r}function w(e,t){const n=function(e){const t=e.field,n=e.classificationMethod||"equal-interval",r=e.normalizationType,l=e.normalizationField,a=new i.Z;return a.classificationField=t,a.breakCount=e.breakCount,a.classificationMethod=n,a.standardDeviationInterval="standard-deviation"===n?e.standardDeviationInterval||1:void 0,a.normalizationType=r,a.normalizationField="field"===r?l:void 0,a}({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||5});return e=function(e,t,n){return t=null==t?-1/0:t,n=null==n?1/0:n,e.filter((e=>Number.isFinite(e)&&e>=t&&e<=n))}(e,t.minValue,t.maxValue),function(e){const{normalizationTotal:t}=e;return{classBreaks:l(e),normalizationTotal:t}}({definition:n,values:e,normalizationTotal:t.normalizationTotal})}function _(e,t){let n=e.classBreaks;const i=n.length,r=n[0].minValue,l=n[i-1].maxValue,a="standard-deviation"===t,o=c;return n=n.map((e=>{const t=e.label,n={minValue:e.minValue,maxValue:e.maxValue,label:t};if(a&&t){const e=t.match(o).map((e=>+e.trim()));2===e.length?(n.minStdDev=e[0],n.maxStdDev=e[1],e[0]<0&&e[1]>0&&(n.hasAvg=!0)):1===e.length&&(t.includes("<")?(n.minStdDev=null,n.maxStdDev=e[0]):t.includes(">")&&(n.minStdDev=e[0],n.maxStdDev=null))}return n})),{minValue:r,maxValue:l,classBreakInfos:n,normalizationTotal:e.normalizationTotal}}},59266:(e,t,n)=>{n.d(t,{mz:()=>c,pp:()=>u,WW:()=>o,Yi:()=>s,LC:()=>a}),n(66577);var i=n(70586),r=n(82971);let l;function a(){return l||(l=(async()=>{const e=await Promise.all([n.e(9490),n.e(6690)]).then(n.bind(n,96690));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),l}const o=(e,t,n)=>c.create(e,t,n,null,["$feature"]),s=(e,t,n)=>c.create(e,t,n,null,["$feature","$view"]),u=(e,t,n,i)=>c.create(e,t,n,i,["$feature","$view"]);class c{constructor(e,t,n,i,r,l,a,o){this.script=e,this.evaluate=r;const s=Array.isArray(a)?a:a.fields;this.fields=s,this._syntaxTree=i,this._arcade=t,this._arcadeDictionary=n,this._arcadeFeature=l,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,n,l,o,s){const{arcade:u,Feature:d,Dictionary:f}=await a(),m=r.Z.fromJSON(t),p=u.parseScript(e,s),y=o.reduce(((e,t)=>({...e,[t]:null})),{});let h=null;(0,i.pC)(l)&&(h=new f(l),h.immutable=!0,y.$config=null);const v=u.scriptUsesGeometryEngine(p)&&u.enableGeometrySupport(),b=u.scriptUsesFeatureSet(p)&&u.enableFeatureSetSupport(),g=u.scriptIsAsync(p)&&u.enableAsyncSupport(),F={vars:y,spatialReference:m,useAsync:!!g},V=new f;V.immutable=!1,V.setField("scale",0);const T=u.compileScript(p,F);return await Promise.all([v,b,g]),new c(e,u,f,p,(e=>("$view"in e&&e.$view&&(V.setField("scale",e.$view.scale),e.$view=V),h&&(e.$config=h),T({vars:e,spatialReference:m}))),new d,n,m)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},89164:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(43697),r=n(22303),l=n(35454),a=n(10736),o=n(5600),s=(n(67676),n(80442),n(75215),n(71715)),u=n(52011);const c=new l.Xn({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let d=0,f=class extends a.wq{constructor(e){super(e),this.id="sym"+d++,this.type=null}set color(e){this._set("color",e)}readColor(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,i._)([(0,o.Cb)({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],f.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:r.Z,value:new r.Z([0,0,0,1]),json:{write:{allowNull:!0}}})],f.prototype,"color",null),(0,i._)([(0,s.r)("color")],f.prototype,"readColor",null),f=(0,i._)([(0,u.j)("esri.symbols.Symbol")],f);const m=f}}]);