"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3812],{38171:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(66577),l=r(51773),n=r(78223),a=r(10736),p=r(22974),u=r(70586),d=r(99001),c=r(5600),h=(r(75215),r(52011)),y=r(33955);let m=s=class extends a.wq{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,d.D)(),configurable:!0})}normalizeCtorArgs(e,t,r,s){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:s}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&(0,u.pC)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:(0,u.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,u.pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new s(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:(0,p.d9)(this.attributes),geometry:(0,p.d9)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:(0,p.d9)(this.symbol),visible:this.visible}}_notifyLayer(e,t,r,s){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(i.attributeName=s),this.layer.graphicChanged(i)}};(0,i._)([(0,c.Cb)({value:null})],m.prototype,"attributes",null),(0,i._)([(0,c.Cb)({value:null,types:o.qM,json:{read:y.im}})],m.prototype,"geometry",null),(0,i._)([(0,c.Cb)({type:Boolean})],m.prototype,"isAggregate",void 0),(0,i._)([(0,c.Cb)()],m.prototype,"layer",void 0),(0,i._)([(0,c.Cb)({type:l.Z})],m.prototype,"popupTemplate",void 0),(0,i._)([(0,c.Cb)()],m.prototype,"sourceLayer",void 0),(0,i._)([(0,c.Cb)({value:null,types:n.LB})],m.prototype,"symbol",null),(0,i._)([(0,c.Cb)({type:Boolean,value:!0})],m.prototype,"visible",null),m=s=(0,i._)([(0,h.j)("esri.Graphic")],m),(m||(m={})).generateUID=d.D;const b=m},51773:(e,t,r)=>{r.d(t,{Z:()=>Y});var s=r(43697),i=r(81049),o=r(10736),l=r(22974),n=r(92604),a=r(95330),p=r(5600),u=r(90578),d=r(71715),c=r(52011),h=r(30556),y=r(75215),m=r(35671),b=r(84649),f=r(63801),v=r(48074),g=r(9190),_=r(10214),w=r(44951);const C={base:null,key:"type",typeMap:{attachment:b.Z,media:_.Z,text:w.Z,field:g.Z}};var S,x=r(11223),j=r(422);r(67676),r(80442);let Z=S=class extends o.wq{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new S({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,s._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"returnTopmostRaster",void 0),(0,s._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"showNoDataRecords",void 0),Z=S=(0,s._)([(0,c.j)("esri.popup.LayerOptions")],Z);const V=Z;var I,O=r(44729);let z=I=class extends o.wq{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new I({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,l.d9)(this.orderByFields):null})}};(0,s._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],z.prototype,"showRelatedRecords",void 0),(0,s._)([(0,p.Cb)({type:[O.Z],json:{write:!0}})],z.prototype,"orderByFields",void 0),z=I=(0,s._)([(0,c.j)("esri.popup.RelatedRecordsInfo")],z);const F=z;var N,L=r(79742),D=r(15923),T=r(10699);let E=N=class extends((0,T.I)(D.Z)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new N({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,s._)([(0,p.Cb)()],E.prototype,"active",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"className",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"disabled",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"id",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"indicator",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"title",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"type",void 0),(0,s._)([(0,p.Cb)()],E.prototype,"visible",void 0),E=N=(0,s._)([(0,c.j)("esri.support.actions.ActionBase")],E);const M=E;var q;let P=q=class extends M{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new q({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,s._)([(0,p.Cb)()],P.prototype,"image",void 0),P=q=(0,s._)([(0,c.j)("esri.support.Action.ActionButton")],P);const k=P;var A;let U=A=class extends M{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new A({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,s._)([(0,p.Cb)()],U.prototype,"image",void 0),(0,s._)([(0,p.Cb)()],U.prototype,"value",void 0),U=A=(0,s._)([(0,c.j)("esri.support.Action.ActionToggle")],U);const R=U;var $;const B=i.Z.ofType({key:"type",defaultKeyValue:"button",base:M,typeMap:{button:k,toggle:R}}),J={base:f.Z,key:"type",typeMap:{media:_.Z,custom:v.Z,text:w.Z,attachments:b.Z,fields:g.Z}},H="esri.PopupTemplate",G=n.Z.getLogger(H),W=["attachments","fields","media","text"];let Q=$=class extends o.wq{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map((e=>(0,y.N7)(J,e))):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||(0,a.y8)(e)?e:(G.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,s){"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((e=>-1!==W.indexOf(e.type))).map((e=>e&&e.toJSON(s))),t.popupElements.forEach((e=>{"attachments"===e.type?this._writeAttachmentContent(t):"media"===e.type?this._writeMediaContent(e,t):"text"===e.type&&this._writeTextContent(e,t)}))):t.description=e}writeFieldInfos(e,t,r,s){const{content:i}=this,o=Array.isArray(i)?i:null;if(e){const r=o?o.filter((e=>"fields"===e.type)):[],i=r.length&&r.every((e=>{var t;return null==(t=e.fieldInfos)?void 0:t.length}));t.fieldInfos=e.filter(Boolean).map((e=>{const t=e.toJSON(s);return i&&(t.visible=!1),t}))}if(o)for(const e of o)"fields"===e.type&&this._writeFieldsContent(e,t)}writeLayerOptions(e,t,r,s){t[r]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(s)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?(0,l.d9)(e.toArray()):[];return new $({actions:t,content:Array.isArray(this.content)?(0,l.d9)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,l.d9)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,l.d9)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,l.d9)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,l.d9)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,l.d9)(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){await this._collectExpressionInfoFields(e,t,this.expressionInfos),(0,m.gd)(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=(0,l.d9)(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach((e=>{const r=t.fieldInfos.find((t=>t.fieldName.toLowerCase()===e.fieldName.toLowerCase()));r?r.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=(0,l.d9)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const s={description:!1,mediaInfos:!1};return r.map((r=>"media"===r.type?(r.mediaInfos||!t||s.mediaInfos||(r.mediaInfos=t,s.mediaInfos=!0),_.Z.fromJSON(r)):"text"===r.type?(r.text||!e||s.description||(r.text=e,s.description=!0),w.Z.fromJSON(r)):"attachments"===r.type?b.Z.fromJSON(r):"fields"===r.type?g.Z.fromJSON(r):void 0)).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const s=[];return e?s.push(new w.Z({text:e})):s.push(new g.Z),Array.isArray(t)&&t.length&&s.push(_.Z.fromJSON({mediaInfos:t})),r&&s.push(b.Z.fromJSON({displayType:"list"})),s.length?s:e}_getContentElementFields(e){return e&&"attachments"!==e.type?"custom"===e.type?e.outFields||[]:"fields"===e.type?this._getFieldInfoFields(e.fieldInfos||this.fieldInfos):"media"===e.type?(e.mediaInfos||[]).reduce(((e,t)=>[...e,...this._getMediaInfoFields(t)]),[]):"text"===e.type?this._extractFieldNames(e.text):void 0:[]}_getMediaInfoFields(e){const{caption:t,title:r,value:s}=e,i=s||{},{fields:o=[],normalizeField:l,tooltipField:n,sourceURL:a,linkURL:p}=i,u=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(a),...this._extractFieldNames(p),...o];return l&&u.push(l),n&&u.push(n),u}_getContentFields(e){return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((e,t)=>[...e,...this._getContentElementFields(t)]),[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map((r=>(0,m.io)(e,t,r.expression))))}_getFieldInfoFields(e){return e?e.filter((e=>void 0===e.visible||!!e.visible)).map((e=>e.fieldName)).filter((e=>-1===e.indexOf("relationships/")&&-1===e.indexOf("expression/"))):[]}_getActionsFields(e){return e?e.toArray().reduce(((e,t)=>[...e,...this._getActionFields(t)]),[]):[]}_getActionFields(e){const{className:t,title:r,type:s}=e,i="button"===s||"toggle"===s?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return"string"==typeof e?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||"string"!=typeof e)return[];const t=e.match(/{[^}]*}/g);if(!t)return[];const r=/\{(\w+):.+\}/,s=t.filter((e=>!(0===e.indexOf("{relationships/")||0===e.indexOf("{expression/")))).map((e=>e.replace(r,"{$1}")));return s?s.map((e=>e.slice(1,-1))):[]}};(0,s._)([(0,p.Cb)({type:B})],Q.prototype,"actions",void 0),(0,s._)([(0,p.Cb)()],Q.prototype,"content",void 0),(0,s._)([(0,u.p)("content")],Q.prototype,"castContent",null),(0,s._)([(0,d.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Q.prototype,"readContent",null),(0,s._)([(0,h.c)("content",{popupElements:{type:i.Z.ofType(C)},showAttachments:{type:Boolean},mediaInfos:{type:i.Z.ofType(L.V)},description:{type:String}})],Q.prototype,"writeContent",null),(0,s._)([(0,p.Cb)({type:[x.Z],json:{write:!0}})],Q.prototype,"expressionInfos",void 0),(0,s._)([(0,p.Cb)({type:[j.Z]})],Q.prototype,"fieldInfos",void 0),(0,s._)([(0,h.c)("fieldInfos")],Q.prototype,"writeFieldInfos",null),(0,s._)([(0,p.Cb)({type:V})],Q.prototype,"layerOptions",void 0),(0,s._)([(0,h.c)("layerOptions")],Q.prototype,"writeLayerOptions",null),(0,s._)([(0,p.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Q.prototype,"lastEditInfoEnabled",void 0),(0,s._)([(0,p.Cb)()],Q.prototype,"outFields",void 0),(0,s._)([(0,p.Cb)()],Q.prototype,"overwriteActions",void 0),(0,s._)([(0,p.Cb)()],Q.prototype,"returnGeometry",void 0),(0,s._)([(0,p.Cb)({json:{type:String}})],Q.prototype,"title",void 0),(0,s._)([(0,h.c)("title")],Q.prototype,"writeTitle",null),(0,s._)([(0,p.Cb)({type:F,json:{write:!0}})],Q.prototype,"relatedRecordsInfo",void 0),Q=$=(0,s._)([(0,c.j)(H)],Q);const Y=Q},6352:(e,t,r)=>{r.d(t,{a:()=>c});var s,i=r(43697),o=r(22303),l=r(10736),n=r(22974),a=r(5600),p=(r(75215),r(52011)),u=r(37308);let d=s=class extends l.wq{constructor(){super(...arguments),this.color=new o.Z("white")}clone(){return new s({color:(0,n.d9)(this.color)})}};(0,i._)([(0,a.Cb)(u.a)],d.prototype,"color",void 0),d=s=(0,i._)([(0,p.j)("esri.symbols.callouts.LineCallout3DBorder")],d);const c=d;Object.freeze({__proto__:null,get LineCallout3DBorder(){return d},default:c})},10699:(e,t,r)=>{r.d(t,{I:()=>l});var s=r(43697),i=r(52011);let o=0;const l=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return t=(0,s._)([(0,i.j)("esri.core.Identifiable")],t),t};let n=class extends(l(class{})){};n=(0,s._)([(0,i.j)("esri.core.Identifiable")],n)},13867:(e,t,r)=>{r.d(t,{Z:()=>i});var s=r(69801);class i{constructor(e,t){this._storage=new s.WJ,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t,r){this._storage.put(e,t,r,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}}},83379:(e,t,r)=>{r.d(t,{Z:()=>y});var s=r(43697),i=r(20102),o=r(609),l=r(95330),n=r(20941),a=r(5600),p=r(52011);const u="loaded",d=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const s=new Promise(((e,t)=>{const s=(0,l.$F)(r,t);this.destroyed&&t(new i.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally((()=>{s&&s.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal}),(0,l.fu)(e.signal,(()=>{this._promiseProps.abort()}))}return e(),s}}))),this.when((()=>{this._set("loadStatus",u),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}get loaded(){return this.loadStatus===u}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new i.Z("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}};return(0,s._)([(0,a.Cb)({readOnly:!0})],t.prototype,"loaded",null),(0,s._)([(0,a.Cb)({readOnly:!0})],t.prototype,"loadError",void 0),(0,s._)([(0,a.Cb)()],t.prototype,"loadStatus",void 0),(0,s._)([(0,a.Cb)({type:[n.Z],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,s._)([(0,p.j)("esri.core.Loadable")],t),t};let c=class extends(d(o.D)){};var h;c=(0,s._)([(0,p.j)("esri.core.Loadable")],c),(h=c||(c={})).LoadableMixin=d,h.isLoadable=function(e){return!(!e||!e.load)};const y=c},609:(e,t,r)=>{r.d(t,{D:()=>u,v:()=>p});var s=r(43697),i=r(15923),o=r(70586),l=r(95330),n=r(52011);class a{constructor(e){this.instance=e,this._resolver=(0,l.dD)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=1,this._cleanUp()}),(()=>{this._status=2,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject((0,l.zE)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,l.dD)(),t=[...this._resolvingPromises,(0,o.j0)(e.promise)],r=this._allPromise=Promise.all(t);r.then((()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==r||(0,l.D_)(e)||this._resolver.reject(e)})),e.resolve()}}const p=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new a(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,s._)([(0,n.j)("esri.core.Promise")],t),t};let u=class extends(p(i.Z)){};u=(0,s._)([(0,n.j)("esri.core.Promise")],u)},44422:(e,t,r)=>{r.d(t,{B:()=>i});var s=r(5600);function i(e,t){const r=t?{...t,source:e}:e;return(0,s.Cb)({aliasOf:r})}},70921:(e,t,r)=>{r.d(t,{R:()=>o,Z:()=>i});var s=r(81049);function i(e,t,r=s.Z){return t||(t=new r),t===e||(t.removeAll(),(i=e)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?t.addMany(e):e&&t.add(e)),t;var i}function o(e){return e}},74085:(e,t,r)=>{function s(e){}r.d(t,{Bg:()=>s}),r(80442)},32243:(e,t,r)=>{r.d(t,{pJ:()=>o,XO:()=>i});var s=r(16358);function i(e){return e=e||s.Z.location.hostname,u.some((t=>{var r;return null!=(null==(r=e)?void 0:r.match(t))}))}function o(e,t){return e&&(t=t||s.Z.location.hostname)?null!=t.match(l)||null!=t.match(a)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(n)||null!=t.match(p)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}const l=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,a=/^[\w-]*\.mapsdevext.arcgis.com$/,p=/^[\w-]*\.mapsqa.arcgis.com$/,u=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,l,n,/^jsapps.esri.com$/,a,p]},62357:(e,t,r)=>{r.d(t,{vW:()=>n,F2:()=>i,Wz:()=>o,t_:()=>l});const s=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function i(e){return e?e/72*96:0}function o(e){return e?72*e/96:0}function l(e){if("string"==typeof e){if(s.test(e)){const t=e.match(s),r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),l="-"===e.charAt(0),n="px"===i?o(r):r;return l?-n:n}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function n(e=0,t=0){return{x:e,y:t}}},11223:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011));let a=s=class extends o.wq{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new s({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],a.prototype,"name",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],a.prototype,"title",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],a.prototype,"expression",void 0),(0,i._)([(0,l.Cb)({type:["string","number"],json:{write:!0}})],a.prototype,"returnType",void 0),a=s=(0,i._)([(0,n.j)("esri.popup.ExpressionInfo")],a);const p=a},422:(e,t,r)=>{r.d(t,{Z:()=>h});var s,i=r(43697),o=r(35454),l=r(10736),n=r(22974),a=r(5600),p=(r(75215),r(36030)),u=r(52011),d=r(63061);let c=s=class extends l.wq{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new s({fieldName:this.fieldName,format:this.format?(0,n.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0),(0,i._)([(0,a.Cb)({type:d.Z,json:{write:!0}})],c.prototype,"format",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0,default:!1}})],c.prototype,"isEditable",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,i._)([(0,p.J)(new o.Xn({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],c.prototype,"stringFieldOption",void 0),(0,i._)([(0,a.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],c.prototype,"statisticType",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"visible",void 0),c=s=(0,i._)([(0,u.j)("esri.popup.FieldInfo")],c);const h=c},84649:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(63801);let a=s=class extends n.Z{constructor(e){super(e),this.description=null,this.displayType=null,this.title=null,this.type="attachments"}clone(){return new s({description:this.description,displayType:this.displayType,title:this.title})}};(0,i._)([(0,o.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],a.prototype,"description",void 0),(0,i._)([(0,o.Cb)({type:["preview","list"],json:{write:!0}})],a.prototype,"displayType",void 0),(0,i._)([(0,o.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],a.prototype,"title",void 0),(0,i._)([(0,o.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=s=(0,i._)([(0,l.j)("esri.popup.content.AttachmentsContent")],a);const p=a},41463:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(50379),a=r(87102);let p=s=class extends n.Z{constructor(e){super(e),this.type="bar-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,i._)([(0,o.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:a.l.write}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,l.j)("esri.popup.content.BarChartMediaInfo")],p);const u=p},87131:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(50379),a=r(87102);let p=s=class extends n.Z{constructor(e){super(e),this.type="column-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,i._)([(0,o.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:a.l.write}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,l.j)("esri.popup.content.ColumnChartMediaInfo")],p);const u=p},63801:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(43697),i=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011));let n=class extends i.wq{constructor(e){super(e),this.type=null}};(0,s._)([(0,o.Cb)({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],n.prototype,"type",void 0),n=(0,s._)([(0,l.j)("esri.popup.content.Content")],n);const a=n},48074:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(22974),l=r(5600),n=(r(75215),r(52011)),a=r(63801);let p=s=class extends a.Z{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new s({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,o.d9)(this.outFields):null})}};(0,i._)([(0,l.Cb)()],p.prototype,"creator",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"destroyer",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"outFields",void 0),(0,i._)([(0,l.Cb)({type:["custom"],readOnly:!0})],p.prototype,"type",void 0),p=s=(0,i._)([(0,n.j)("esri.popup.content.CustomContent")],p);const u=p},9190:(e,t,r)=>{r.d(t,{Z:()=>c});var s,i=r(43697),o=r(22974),l=r(5600),n=(r(75215),r(52011)),a=r(30556),p=r(422),u=r(63801);let d=s=class extends u.Z{constructor(e){super(e),this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((e=>e.toJSON()))}clone(){return new s({description:this.description,fieldInfos:Array.isArray(this.fieldInfos)?(0,o.d9)(this.fieldInfos):null,title:this.title})}};(0,i._)([(0,l.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"description",void 0),(0,i._)([(0,l.Cb)({type:[p.Z]})],d.prototype,"fieldInfos",void 0),(0,i._)([(0,a.c)("fieldInfos")],d.prototype,"writeFieldInfos",null),(0,i._)([(0,l.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"title",void 0),(0,i._)([(0,l.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0),d=s=(0,i._)([(0,n.j)("esri.popup.content.FieldsContent")],d);const c=d},13151:(e,t,r)=>{r.d(t,{Z:()=>h});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(35320),a=r(10736);let p=s=class extends a.wq{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new s({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],p.prototype,"linkURL",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],p.prototype,"sourceURL",void 0),p=s=(0,i._)([(0,l.j)("esri.popup.content.support.ImageMediaInfoValue")],p);const u=p;var d;let c=d=class extends n.Z{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,i._)([(0,o.Cb)({type:Number,json:{write:!0}})],c.prototype,"refreshInterval",void 0),(0,i._)([(0,o.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:u,json:{write:!0}})],c.prototype,"value",void 0),c=d=(0,i._)([(0,l.j)("esri.popup.content.ImageMediaInfo")],c);const h=c},55869:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(50379),a=r(87102);let p=s=class extends n.Z{constructor(e){super(e),this.type="line-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,i._)([(0,o.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:a.l.write}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,l.j)("esri.popup.content.LineChartMediaInfo")],p);const u=p},10214:(e,t,r)=>{r.d(t,{Z:()=>v});var s,i=r(43697),o=r(22974),l=r(5600),n=(r(75215),r(71715)),a=r(52011),p=r(30556),u=r(41463),d=r(87131),c=r(63801),h=r(13151),y=r(55869),m=r(13353),b=r(79742);let f=s=class extends c.Z{constructor(e){super(e),this.activeMediaInfoIndex=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((e=>"image"===e.type?h.Z.fromJSON(e):"barchart"===e.type?u.Z.fromJSON(e):"columnchart"===e.type?d.Z.fromJSON(e):"linechart"===e.type?y.Z.fromJSON(e):"piechart"===e.type?m.Z.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((e=>e.toJSON()))}clone(){return new s({activeMediaInfoIndex:this.activeMediaInfoIndex,description:this.description,mediaInfos:this.mediaInfos?(0,o.d9)(this.mediaInfos):null,title:this.title})}};(0,i._)([(0,l.Cb)()],f.prototype,"activeMediaInfoIndex",void 0),(0,i._)([(0,l.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"description",void 0),(0,i._)([(0,l.Cb)({types:[b.V]})],f.prototype,"mediaInfos",void 0),(0,i._)([(0,n.r)("mediaInfos")],f.prototype,"readMediaInfos",null),(0,i._)([(0,p.c)("mediaInfos")],f.prototype,"writeMediaInfos",null),(0,i._)([(0,l.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],f.prototype,"title",void 0),(0,i._)([(0,l.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0),f=s=(0,i._)([(0,a.j)("esri.popup.content.MediaContent")],f);const v=f},13353:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(50379),a=r(87102);let p=s=class extends n.Z{constructor(e){super(e),this.type="pie-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,i._)([(0,o.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:a.l.write}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,l.j)("esri.popup.content.PieChartMediaInfo")],p);const u=p},44951:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(63801);let a=s=class extends n.Z{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new s({text:this.text})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],a.prototype,"text",void 0),(0,i._)([(0,o.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=s=(0,i._)([(0,l.j)("esri.popup.content.TextContent")],a);const p=a},50379:(e,t,r)=>{r.d(t,{Z:()=>f});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(35320),a=r(10736),p=r(22974),u=r(15923);let d=s=class extends u.Z{constructor(e){super(e),this.tooltip=null,this.value=null}clone(){return new s({tooltip:this.tooltip,value:this.value})}};(0,i._)([(0,o.Cb)()],d.prototype,"tooltip",void 0),(0,i._)([(0,o.Cb)()],d.prototype,"value",void 0),d=s=(0,i._)([(0,l.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],d);const c=d;var h;let y=h=class extends a.wq{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new h({fields:(0,p.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,i._)([(0,o.Cb)({type:[String],json:{write:!0}})],y.prototype,"fields",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],y.prototype,"normalizeField",void 0),(0,i._)([(0,o.Cb)({type:[c],json:{read:!1}})],y.prototype,"series",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],y.prototype,"tooltipField",void 0),y=h=(0,i._)([(0,l.j)("esri.popup.content.support.ChartMediaInfoValue")],y);const m=y;let b=class extends n.Z{constructor(e){super(e),this.type=null,this.value=null}};(0,i._)([(0,o.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:m,json:{write:!0}})],b.prototype,"value",void 0),b=(0,i._)([(0,l.j)("esri.popup.content.mixins.ChartMediaInfo")],b);const f=b},35320:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(43697),i=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011));let n=class extends i.wq{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],n.prototype,"altText",void 0),(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],n.prototype,"caption",void 0),(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],n.prototype,"title",void 0),(0,s._)([(0,o.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],n.prototype,"type",void 0),n=(0,s._)([(0,l.j)("esri.popup.content.mixins.MediaInfo")],n);const a=n},87102:(e,t,r)=>{r.d(t,{l:()=>s});const s=(0,r(35454).wY)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},79742:(e,t,r)=>{r.d(t,{V:()=>a});var s=r(41463),i=r(87131),o=r(13151),l=r(55869),n=r(13353);const a={base:r(35320).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":s.Z,"column-chart":i.Z,"line-chart":l.Z,"pie-chart":n.Z,image:o.Z}}},63061:(e,t,r)=>{r.d(t,{Z:()=>y});var s=r(43697);const i=(0,r(35454).wY)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});i.toJSON.bind(i),i.fromJSON.bind(i);var o,l=r(10736),n=r(5600),a=(r(67676),r(80442),r(75215)),p=r(36030),u=r(52011),d=r(90344),c=r(18848);let h=o=class extends l.wq{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new o({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?(0,d.p6)(e,{...(0,d.Ze)(this.dateFormat),...this.dateTimeFormatOptions}):(0,c.uf)(e,(0,c.sh)(this))}};(0,s._)([(0,p.J)(i)],h.prototype,"dateFormat",void 0),(0,s._)([(0,n.Cb)({type:Object,json:{read:!1}})],h.prototype,"dateTimeFormatOptions",void 0),(0,s._)([(0,n.Cb)({type:Boolean,json:{write:!0}})],h.prototype,"digitSeparator",void 0),(0,s._)([(0,n.Cb)({type:a.z8,json:{write:!0}})],h.prototype,"places",void 0),h=o=(0,s._)([(0,u.j)("esri.popup.support.FieldInfoFormat")],h);const y=h},44729:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011));let a=s=class extends o.wq{constructor(e){super(e),this.field=null,this.order=null}clone(){return new s({field:this.field,order:this.order})}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],a.prototype,"field",void 0),(0,i._)([(0,l.Cb)({type:["asc","desc"],json:{write:!0}})],a.prototype,"order",void 0),a=s=(0,i._)([(0,n.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],a);const p=a},65587:(e,t,r)=>{r.d(t,{Z:()=>z});var s=r(43697),i=r(68773),o=(r(2587),r(40330)),l=r(3172),n=r(60235),a=r(20102),p=r(10736),u=r(83379),d=r(92604),c=r(70586),h=r(95330),y=r(5600),m=(r(67676),r(80442),r(75215)),b=r(71715),f=r(52011),v=r(6570),g=r(41253),_=r(15923);let w=class extends _.Z{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,s._)([(0,y.Cb)()],w.prototype,"nextQueryParams",void 0),(0,s._)([(0,y.Cb)()],w.prototype,"queryParams",void 0),(0,s._)([(0,y.Cb)()],w.prototype,"results",void 0),(0,s._)([(0,y.Cb)()],w.prototype,"total",void 0),w=(0,s._)([(0,f.j)("esri.portal.PortalQueryResult")],w);const C=w;var S,x=r(86082),j=r(71058),Z=r(70171);let V;const I={PortalGroup:()=>Promise.resolve().then(r.bind(r,68916)),PortalItem:()=>Promise.all([r.e(8778),r.e(6570),r.e(102),r.e(7779)]).then(r.bind(r,15235)),PortalUser:()=>Promise.resolve().then(r.bind(r,86082))};let O=S=class extends((0,p.eC)(u.Z)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)-1===i.Z.request.trustedServers.indexOf(t)&&i.Z.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return(0,n.Mr)(d.Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=x.default.fromJSON(e),t.portal=this),t}load(e){const t=Promise.all([r.e(8778),r.e(6570),r.e(102),r.e(3668)]).then(r.bind(r,93668)).then((({default:t})=>{(0,h.k_)(e),V=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(o.id){const e=o.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==S.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on("credential-create",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){(0,n.XV)(d.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(0,(await Promise.all([r.e(8778),r.e(6570),r.e(9928),r.e(102),r.e(265),r.e(7055)]).then(r.bind(r,17055))).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(8778),r.e(6570),r.e(9928),r.e(102),r.e(3485),r.e(1938),r.e(9932),r.e(2515)]).then(r.bind(r,49932))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){(0,n.XV)(d.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(0,(await Promise.all([r.e(8778),r.e(6570),r.e(9928),r.e(102),r.e(4470)]).then(r.bind(r,29554))).default)({url:e})}async createPrintTask(){(0,n.XV)(d.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(0,(await Promise.all([r.e(8778),r.e(6570),r.e(9928),r.e(102),r.e(265),r.e(6619)]).then(r.bind(r,16619))).default)(e)}async createRouteTask(){(0,n.XV)(d.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(0,(await Promise.all([r.e(8778),r.e(6570),r.e(9928),r.e(102),r.e(265),r.e(9489)]).then(r.bind(r,39489))).default)(e)}async createServiceAreaTask(){(0,n.XV)(d.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(0,(await Promise.all([r.e(8778),r.e(6570),r.e(9928),r.e(102),r.e(265),r.e(7039)]).then(r.bind(r,57039))).default)(e)}fetchBasemaps(e,t){const r=new g.Z;return r.query=e||(i.Z.apiKey&&(0,j.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){const s=e.results[0];return r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc",s.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>"Web Map"===e.type)).map((e=>new V({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,h.Hc)(e)?Promise.reject((0,h.zE)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new g.Z;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const e of t)s.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return(0,h.Hc)(e)?Promise.reject((0,h.zE)()):Promise.resolve([])}fetchRegions(e){const t=this.user&&this.user.culture||this.culture||(0,Z.Kd)();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}static getDefault(){return S._default&&!S._default.destroyed||(S._default=new S),S._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new a.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new S({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new a.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new a.Z("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i={authMode:e,query:{culture:(0,Z.Kd)().toLowerCase()},...r};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(s,i)}_queryPortal(e,t,r,s){const i=(0,m.se)(g.Z,t),o=t=>this._request(this.restUrl+e,{...i.toRequestOptions(this),...s}).then((e=>{const r=i.clone();return r.start=e.nextStart,new C({nextQueryParams:r,queryParams:i,total:e.total,results:S._resultsToTypedArray(t,{portal:this},e,s)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,h.r9)(t),e)))));return r&&I[r]?I[r]().then((({default:e})=>((0,h.k_)(s),o(e)))):o()}_signIn(){if(this.authMode===S.AUTH_MODE_ANONYMOUS)return Promise.reject(new a.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return o.id?o.id.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=S._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_readBasemap(e){if(e){const t=V.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r={f:"json",...t.query},{authMode:s=(this.authMode===S.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:i=null,cacheBust:o=!1,method:n="auto",responseType:a="json",signal:p}=t,u={authMode:s,body:i,cacheBust:o,method:n,query:r,responseType:a,timeout:0,signal:p};return(0,l.default)(this._normalizeSSL(e),u).then((e=>e.data))}static _resultsToTypedArray(e,t,r,s){let i;if(r){const o=(0,c.pC)(s)?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((r=>{const s=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof s.load&&s.load(o),s})))}else i=[];return i}};O.AUTH_MODE_ANONYMOUS="anonymous",O.AUTH_MODE_AUTO="auto",O.AUTH_MODE_IMMEDIATE="immediate",(0,s._)([(0,y.Cb)()],O.prototype,"access",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"allSSL",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"authMode",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"authorizedCrossOriginDomains",void 0),(0,s._)([(0,b.r)("authorizedCrossOriginDomains")],O.prototype,"readAuthorizedCrossOriginDomains",null),(0,s._)([(0,y.Cb)()],O.prototype,"basemapGalleryGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"bingKey",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canListApps",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canListData",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canListPreProvisionedItems",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canProvisionDirectPurchase",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canSearchPublic",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canShareBingPublic",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canSharePublic",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canSignInArcGIS",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"canSignInIDP",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"colorSetsGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"commentsEnabled",void 0),(0,s._)([(0,y.Cb)({type:Date})],O.prototype,"created",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"credential",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"culture",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"currentVersion",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"customBaseUrl",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"defaultBasemap",void 0),(0,s._)([(0,b.r)("defaultBasemap")],O.prototype,"readDefaultBasemap",null),(0,s._)([(0,y.Cb)()],O.prototype,"defaultDevBasemap",void 0),(0,s._)([(0,b.r)("defaultDevBasemap")],O.prototype,"readDefaultDevBasemap",null),(0,s._)([(0,y.Cb)({type:v.Z})],O.prototype,"defaultExtent",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"defaultVectorBasemap",void 0),(0,s._)([(0,b.r)("defaultVectorBasemap")],O.prototype,"readDefaultVectorBasemap",null),(0,s._)([(0,y.Cb)()],O.prototype,"description",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"devBasemapGalleryGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"eueiEnabled",void 0),(0,s._)([(0,y.Cb)({readOnly:!0})],O.prototype,"extraQuery",null),(0,s._)([(0,y.Cb)()],O.prototype,"featuredGroups",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"featuredItemsGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"galleryTemplatesGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"livingAtlasGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"hasCategorySchema",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"helpBase",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"helperServices",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"helpMap",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"homePageFeaturedContent",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"homePageFeaturedContentCount",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"httpPort",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"httpsPort",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"id",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"ipCntryCode",void 0),(0,s._)([(0,y.Cb)({readOnly:!0})],O.prototype,"isOrganization",null),(0,s._)([(0,y.Cb)()],O.prototype,"isPortal",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"isReadOnly",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"layerTemplatesGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"maxTokenExpirationMinutes",void 0),(0,s._)([(0,y.Cb)({type:Date})],O.prototype,"modified",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"name",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"portalHostname",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"portalMode",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"portalProperties",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"region",void 0),(0,s._)([(0,y.Cb)({readOnly:!0})],O.prototype,"restUrl",null),(0,s._)([(0,y.Cb)()],O.prototype,"rotatorPanels",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"showHomePageDescription",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"sourceJSON",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"staticImagesUrl",void 0),(0,s._)([(0,y.Cb)({readOnly:!0,json:{read:!1}})],O.prototype,"stylesGroupQuery",null),(0,s._)([(0,y.Cb)({json:{name:"2DStylesGroupQuery"}})],O.prototype,"stylesGroupQuery2d",void 0),(0,s._)([(0,y.Cb)({json:{name:"stylesGroupQuery"}})],O.prototype,"stylesGroupQuery3d",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"supportsHostedServices",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"symbolSetsGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"templatesGroupQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"thumbnail",void 0),(0,s._)([(0,y.Cb)({readOnly:!0})],O.prototype,"thumbnailUrl",null),(0,s._)([(0,y.Cb)()],O.prototype,"units",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"url",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"urlKey",void 0),(0,s._)([(0,b.r)("urlKey")],O.prototype,"readUrlKey",null),(0,s._)([(0,y.Cb)()],O.prototype,"user",void 0),(0,s._)([(0,b.r)("user")],O.prototype,"readUser",null),(0,s._)([(0,y.Cb)()],O.prototype,"useStandardizedQuery",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"useVectorBasemaps",void 0),(0,s._)([(0,y.Cb)()],O.prototype,"vectorBasemapGalleryGroupQuery",void 0),O=S=(0,s._)([(0,f.j)("esri.portal.Portal")],O);const z=O},68916:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(43697),i=r(20102),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215)),a=r(52011),p=r(41253);let u=class extends o.wq{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=(0,n.se)(p.Z,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new p.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new p.Z,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new p.Z;return e.disableExtraQuery=!0,e.num=1,e.query=r,this.portal.queryGroups(e,t)}throw new i.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const s=r.results[0],i=new p.Z;return i.num=1,i.query=`typekeywords:"${e}"`,s.queryItems(i,t)}throw new i.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]})):[]))}};(0,s._)([(0,l.Cb)()],u.prototype,"access",void 0),(0,s._)([(0,l.Cb)({type:Date})],u.prototype,"created",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"description",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"id",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"isInvitationOnly",void 0),(0,s._)([(0,l.Cb)({type:Date})],u.prototype,"modified",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"owner",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"portal",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"snippet",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"sortField",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"sortOrder",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"tags",void 0),(0,s._)([(0,l.Cb)()],u.prototype,"thumbnail",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],u.prototype,"thumbnailUrl",null),(0,s._)([(0,l.Cb)()],u.prototype,"title",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],u.prototype,"url",null),u=(0,s._)([(0,a.j)("esri.portal.PortalGroup")],u);const d=u},41253:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(15923),l=r(35454),n=r(22974),a=r(70586),p=r(5600),u=(r(75215),r(52011)),d=r(6570),c=r(82971),h=r(40488);const y=new l.Xn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let m=s=class extends o.Z{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new s({categories:this.categories?(0,n.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,s;if(this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e))),this.extent){const e=(0,h.iV)(this.extent,c.Z.WGS84);(0,a.pC)(e)&&(s=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:r,bbox:s,q:i,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((e=>y.toJSON(e.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};(0,i._)([(0,p.Cb)()],m.prototype,"categories",void 0),(0,i._)([(0,p.Cb)()],m.prototype,"disableExtraQuery",void 0),(0,i._)([(0,p.Cb)({type:d.Z})],m.prototype,"extent",void 0),(0,i._)([(0,p.Cb)()],m.prototype,"num",void 0),(0,i._)([(0,p.Cb)()],m.prototype,"query",void 0),(0,i._)([(0,p.Cb)()],m.prototype,"sortField",void 0),(0,i._)([(0,p.Cb)()],m.prototype,"sortOrder",null),(0,i._)([(0,p.Cb)()],m.prototype,"start",void 0),m=s=(0,i._)([(0,u.j)("esri.portal.PortalQueryParams")],m);const b=m},86082:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var s=r(43697),i=r(20102),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011));let a=class extends o.wq{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,s._)([(0,l.Cb)({type:Date})],a.prototype,"created",void 0),(0,s._)([(0,l.Cb)()],a.prototype,"id",void 0),(0,s._)([(0,l.Cb)()],a.prototype,"portal",void 0),(0,s._)([(0,l.Cb)()],a.prototype,"title",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],a.prototype,"url",null),(0,s._)([(0,l.Cb)()],a.prototype,"username",void 0),a=(0,s._)([(0,n.j)("esri.portal.PortalFolder")],a);const p=a;var u,d=r(68916);let c=u=class extends o.wq{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,s=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))));let o=this.userContentUrl;return s&&(o+="/"+("string"==typeof s?s:s.id)),this.portal._request(o+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal._request(t,s).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=p.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal._request(this.url).then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=d.default.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){e||(e={});let t,s=this.userContentUrl;return e.folder&&(s+="/"+e.folder.id),Promise.all([r.e(8778),r.e(6570),r.e(102),r.e(7779)]).then(r.bind(r,15235)).then((({default:r})=>{t=r;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(s,{query:i})})).then((e=>{let r;return e&&e.items?(r=e.items.map((e=>{const r=t.fromJSON(e);return r.portal=this.portal,r})),Promise.all(r.map((e=>e.load()))).catch((e=>e)).then((()=>({items:r,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new d.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new i.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new u;return t.sourceJSON=e,t.read(e),t}};(0,s._)([(0,l.Cb)()],c.prototype,"access",void 0),(0,s._)([(0,l.Cb)({type:Date})],c.prototype,"created",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"culture",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"description",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"email",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"favGroupId",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"fullName",void 0),(0,s._)([(0,l.Cb)({type:Date})],c.prototype,"modified",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"orgId",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"portal",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"preferredView",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"privileges",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"region",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"role",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"roleId",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"sourceJSON",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"thumbnail",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],c.prototype,"thumbnailUrl",null),(0,s._)([(0,l.Cb)()],c.prototype,"units",void 0),(0,s._)([(0,l.Cb)({readOnly:!0})],c.prototype,"userContentUrl",null),(0,s._)([(0,l.Cb)({readOnly:!0})],c.prototype,"url",null),(0,s._)([(0,l.Cb)()],c.prototype,"username",void 0),(0,s._)([(0,l.Cb)()],c.prototype,"userType",void 0),c=u=(0,s._)([(0,n.j)("esri.portal.PortalUser")],c);const h=c},16050:(e,t,r)=>{r.d(t,{Z:()=>z});var s,i=r(43697),o=r(78223),l=r(35454),n=r(22974),a=r(92604),p=r(70586),u=r(5600),d=r(90578),c=r(36030),h=r(71715),y=r(52011),m=r(30556),b=r(75215),f=r(35671),v=r(5499),g=r(12571),_=r(32984),w=r(9833),C=r(66338),S=r(59266);const x=a.Z.getLogger("esri.renderers.ClassBreaksRenderer"),j="percent-of-total",Z="field",V=new l.Xn({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:j,esriNormalizeByField:Z}),I=(0,b.se)(_.Z);let O=s=class extends((0,g.W)(v.Z)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let s=t.minValue;return e.map((e=>{const t=new _.Z;return t.read(e,r),null==t.minValue&&(t.minValue=s),null==t.maxValue&&(t.maxValue=t.minValue),s=t.maxValue,t}))}writeClassBreakInfos(e,t,r,s){const i=e.map((e=>e.write({},s)));this._areClassBreaksConsecutive()&&i.forEach((e=>delete e.classMinValue)),t[r]=i}castField(e){return null==e?e:"function"==typeof e?(x.error(".field: field must be a string value"),null):(0,b.Zs)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=(t?Z:r&&j)||null,t&&r&&x.warn("warning: both normalizationField and normalizationTotal are set!")):e!==Z&&e!==j||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let s=null;s="number"==typeof e?new _.Z({minValue:e,maxValue:t,symbol:(0,o.se)(r)}):I((0,n.d9)(e)),this.classBreakInfos.push(s),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let s=0;s<r;s++){const r=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(r[0]===e&&r[1]===t){this.classBreakInfos.splice(s,1);break}}}getBreakIndex(e,t){return this.valueExpression&&((0,p.Wi)(t)||(0,p.Wi)(t.arcade))&&x.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&((0,p.Wi)(t)||(0,p.Wi)(t.arcade))&&(r={...r,arcade:await(0,S.LC)()});const s=this.getBreakIndex(e,r);return-1!==s?this.classBreakInfos[s]:null}getSymbol(e,t){if(this.valueExpression&&((0,p.Wi)(t)||(0,p.Wi)(t.arcade)))return void x.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&((0,p.Wi)(t)||(0,p.Wi)(t.arcade))){const e=await(0,S.LC)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),r={...r,arcade:e}}const s=this.getBreakIndex(e,r);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new s({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,n.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,n.d9)(this.visualVariables),legendOptions:(0,n.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map((r=>r.collectRequiredFields(e,t))),(0,f.io)(e,t,this.valueExpression)];(0,f.AB)(e,t,this.field),(0,f.AB)(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:o}=(0,p.Pt)(t,{});let l=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const n=(0,p.Wg)(o).arcadeUtils;if(!l){const e=n.createSyntaxTree(this.valueExpression);l=n.createFunction(e),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=this.valueExpression;const a=n.executeFunction(l,n.createExecContext(e,n.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._getBreakIndexfromInfos(a)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,s=this.normalizationType;let i=parseFloat(r[t]);if(s){const e=this.normalizationTotal,t=parseFloat(r[this.normalizationField]);if("log"===s)i=Math.log(i)*Math.LOG10E;else if(s!==j||isNaN(e)){if(s===Z&&!isNaN(t)){if(isNaN(i)||isNaN(t))return-1;i/=t}}else i=i/e*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]<=e&&(t?e<=s[1]:e<s[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};(0,i._)([(0,u.Cb)(w.K)],O.prototype,"backgroundFillSymbol",void 0),(0,i._)([(0,u.Cb)({type:[_.Z]})],O.prototype,"classBreakInfos",void 0),(0,i._)([(0,h.r)("classBreakInfos")],O.prototype,"readClassBreakInfos",null),(0,i._)([(0,m.c)("classBreakInfos")],O.prototype,"writeClassBreakInfos",null),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],O.prototype,"defaultLabel",void 0),(0,i._)([(0,u.Cb)(w.G)],O.prototype,"defaultSymbol",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],O.prototype,"field",void 0),(0,i._)([(0,d.p)("field")],O.prototype,"castField",null),(0,i._)([(0,u.Cb)({type:Boolean})],O.prototype,"isMaxInclusive",void 0),(0,i._)([(0,u.Cb)({type:C.Z,json:{write:!0}})],O.prototype,"legendOptions",void 0),(0,i._)([(0,u.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],O.prototype,"minValue",null),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],O.prototype,"normalizationField",void 0),(0,i._)([(0,u.Cb)({type:Number,cast:e=>(0,b.q9)(e),json:{write:!0}})],O.prototype,"normalizationTotal",void 0),(0,i._)([(0,u.Cb)({type:V.apiValues,value:null,json:{type:V.jsonValues,read:V.read,write:V.write}})],O.prototype,"normalizationType",null),(0,i._)([(0,c.J)({classBreaks:"class-breaks"})],O.prototype,"type",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],O.prototype,"valueExpression",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],O.prototype,"valueExpressionTitle",void 0),O=s=(0,i._)([(0,y.j)("esri.renderers.ClassBreaksRenderer")],O);const z=O},12501:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var s,i=r(43697),o=r(22303),l=r(3172),n=r(20102),a=r(22974),p=r(92604),u=r(13867),d=r(70586),c=r(95330),h=r(19153),y=r(5600),m=(r(75215),r(52011)),b=r(30556),f=r(35671),v=r(5499),g=r(12571),_=r(59266),w=r(17386);const C=p.Z.getLogger("esri.renderers.DictionaryRenderer"),S={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let x=s=class extends((0,g.W)(v.Z)){constructor(e){super(e),this._ongoingRequests=new Map,this._symbolCache=new u.Z(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,s){null!=s&&s.origin||super.writeVisualVariables(e,t,r,s)}clone(){return new s({config:(0,a.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,a.d9)(this.fieldMap),url:(0,a.d9)(this.url),visualVariables:(0,a.d9)(this.visualVariables)})}async getSymbolAsync(e,t){let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{r=await this._dictionaryPromise}catch(e){if((0,c.D_)(e))return this._dictionaryPromise=null,null}const s={};if(this.fieldMap)for(const t of this._symbolFields){const r=this.fieldMap[t];if(r&&null!==e.attributes[r]&&void 0!==e.attributes[r]){const i=""+e.attributes[r];s[t]=i}else s[t]=""}const i=r(s,t);if(!i||"string"!=typeof i)return null;const l=(0,h.hP)(i).toString(),n=this._symbolCache.get(l);if(n)return n.catch((()=>{this._symbolCache.pop(l)})),n;const a=i.split(";"),p=[],u=[];for(const e of a)if(e&&0!==e.length)if(-1===e.indexOf("po:"))if(-1!==e.indexOf("|"))for(const t of e.split("|"))this._itemNames.has(t)&&p.push(t);else this._itemNames.has(e)&&p.push(e);else{const t=e.substr(3).split("|");if(3===t.length){const e=t[0],r=t[1];let s=t[2];if("DashTemplate"===r)s=s.split(" ").map((e=>Number(e)));else if("Color"===r){const e=new o.Z(s).toRgba();s=[e[0],e[1],e[2],255*e[3]]}else s=Number(s);u.push({primitiveName:e,propertyName:r,value:s})}}const y=!(0,d.pC)(e.geometry)||!e.geometry.hasZ&&"point"===e.geometry.type,m=this._cimPartsToCIMSymbol(p,u,y,t);return this._symbolCache.put(l,m,1),m}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await(0,f.io)(e,t,this.scaleExpression);for(const r in this.fieldMap){const s=this.fieldMap[r];t.has(s)&&e.add(s)}}get arcadeRequired(){return!0}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void C.error("no valid URL!");const t=(0,d.pC)(e)?e.abortOptions:null,r=(0,l.default)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...t}),[{data:s}]=await Promise.all([r,(0,_.LC)()]);if(!s)throw this._dictionaryPromise=null,new n.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const i=s.expression,o=s.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+s.cimRefTemplateUrl,this._itemNames=new Set(s.itemsNames),this._symbolFields=o.symbol;const a={};if(this.config){const e=this.config;for(const t in e)a[t]=e[t]}if(o.configuration)for(const e of o.configuration)a.hasOwnProperty(e.name)||(a[e.name]=e.value);const p=[];if((0,d.pC)(e)&&e.fields&&this.fieldMap)for(const t of this._symbolFields){const r=this.fieldMap[t],s=e.fields.filter((e=>e.name===r));s.length>0&&p.push({...s[0],name:t})}return this._dictionaryPromise=(0,_.pp)(i,(0,d.pC)(e)?e.spatialReference:null,p,a).then((e=>{const t={scale:0};return(r,s)=>{const i=e.repurposeFeature({geometry:null,attributes:r});return t.scale=(0,d.pC)(s)?s.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((e=>(C.error("Creating dictinoary expression failed:",e),null))),this._dictionaryPromise}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}async _getSymbolPart(e,t){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const r=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,e),s=(0,l.default)(r,{responseType:"json",query:{f:"json"},...t});this._ongoingRequests.set(e,s);try{return(await s).data}catch(t){return this._ongoingRequests.delete(e),Promise.reject(t)}}_combineSymbolParts(e,t,r){if(!e||0===e.length)return null;const s={...e[0]};if(e.length>1){s.symbolLayers=[];for(const t of e){const e=t;s.symbolLayers.unshift(...e.symbolLayers)}}return r&&(s.callout=S),{type:"CIMSymbolReference",symbol:s,primitiveOverrides:t}}async _cimPartsToCIMSymbol(e,t,r,s){const i=new Array(e.length);for(let t=0;t<e.length;t++)i[t]=this._getSymbolPart(e[t],s);const o=await Promise.all(i);return new w.Z({data:this._combineSymbolParts(o,t,r)})}};(0,i._)([(0,y.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],x.prototype,"config",void 0),(0,i._)([(0,y.Cb)({type:Object,json:{write:!0}})],x.prototype,"fieldMap",void 0),(0,i._)([(0,y.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],x.prototype,"scaleExpression",void 0),(0,i._)([(0,b.c)("scaleExpression")],x.prototype,"writeData",null),(0,i._)([(0,y.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],x.prototype,"scaleExpressionTitle",void 0),(0,i._)([(0,y.Cb)({type:String,json:{write:!0}})],x.prototype,"url",void 0),(0,i._)([(0,b.c)("visualVariables")],x.prototype,"writeVisualVariables",null),x=s=(0,i._)([(0,m.j)("esri.renderers.DictionaryRenderer")],x);const j=x},95088:(e,t,r)=>{r.d(t,{Z:()=>I});var s,i=r(43697),o=r(22303),l=r(22974),n=r(44422),a=r(75215),p=r(36030),u=r(5600),d=r(52011),c=r(35671),h=r(5499),y=r(12571),m=r(10736),b=r(92604),f=(r(67676),r(80442),r(90578));const v=b.Z.getLogger("esri.renderers.support.AttributeColorInfo");let g=s=class extends m.wq{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(v.error(".field: field must be a string value"),null):(0,a.Zs)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new s({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,i._)([(0,u.Cb)({type:o.Z,json:{type:[Number],write:!0}})],g.prototype,"color",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],g.prototype,"field",void 0),(0,i._)([(0,f.p)("field")],g.prototype,"castField",null),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],g.prototype,"label",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],g.prototype,"valueExpression",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],g.prototype,"valueExpressionTitle",void 0),g=s=(0,i._)([(0,d.j)("esri.renderers.support.AttributeColorInfo")],g);const _=g;var w;let C=w=class extends m.wq{constructor(){super(...arguments),this.unit=null}clone(){return new w({unit:this.unit})}};(0,i._)([(0,u.Cb)({type:String,json:{write:!0}})],C.prototype,"unit",void 0),C=w=(0,i._)([(0,d.j)("esri.renderers.support.DotDensityLegendOptions")],C);const S=C;var x,j=r(20256),Z=r(4095);let V=x=class extends((0,y.W)(h.Z)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new o.Z([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Z.Z,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new j.Z({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new x({attributes:(0,l.d9)(this.attributes),backgroundColor:(0,l.d9)(this.backgroundColor),dotBlendingEnabled:(0,l.d9)(this.dotBlendingEnabled),dotShape:(0,l.d9)(this.dotShape),dotSize:(0,l.d9)(this.dotSize),dotValue:(0,l.d9)(this.dotValue),legendOptions:(0,l.d9)(this.legendOptions),outline:(0,l.d9)(this.outline),referenceScale:(0,l.d9)(this.referenceScale),visualVariables:(0,l.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await(0,c.io)(e,t,r.valueExpression),r.field&&e.add(r.field)}};(0,i._)([(0,u.Cb)({type:[_],json:{write:!0}})],V.prototype,"attributes",void 0),(0,i._)([(0,u.Cb)({type:o.Z,json:{write:!0}})],V.prototype,"backgroundColor",void 0),(0,i._)([(0,u.Cb)({type:Boolean}),(0,n.B)("dotBlendingEnabled")],V.prototype,"blendDots",void 0),(0,i._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"dotBlendingEnabled",void 0),(0,i._)([(0,u.Cb)({type:String,json:{write:!1}})],V.prototype,"dotShape",void 0),(0,i._)([(0,u.Cb)({type:Number,json:{write:!1}})],V.prototype,"dotSize",void 0),(0,i._)([(0,u.Cb)({type:S,json:{write:!0}})],V.prototype,"legendOptions",void 0),(0,i._)([(0,u.Cb)({type:Z.Z,json:{default:null,write:!0}})],V.prototype,"outline",void 0),(0,i._)([(0,u.Cb)({type:Number,json:{write:!0}})],V.prototype,"dotValue",void 0),(0,i._)([(0,u.Cb)({type:Number}),(0,n.B)("dotValue")],V.prototype,"referenceDotValue",void 0),(0,i._)([(0,u.Cb)({type:Number,json:{write:!0}})],V.prototype,"referenceScale",void 0),(0,i._)([(0,u.Cb)({type:Number,json:{write:!0}})],V.prototype,"seed",void 0),(0,i._)([(0,p.J)({dotDensity:"dot-density"})],V.prototype,"type",void 0),V=x=(0,i._)([(0,d.j)("esri.renderers.DotDensityRenderer")],V);const I=V},79056:(e,t,r)=>{r.d(t,{Z:()=>f});var s,i=r(43697),o=r(22303),l=r(22974),n=r(5600),a=(r(75215),r(36030)),p=r(52011),u=r(35671),d=r(5499),c=r(10736);r(67676),r(80442);let h=s=class extends c.wq{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new s({color:this.color,ratio:this.ratio})}};(0,i._)([(0,n.Cb)({type:o.Z,json:{write:!0}})],h.prototype,"color",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:!0}})],h.prototype,"ratio",void 0),h=s=(0,i._)([(0,p.j)("esri.renderers.support.HeatmapColorStop")],h);const y=h;var m;let b=m=class extends d.Z{constructor(e){super(e),this.blurRadius=10,this.colorStops=[new y({ratio:0,color:new o.Z("rgba(255, 140, 0, 0)")}),new y({ratio:.75,color:new o.Z("rgba(255, 140, 0, 1)")}),new y({ratio:.9,color:new o.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const r=this.field;r&&"string"==typeof r&&(0,u.AB)(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new m({blurRadius:this.blurRadius,colorStops:(0,l.d9)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};(0,i._)([(0,n.Cb)({type:Number,json:{write:!0}})],b.prototype,"blurRadius",void 0),(0,i._)([(0,n.Cb)({type:[y],json:{write:!0}})],b.prototype,"colorStops",void 0),(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],b.prototype,"field",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:null==r})}}})],b.prototype,"fieldOffset",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:!0}})],b.prototype,"maxPixelIntensity",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:!0}})],b.prototype,"minPixelIntensity",void 0),(0,i._)([(0,a.J)({heatmap:"heatmap"})],b.prototype,"type",void 0),b=m=(0,i._)([(0,p.j)("esri.renderers.HeatmapRenderer")],b);const f=b},5499:(e,t,r)=>{r.d(t,{Z:()=>d});var s=r(43697),i=r(35454),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011)),a=r(69237);const p=new i.Xn({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let u=class extends o.wq{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,s._)([(0,l.Cb)({type:a.Z,json:{write:!0}})],u.prototype,"authoringInfo",void 0),(0,s._)([(0,l.Cb)({type:p.apiValues,readOnly:!0,json:{type:p.jsonValues,read:!1,write:{writer:p.write,ignoreOrigin:!0}}})],u.prototype,"type",void 0),u=(0,s._)([(0,n.j)("esri.renderers.Renderer")],u);const d=u},84382:(e,t,r)=>{r.d(t,{Z:()=>h});var s,i=r(43697),o=r(22974),l=r(5600),n=(r(75215),r(36030)),a=r(52011),p=r(5499),u=r(12571),d=r(9833);let c=s=class extends((0,u.W)(p.Z)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((r=>r.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new s({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,o.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,i._)([(0,l.Cb)(d.G)],c.prototype,"symbol",void 0),(0,i._)([(0,n.J)({simple:"simple"})],c.prototype,"type",void 0),c=s=(0,i._)([(0,a.j)("esri.renderers.SimpleRenderer")],c);const h=c},30687:(e,t,r)=>{r.d(t,{Z:()=>L});var s,i=r(43697),o=r(78223),l=r(20102),n=r(22974),a=r(92604),p=r(70586),u=r(78286),d=r(5600),c=r(90578),h=r(36030),y=r(71715),m=r(52011),b=r(30556),f=r(22862),v=r(75215),g=r(35671),_=r(65587),w=r(5499),C=r(12571),S=r(9833),x=r(66338),j=r(44262),Z=r(59266),V=r(25929),I=r(27391),O=r(59390);const z=a.Z.getLogger("esri.renderers.UniqueValueRenderer"),F=(0,v.se)(j.Z);let N=s=class extends((0,C.W)(w.Z)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:"complete",oldValue:e,newValue:t};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let i=0;i<t.length;i++){const o=e.find((e=>e.value===t[i].value));o?(0,f.Hg)(o,t[i])?(s.changed.push({type:"complete",oldValue:o,newValue:t[i]}),r=!0):s.unchanged.push({oldValue:o,newValue:t[i]}):(s.added.push(t[i]),r=!0)}for(let i=0;i<e.length;i++)t.find((t=>t.value===e[i].value))||(s.removed.push(e[i]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return null==e||"function"==typeof e?e:(0,v.Zs)(e)}writeField(e,t,r,s){"string"==typeof e?t[r]=e:s&&s.messages?s.messages.push(new l.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):z.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||_.Z.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=(0,V.f)(t.styleUrl,r);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,r,s){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=(0,V.t)(e.styleUrl,s))}set uniqueValueInfos(e){this.styleOrigin?z.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void z.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r="object"==typeof e?F(e):new j.Z({value:e,symbol:(0,o.se)(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)z.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&((0,p.Wi)(t)||(0,p.Wi)(t.arcade))&&(r={...r,arcade:await(0,Z.LC)()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&((0,p.Wi)(t)||(0,p.Wi)(t.arcade)))return void z.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&((0,p.Wi)(r)||(0,p.Wi)(r.arcade))){const e=await(0,Z.LC)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),r={...r,arcade:e}}const s=this._getUniqueValueInfo(e,r);return s&&s.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const e=new s({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,n.d9)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,n.d9)(this.visualVariables),legendOptions:(0,n.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,n.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=(0,n.d9)(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze((0,n.d9)(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map((r=>r.collectRequiredFields(e,t))),(0,g.io)(e,t,this.valueExpression)];(0,g.AB)(e,t,this.field),(0,g.AB)(e,t,this.field2),(0,g.AB)(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return(0,I.fetchStyle)(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach((r=>{const s=new O.Z({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const i=new j.Z({value:r.name,symbol:s});t.push(i),this._valueInfoMap[r.name]=i})),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach((e=>this._valueInfoMap[e.value+""]=e))}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:o}=(0,p.Pt)(t,{});let l=this._cache.compiledFunc;const n=(0,p.Wg)(o).arcadeUtils;if(!l){const e=n.createSyntaxTree(this.valueExpression);l=n.createFunction(e),this._cache.compiledFunc=l}const a=n.executeFunction(l,n.createExecContext(e,n.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._valueInfoMap[a+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let s;if("function"!=typeof t&&this.field2){const e=this.field2,i=this.field3,o=[];t&&o.push(r[t]),e&&o.push(r[e]),i&&o.push(r[i]),s=o.join(this.fieldDelimiter||"")}else"function"==typeof t?s=t(e):t&&(s=r[t]);return this._valueInfoMap[s+""]}static fromPortalStyle(e,t){const r=new s(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||_.Z.getDefault());const i=r.populateFromStyle();return i.catch((t=>{z.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)})),i}static fromStyleUrl(e,t){const r=new s(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const i=r.populateFromStyle();return i.catch((t=>{z.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)})),i}};(0,i._)([(0,d.Cb)({readOnly:!0})],N.prototype,"_cache",null),(0,i._)([(0,h.J)({uniqueValue:"unique-value"})],N.prototype,"type",void 0),(0,i._)([(0,d.Cb)(S.K)],N.prototype,"backgroundFillSymbol",void 0),(0,i._)([(0,d.Cb)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],N.prototype,"field",void 0),(0,i._)([(0,c.p)("field")],N.prototype,"castField",null),(0,i._)([(0,b.c)("field")],N.prototype,"writeField",null),(0,i._)([(0,d.Cb)({type:String,json:{write:!0}})],N.prototype,"field2",void 0),(0,i._)([(0,d.Cb)({type:String,json:{write:!0}})],N.prototype,"field3",void 0),(0,i._)([(0,d.Cb)({type:String,json:{write:!0}})],N.prototype,"valueExpression",void 0),(0,i._)([(0,d.Cb)({type:String,json:{write:!0}})],N.prototype,"valueExpressionTitle",void 0),(0,i._)([(0,d.Cb)({type:x.Z,json:{write:!0}})],N.prototype,"legendOptions",void 0),(0,i._)([(0,d.Cb)({type:String,json:{write:!0}})],N.prototype,"defaultLabel",void 0),(0,i._)([(0,d.Cb)((0,u.RH)({...S.G},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],N.prototype,"defaultSymbol",null),(0,i._)([(0,d.Cb)({type:String,json:{write:!0}})],N.prototype,"fieldDelimiter",void 0),(0,i._)([(0,d.Cb)({type:_.Z,readOnly:!0})],N.prototype,"portal",void 0),(0,i._)([(0,y.r)("portal",["styleName"])],N.prototype,"readPortal",null),(0,i._)([(0,d.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],N.prototype,"styleOrigin",void 0),(0,i._)([(0,y.r)("styleOrigin",["styleName","styleUrl"])],N.prototype,"readStyleOrigin",null),(0,i._)([(0,b.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],N.prototype,"writeStyleOrigin",null),(0,i._)([(0,d.Cb)({type:[j.Z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],N.prototype,"uniqueValueInfos",null),N=s=(0,i._)([(0,m.j)("esri.renderers.UniqueValueRenderer")],N);const L=N},12571:(e,t,r)=>{r.d(t,{W:()=>E});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215)),n=r(71715),a=r(52011),p=r(30556),u=r(35671),d=r(77997),c=r(21849);let h=s=class extends d.Z{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new s({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};(0,i._)([(0,o.Cb)({readOnly:!0})],h.prototype,"cache",null),(0,i._)([(0,o.Cb)({type:["color"],json:{type:["colorInfo"]}})],h.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],h.prototype,"normalizationField",void 0),(0,i._)([(0,o.Cb)({type:[c.Z],json:{write:!0}})],h.prototype,"stops",null),h=s=(0,i._)([(0,a.j)("esri.renderers.visualVariables.ColorVariable")],h);const y=h;var m,b=r(10736),f=r(65242);let v=m=class extends b.wq{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return(0,f.b)(t.transparency)}writeOpacity(e,t,r){t[r]=(0,f.a)(e)}clone(){return new m({label:this.label,opacity:this.opacity,value:this.value})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],v.prototype,"label",void 0),(0,i._)([(0,o.Cb)({type:Number,json:{type:l.z8,write:{target:"transparency"}}})],v.prototype,"opacity",void 0),(0,i._)([(0,n.r)("opacity",["transparency"])],v.prototype,"readOpacity",null),(0,i._)([(0,p.c)("opacity")],v.prototype,"writeOpacity",null),(0,i._)([(0,o.Cb)({type:Number,json:{write:!0}})],v.prototype,"value",void 0),v=m=(0,i._)([(0,a.j)("esri.renderers.visualVariables.support.OpacityStop")],v);const g=v;var _;let w=_=class extends d.Z{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new _({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};(0,i._)([(0,o.Cb)({readOnly:!0})],w.prototype,"cache",null),(0,i._)([(0,o.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],w.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],w.prototype,"normalizationField",void 0),(0,i._)([(0,o.Cb)({type:[g],json:{write:!0}})],w.prototype,"stops",null),w=_=(0,i._)([(0,a.j)("esri.renderers.visualVariables.OpacityVariable")],w);const C=w;var S=r(89513),x=r(23847),j=r(15923),Z=r(35454),V=r(92604),I=r(20941);const O=V.Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),z={color:y,size:x.Z,opacity:C,rotation:S.Z},F=new Z.Xn({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),N=/^\[([^\]]+)\]$/i;let L=class extends j.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter((e=>!!e)))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some((e=>!!e.target))&&e.sort(((e,t)=>{let r=null;return r=e.target===t.target?0:e.target?1:-1,r}));for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:s,rotationType:i}=t,o=s&&s.match(N),l=o&&o[1];if(l&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:l})),e)return e.map((e=>{const t=F.read(e.type),s=z[t];s||(O.warn(`Unknown variable type: ${t}`),r&&r.messages&&r.messages.push(new I.Z("visual-variable:unsupported",`visualVariable of type '${t}' is not supported`,{definition:e,context:r})));const i=new s;return i.read(e,r),i}))}writeVariables(e,t){const r=[];for(const s of e){const e=s.toJSON(t);e&&r.push(e)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,i._)([(0,o.Cb)()],L.prototype,"visualVariables",null),L=(0,i._)([(0,a.j)("esri.renderers.visualVariables.VisualVariableFactory")],L);const D=L,T={base:d.Z,key:"type",typeMap:{opacity:C,color:y,rotation:S.Z,size:x.Z}},E=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new D}set visualVariables(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(e,t,r){return this._vvFactory.readVariables(e,t,r)}writeVisualVariables(e,t,r,s){t[r]=this._vvFactory.writeVariables(e,s)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const e of this.visualVariables)if(e.arcadeRequired)return!0;return!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}getVisualVariablesForType(e,t){const r=this.visualVariables;return r?r.filter((r=>r.type===e&&("string"==typeof t?r.target===t:!1!==t||!r.target))):[]}async collectVVRequiredFields(e,t){let r=[];this.visualVariables&&(r=r.concat(this.visualVariables));for(const s of r)s&&(s.field&&(0,u.AB)(e,t,s.field),s.normalizationField&&(0,u.AB)(e,t,s.normalizationField),s.valueExpression&&await(0,u.io)(e,t,s.valueExpression))}};return(0,i._)([(0,o.Cb)({types:[T],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),(0,i._)([(0,n.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),(0,i._)([(0,p.c)("visualVariables")],t.prototype,"writeVisualVariables",null),t=(0,i._)([(0,a.j)("esri.renderers.mixins.VisualVariablesMixin")],t),t}},69237:(e,t,r)=>{r.d(t,{Z:()=>L});var s,i=r(43697),o=r(35454),l=r(10736),n=r(22974),a=r(5600),p=r(75215),u=r(71715),d=r(52011);r(67676),r(80442);let c=s=class extends l.wq{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new s({minValue:this.minValue,maxValue:this.maxValue})}};(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],c.prototype,"minValue",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],c.prototype,"maxValue",void 0),c=s=(0,i._)([(0,d.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],c);const h=c;var y;let m=y=class extends l.wq{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new y({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,n.d9)(this.classBreakInfos)})}};(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],m.prototype,"field",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],m.prototype,"normalizationField",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],m.prototype,"label",void 0),(0,i._)([(0,a.Cb)({type:[h],json:{write:!0}})],m.prototype,"classBreakInfos",void 0),m=y=(0,i._)([(0,d.j)("esri.renderers.support.AuthoringInfoFieldInfo")],m);const b=m;var f,v=r(90578);const g=new o.Xn({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),_=new o.Xn({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),w={key:e=>"number"==typeof e?"number":"string",typeMap:{number:Number,string:String},base:null},C=["high-to-low","above-and-below","centered-on","extremes"],S=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],x=["seconds","minutes","hours","days","months","years"];let j=f=class extends l.wq{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return"string"==typeof e||"number"==typeof e?e:null}castStartTime(e){return"string"==typeof e||"number"==typeof e?e:null}get style(){return"color"===this.type?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new f({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,i._)([(0,a.Cb)({types:w,json:{write:!0}})],j.prototype,"endTime",void 0),(0,i._)([(0,v.p)("endTime")],j.prototype,"castEndTime",null),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],j.prototype,"field",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],j.prototype,"maxSliderValue",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],j.prototype,"minSliderValue",void 0),(0,i._)([(0,a.Cb)({types:w,json:{write:!0}})],j.prototype,"startTime",void 0),(0,i._)([(0,v.p)("startTime")],j.prototype,"castStartTime",null),(0,i._)([(0,a.Cb)({type:g.apiValues,value:null,json:{type:g.jsonValues,read:g.read,write:g.write}})],j.prototype,"style",null),(0,i._)([(0,a.Cb)({type:S,value:null,json:{type:S,origins:{"web-scene":{type:C,write:{writer:(e,t)=>{C.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],j.prototype,"theme",null),(0,i._)([(0,a.Cb)({type:_.apiValues,json:{type:_.jsonValues,read:_.read,write:_.write}})],j.prototype,"type",void 0),(0,i._)([(0,a.Cb)({type:x,json:{type:x,write:!0}})],j.prototype,"units",void 0),j=f=(0,i._)([(0,d.j)("esri.renderers.support.AuthoringInfoVisualVariable")],j);const Z=j;var V,I=r(94593);const O=new o.Xn({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),z=new o.Xn({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),F=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let N=V=class extends l.wq{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return(0,I.i)(e)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(e){this._set("field2",e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new V({classificationMethod:this.classificationMethod,colorRamp:(0,n.d9)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,n.d9)(this.field1),field2:(0,n.d9)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((e=>e.clone())),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})}};(0,i._)([(0,a.Cb)({type:O.apiValues,value:null,json:{type:O.jsonValues,read:O.read,write:O.write,origins:{"web-document":{default:"manual",type:O.jsonValues,read:O.read,write:O.write}}}})],N.prototype,"classificationMethod",null),(0,i._)([(0,a.Cb)({types:I.V,json:{write:!0}})],N.prototype,"colorRamp",void 0),(0,i._)([(0,u.r)("colorRamp")],N.prototype,"readColorRamp",null),(0,i._)([(0,a.Cb)({type:[String],value:null,json:{write:!0}})],N.prototype,"fields",null),(0,i._)([(0,a.Cb)({type:b,value:null,json:{write:!0}})],N.prototype,"field1",null),(0,i._)([(0,a.Cb)({type:b,value:null,json:{write:!0}})],N.prototype,"field2",null),(0,i._)([(0,a.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],N.prototype,"focus",null),(0,i._)([(0,a.Cb)({type:Number,value:null,json:{type:p.z8,write:!0}})],N.prototype,"numClasses",null),(0,i._)([(0,a.Cb)({type:F,json:{type:F,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],N.prototype,"lengthUnit",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"maxSliderValue",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"minSliderValue",void 0),(0,i._)([(0,a.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"statistics",null),(0,i._)([(0,a.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],N.prototype,"standardDeviationInterval",null),(0,i._)([(0,a.Cb)({type:z.apiValues,value:null,json:{type:z.jsonValues,read:z.read,write:z.write}})],N.prototype,"type",null),(0,i._)([(0,a.Cb)({type:[Z],json:{write:!0}})],N.prototype,"visualVariables",void 0),(0,i._)([(0,a.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"univariateSymbolStyle",null),(0,i._)([(0,a.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"univariateTheme",null),N=V=(0,i._)([(0,d.j)("esri.renderers.support.AuthoringInfo")],N);const L=N},32984:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011)),a=r(9833);let p=s=class extends o.wq{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new s({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),(0,i._)([(0,l.Cb)(a.G)],p.prototype,"symbol",void 0),p=s=(0,i._)([(0,n.j)("esri.renderers.support.ClassBreakInfo")],p);const u=p},66338:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011));let a=s=class extends o.wq{constructor(){super(...arguments),this.title=null}clone(){return new s({title:this.title})}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],a.prototype,"title",void 0),a=s=(0,i._)([(0,n.j)("esri.renderers.support.LegendOptions")],a);const p=a},44262:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011)),a=r(9833);let p=s=class extends o.wq{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new s({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,i._)([(0,l.Cb)(a.G)],p.prototype,"symbol",void 0),(0,i._)([(0,l.Cb)({type:[String,Number],json:{type:String,write:{writer:(e,t)=>{t.value=null==e?void 0:e.toString()}}}})],p.prototype,"value",void 0),p=s=(0,i._)([(0,n.j)("esri.renderers.support.UniqueValueInfo")],p);const u=p},9833:(e,t,r)=>{r.d(t,{K:()=>p,G:()=>a});var s=r(78223),i=r(63213),o=r(21878),l=r(89164),n=r(86114);const a={types:s.QT,json:{write:{writer:o.c},origins:{"web-scene":{types:s.f_,write:{writer:o.c},read:{reader:(0,i.d)({types:s.f_})}}}}},p={types:{base:l.Z,key:"type",typeMap:{"simple-fill":s.LB.typeMap["simple-fill"],"picture-fill":s.LB.typeMap["picture-fill"],"polygon-3d":s.LB.typeMap["polygon-3d"]}},json:{write:{writer:o.c},origins:{"web-scene":{type:n.Z,write:{writer:o.c}}}}}},91423:(e,t,r)=>{r.d(t,{a:()=>n});var s=r(20941),i=r(63213),o=r(32400);const l=(0,i.d)({types:o.A});function n(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new s.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):l(e,t,r):null}},99282:(e,t,r)=>{r.d(t,{a:()=>o});var s=r(67900),i=r(68441);const o={inches:(0,s.En)(1,"meters","inches"),feet:(0,s.En)(1,"meters","feet"),"us-feet":(0,s.En)(1,"meters","us-feet"),yards:(0,s.En)(1,"meters","yards"),miles:(0,s.En)(1,"meters","miles"),"nautical-miles":(0,s.En)(1,"meters","nautical-miles"),millimeters:(0,s.En)(1,"meters","millimeters"),centimeters:(0,s.En)(1,"meters","centimeters"),decimeters:(0,s.En)(1,"meters","decimeters"),meters:(0,s.En)(1,"meters","meters"),kilometers:(0,s.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,s.ty)(1,"meters",i.sv.radius)}},32400:(e,t,r)=>{r.d(t,{A:()=>u,o:()=>d});var s=r(16050),i=r(12501),o=r(95088),l=r(79056),n=r(5499),a=r(84382),p=r(30687);const u={key:"type",base:n.Z,typeMap:{heatmap:l.Z,simple:a.Z,"unique-value":p.Z,"class-breaks":s.Z,"dot-density":o.Z,dictionary:i.default},errorContext:"renderer"},d={key:"type",base:n.Z,typeMap:{simple:a.Z,"unique-value":p.Z,"class-breaks":s.Z},errorContext:"renderer"}},89513:(e,t,r)=>{r.d(t,{Z:()=>d});var s,i=r(43697),o=r(20102),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011)),a=r(30556),p=r(77997);let u=s=class extends p.Z{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,s){if(s&&s.messages){const e=`visualVariables[${this.index}]`;s.messages.push(new o.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:e+".valueExpressionTitle",context:s}))}}clone(){return new s({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,i._)([(0,l.Cb)({readOnly:!0})],u.prototype,"cache",null),(0,i._)([(0,l.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],u.prototype,"axis",void 0),(0,i._)([(0,l.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],u.prototype,"type",void 0),(0,i._)([(0,l.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],u.prototype,"rotationType",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0),(0,i._)([(0,a.c)("web-scene","valueExpressionTitle")],u.prototype,"writeValueExpressionTitleWebScene",null),u=s=(0,i._)([(0,n.j)("esri.renderers.visualVariables.RotationVariable")],u);const d=u},23847:(e,t,r)=>{r.d(t,{Z:()=>I});var s,i=r(43697),o=r(20102),l=r(35454),n=r(92604),a=r(62357),p=r(5600),u=(r(67676),r(80442),r(90578)),d=r(71715),c=r(52011),h=r(30556),y=r(77997),m=r(30856),b=(r(75215),r(58439));let f=s=class extends b.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new s({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,i._)([(0,p.Cb)({type:[Number],json:{write:!0}})],f.prototype,"customValues",void 0),f=s=(0,i._)([(0,c.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],f);const v=f;var g,_=r(51706),w=r(28101);const C=n.Z.getLogger("esri.renderers.visualVariables.SizeVariable"),S=new l.Xn({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),x=new l.Xn({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function j(e){if(null!=e)return"string"==typeof e||"number"==typeof e?(0,a.t_)(e):"size"===e.type?(0,_.iY)(e)?e:(delete(e={...e}).type,new V(e)):void 0}function Z(e,t,r){if("object"!=typeof e)return e;const s=new V;return s.read(e,r),s}let V=g=class extends y.Z{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:w.B3.test(this.valueExpression)}}set expression(e){C.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){(0,_.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),(0,_.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return(0,_.PS)(this)}set maxDataValue(e){e&&this.stops&&(C.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(C.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return j(e)}readMaxSize(e,t,r){return Z(e,0,r)}set minDataValue(e){e&&this.stops&&(C.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(C.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return j(e)}readMinSize(e,t,r){return Z(e,0,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(C.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return(0,_.QW)(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,s){if("$view.scale"===e){if(s&&s.messages){const e=this.index,t="string"==typeof e?e:`visualVariables[${e}]`;s.messages.push(new o.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpression",context:s}))}}else t[r]=e}readValueUnit(e){return e?x.read(e):null}clone(){return new g({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,_.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,_.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if("clamped-linear"===this.transformationType){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if("stops"===this.transformationType){const e=this.stops,t=e.map((e=>e.size)).reverse(),r=e.length;for(let s=0;s<r;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};(0,i._)([(0,p.Cb)({readOnly:!0})],V.prototype,"cache",null),(0,i._)([(0,p.Cb)({type:S.apiValues,json:{type:S.jsonValues,origins:{"web-map":{read:!1}},read:S.read,write:S.write}})],V.prototype,"axis",void 0),(0,i._)([(0,p.Cb)({type:String,value:null,json:{read:!1}})],V.prototype,"expression",null),(0,i._)([(0,p.Cb)()],V.prototype,"index",null),(0,i._)([(0,p.Cb)({type:String,readOnly:!0})],V.prototype,"inputValueType",null),(0,i._)([(0,p.Cb)({type:v,json:{write:!0}})],V.prototype,"legendOptions",void 0),(0,i._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],V.prototype,"maxDataValue",null),(0,i._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],V.prototype,"maxSize",null),(0,i._)([(0,u.p)("maxSize")],V.prototype,"castMaxSize",null),(0,i._)([(0,d.r)("maxSize")],V.prototype,"readMaxSize",null),(0,i._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],V.prototype,"minDataValue",null),(0,i._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],V.prototype,"minSize",null),(0,i._)([(0,u.p)("minSize")],V.prototype,"castMinSize",null),(0,i._)([(0,d.r)("minSize")],V.prototype,"readMinSize",null),(0,i._)([(0,p.Cb)({type:String,json:{write:!0}})],V.prototype,"normalizationField",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],V.prototype,"arcadeRequired",null),(0,i._)([(0,p.Cb)({type:String})],V.prototype,"scaleBy",void 0),(0,i._)([(0,p.Cb)({type:[m.Z],value:null,json:{write:!0}})],V.prototype,"stops",null),(0,i._)([(0,p.Cb)({type:["outline"],json:{write:!0}})],V.prototype,"target",void 0),(0,i._)([(0,p.Cb)({type:String,readOnly:!0})],V.prototype,"transformationType",null),(0,i._)([(0,p.Cb)({type:["size"],json:{type:["sizeInfo"]}})],V.prototype,"type",void 0),(0,i._)([(0,p.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],V.prototype,"useSymbolValue",void 0),(0,i._)([(0,p.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,i._)([(0,d.r)("valueExpression",["valueExpression","expression"])],V.prototype,"readValueExpression",null),(0,i._)([(0,h.c)("web-scene","valueExpression")],V.prototype,"writeValueExpressionWebScene",null),(0,i._)([(0,p.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],V.prototype,"valueRepresentation",void 0),(0,i._)([(0,p.Cb)({type:x.apiValues,json:{write:x.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],V.prototype,"valueUnit",void 0),(0,i._)([(0,d.r)("valueUnit")],V.prototype,"readValueUnit",null),V=g=(0,i._)([(0,c.j)("esri.renderers.visualVariables.SizeVariable")],V);const I=V},77997:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(43697),i=r(35454),o=r(10736),l=r(92604),n=r(5600),a=(r(67676),r(80442),r(90578)),p=r(52011),u=r(75215),d=r(58439);const c=l.Z.getLogger("esri.renderers.visualVariables.VisualVariable"),h=new i.Xn({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let y=class extends o.wq{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:"function"==typeof e?(c.error(".field: field must be a string value"),null):(0,u.Zs)(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,s._)([(0,n.Cb)()],y.prototype,"index",void 0),(0,s._)([(0,n.Cb)({type:h.apiValues,readOnly:!0,json:{read:h.read,write:h.write}})],y.prototype,"type",void 0),(0,s._)([(0,n.Cb)({type:String,json:{write:!0}})],y.prototype,"field",void 0),(0,s._)([(0,a.p)("field")],y.prototype,"castField",null),(0,s._)([(0,n.Cb)({type:String,json:{write:!0}})],y.prototype,"valueExpression",void 0),(0,s._)([(0,n.Cb)({type:String,json:{write:!0}})],y.prototype,"valueExpressionTitle",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],y.prototype,"arcadeRequired",null),(0,s._)([(0,n.Cb)({type:d.Z,json:{write:!0}})],y.prototype,"legendOptions",void 0),y=(0,s._)([(0,p.j)("esri.renderers.visualVariables.VisualVariable")],y);const m=y},21849:(e,t,r)=>{r.d(t,{Z:()=>c});var s,i=r(43697),o=r(22303),l=r(10736),n=r(5600),a=(r(67676),r(80442),r(75215)),p=r(52011),u=r(30556);let d=s=class extends l.wq{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=null==e?0:e}clone(){return new s({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,i._)([(0,n.Cb)({type:o.Z,json:{type:[a.z8],write:!0}})],d.prototype,"color",void 0),(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],d.prototype,"value",void 0),(0,i._)([(0,u.c)("value")],d.prototype,"writeValue",null),d=s=(0,i._)([(0,p.j)("esri.renderers.visualVariables.support.ColorStop")],d);const c=d},30856:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(10736),l=r(62357),n=r(5600),a=(r(67676),r(80442),r(75215),r(52011));let p=s=class extends o.wq{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new s({label:this.label,size:this.size,value:this.value})}};(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,i._)([(0,n.Cb)({type:Number,cast:l.t_,json:{write:!0}})],p.prototype,"size",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:!0}})],p.prototype,"value",void 0),p=s=(0,i._)([(0,a.j)("esri.renderers.visualVariables.support.SizeStop")],p);const u=p},58439:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(66338);let a=s=class extends n.Z{constructor(){super(...arguments),this.showLegend=null}clone(){return new s({title:this.title,showLegend:this.showLegend})}};(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],a.prototype,"showLegend",void 0),a=s=(0,i._)([(0,l.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],a);const p=a},28101:(e,t,r)=>{r.d(t,{PR:()=>C,Lq:()=>y,Km:()=>m,cM:()=>b,ap:()=>f,V3:()=>_,B3:()=>h});var s=r(22303),i=r(38171),o=r(74085),l=r(92604),n=r(70586),a=r(99282),p=r(51706);const u=l.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new i.Z,c=Math.PI,h=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function y(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!i)return;if("esri.renderers.visualVariables.ColorVariable"!==i.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const o="number"==typeof t,l=o?null:t,a=l&&l.attributes;let p=o?t:null;const d=i.field,{ipData:c,hasExpression:h}=i.cache;let y=i.cache.compiledFunc;if(!d&&!h){const e=i.stops;return e&&e[0]&&e[0].color}if("number"!=typeof p)if(h){if(!(0,n.pC)(r)||!(0,n.pC)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),o=t.createExecContext(l,s);if(!y){const e=t.createSyntaxTree(i.valueExpression);y=t.createFunction(e),i.cache.compiledFunc=y}p=t.executeFunction(y,o)}else a&&(p=a[d]);const m=i.normalizationField,b=a?parseFloat(a[m]):void 0;if(null!=p&&(!m||o||!isNaN(b)&&0!==b)){isNaN(b)||o||(p/=b);const e=w(p,c);if(e){const t=e[0],o=e[1],l=t===o?i.stops[t].color:s.Z.blendColors(i.stops[t].color,i.stops[o].color,e[2],(0,n.pC)(r)?r.color:void 0);return new s.Z(l)}}}function m(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!s)return;if("esri.renderers.visualVariables.OpacityVariable"!==s.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const i="number"==typeof t,o=i?null:t,l=o&&o.attributes;let a=i?t:null;const p=s.field,{ipData:d,hasExpression:c}=s.cache;let h=s.cache.compiledFunc;if(!p&&!c){const e=s.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof a)if(c){if((0,n.Wi)(r)||(0,n.Wi)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,i=t.getViewInfo(e),l=t.createExecContext(o,i);if(!h){const e=t.createSyntaxTree(s.valueExpression);h=t.createFunction(e),s.cache.compiledFunc=h}a=t.executeFunction(h,l)}else l&&(a=l[p]);const y=s.normalizationField,m=l?parseFloat(l[y]):void 0;if(null!=a&&(!y||i||!isNaN(m)&&0!==m)){isNaN(m)||i||(a/=m);const e=w(a,d);if(e){const t=e[0],r=e[1];if(t===r)return s.stops[t].opacity;{const i=s.stops[t].opacity;return i+(s.stops[r].opacity-i)*e[2]}}}}function b(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!s)return;if("esri.renderers.visualVariables.RotationVariable"!==s.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const i=s.axis||"heading",o="heading"===i&&"arithmetic"===s.rotationType?90:0,l="heading"===i&&"arithmetic"===s.rotationType?-1:1,a="number"==typeof t?null:t,p=a&&a.attributes,d=s.field,{hasExpression:c}=s.cache;let h=s.cache.compiledFunc,y=0;if(!d&&!c)return y;if(c){if((0,n.Wi)(r)||(0,n.Wi)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,i=t.getViewInfo(e),o=t.createExecContext(a,i);if(!h){const e=t.createSyntaxTree(s.valueExpression);h=t.createFunction(e),s.cache.compiledFunc=h}y=t.executeFunction(h,o)}else p&&(y=p[d]||0);return y="number"!=typeof y||isNaN(y)?null:o+l*y,y}function f(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!s)return;if("esri.renderers.visualVariables.SizeVariable"!==s.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const i=function(e,t,r,s,i){switch(t.transformationType){case"additive":return function(e,t,r,s){return e+(v(t.minSize,r,s)||t.minDataValue)}(e,t,r,s);case"constant":return function(e,t,r){const s=e.stops;let i=s&&s.length&&s[0].size;return null==i&&(i=e.minSize),v(i,t,r)}(t,r,s);case"clamped-linear":return function(e,t,r,s){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=v(t.minSize,r,s),l=v(t.maxSize,r,s),a=(0,n.pC)(s)?s.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return l;if("area"===t.scaleBy&&a){const e="circle"===a,t=e?c*(o/2)**2:o*o,r=t+i*((e?c*(l/2)**2:l*l)-t);return e?2*Math.sqrt(r/c):Math.sqrt(r)}return o+i*(l-o)}(e,t,r,s);case"proportional":return function(e,t,r,s){const i=(0,n.pC)(s)?s.shape:void 0,o=e/t.minDataValue,l=v(t.minSize,r,s),a=v(t.maxSize,r,s);let p=null;return p="circle"===i?2*Math.sqrt(o*(l/2)**2):"square"===i||"diamond"===i||"image"===i?Math.sqrt(o*l**2):o*l,g(p,l,a)}(e,t,r,s);case"stops":return function(e,t,r,s,i){const[o,l,n]=w(e,i);if(o===l)return v(t.stops[o].size,r,s);{const e=v(t.stops[o].size,r,s);return e+(v(t.stops[l].size,r,s)-e)*n}}(e,t,r,s,i);case"real-world-size":return function(e,t,r,s){const i=((0,n.pC)(s)&&s.resolution?s.resolution:1)*a.a[t.valueUnit],o=v(t.minSize,r,s),l=v(t.maxSize,r,s),{valueRepresentation:p}=t;let u=null;return u="area"===p?2*Math.sqrt(e/c)/i:"radius"===p||"distance"===p?2*e/i:e/i,g(u,o,l)}(e,t,r,s);case"identity":return e;case"unknown":return null}}(function(e,t,r){const s="number"==typeof t,i=s?null:t,o=i&&i.attributes;let l=s?t:null;const{isScaleDriven:a}=e.cache;let d=e.cache.compiledFunc;if(a){const t=(0,n.pC)(r)?r.scale:void 0,s=(0,n.pC)(r)?r.view:void 0;l=null==t||"3d"===s?function(e){let t=null,r=null;const s=e.stops;return s?(t=s[0].value,r=s[s.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):t}else if(!s)switch(e.inputValueType){case"expression":{if((0,n.Wi)(r)||(0,n.Wi)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},s=r.arcade.arcadeUtils,o=s.getViewInfo(t),a=s.createExecContext(i,o);if(!d){const t=s.createSyntaxTree(e.valueExpression);d=s.createFunction(t),e.cache.compiledFunc=d}l=s.executeFunction(d,a);break}case"field":o&&(l=o[e.field]);break;case"unknown":l=null}if(!(0,p.qh)(l))return null;if(s||!e.normalizationField)return l;const c=o?parseFloat(o[e.normalizationField]):null;return(0,p.qh)(c)&&0!==c?l/c:null}(s,t,r),s,t,r,s.cache.ipData);return null==i||isNaN(i)?0:i}function v(e,t,r){return null==e?null:(0,p.iY)(e)?f(e,t,r):(0,p.qh)(e)?e:null}function g(e,t,r){return(0,p.qh)(r)&&e>r?r:(0,p.qh)(t)&&e<t?t:e}function _(e,t,r){const{isScaleDriven:s}=e.cache;if(!(s&&"3d"===r||t))return null;const i={scale:t,view:r};let o=v(e.minSize,d,i),l=v(e.maxSize,d,i);if(null!=o||null!=l){if(o>l){const e=l;l=o,o=e}return{minSize:o,maxSize:l}}}function w(e,t){if(!t)return;let r=0,s=t.length-1;return t.some(((t,i)=>e<t?(s=i,!0):(r=i,!1))),[r,s,(e-t[r])/(t[s]-t[r])]}function C(e,t,r){const s=["proportional","proportional","proportional"];for(const i of e){const e=i.useSymbolValue?"symbol-value":f(i,t,r);switch(i.axis){case"width":s[0]=e;break;case"depth":s[1]=e;break;case"height":s[2]=e;break;case"width-and-depth":s[0]=e,s[1]=e;break;case"all":case void 0:case null:s[0]=e,s[1]=e,s[2]=e;break;default:(0,o.Bg)(i.axis)}}return s}},78223:(e,t,r)=>{r.d(t,{se:()=>$,cT:()=>T,dU:()=>E,S9:()=>P,LB:()=>M,AH:()=>q,yK:()=>A,S6:()=>R,QT:()=>k,f_:()=>U});var s,i=r(75215),o=r(63213),l=r(17386),n=(r(38445),r(21218)),a=r(95191),p=(r(31134),r(50575),r(20825)),u=r(98587),d=(r(67129),r(40908),r(43697)),c=r(81049),h=r(22974),y=r(5600),m=r(36030),b=r(52011),f=r(87223);const v=c.Z.ofType({base:null,key:"type",typeMap:{fill:a.Z}});let g=s=class extends f.Z{constructor(e){super(e),this.symbolLayers=new v,this.type="mesh-3d"}clone(){return new s({styleOrigin:(0,h.d9)(this.styleOrigin),symbolLayers:(0,h.d9)(this.symbolLayers),thumbnail:(0,h.d9)(this.thumbnail)})}};(0,d._)([(0,y.Cb)({type:v})],g.prototype,"symbolLayers",void 0),(0,d._)([(0,m.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],g.prototype,"type",void 0),g=s=(0,d._)([(0,b.j)("esri.symbols.MeshSymbol3D")],g);const _=g;r(17143),r(96742);var w,C=r(62357),S=r(94075);let x=w=class extends n.Z{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,s){if(e&&"string"!=typeof e&&null==e.imageData)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),null!=r&&(i.width=(0,C.t_)(r)),null!=s&&(i.height=(0,C.t_)(s)),i}clone(){const e=new w({color:(0,h.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",(0,h.d9)(this.source)),e}hash(){var e;return`${super.hash()}.${null==(e=this.color)?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,d._)([(0,m.J)({esriPFS:"picture-fill"},{readOnly:!0})],x.prototype,"type",void 0),(0,d._)([(0,y.Cb)(S.KA)],x.prototype,"url",void 0),(0,d._)([(0,y.Cb)({type:Number,json:{write:!0}})],x.prototype,"xscale",void 0),(0,d._)([(0,y.Cb)({type:Number,json:{write:!0}})],x.prototype,"yscale",void 0),(0,d._)([(0,y.Cb)({type:Number,cast:C.t_,json:{write:!0}})],x.prototype,"width",void 0),(0,d._)([(0,y.Cb)({type:Number,cast:C.t_,json:{write:!0}})],x.prototype,"height",void 0),(0,d._)([(0,y.Cb)({type:Number,cast:C.t_,json:{write:!0}})],x.prototype,"xoffset",void 0),(0,d._)([(0,y.Cb)({type:Number,cast:C.t_,json:{write:!0}})],x.prototype,"yoffset",void 0),(0,d._)([(0,y.Cb)(S.Ds)],x.prototype,"source",void 0),x=w=(0,d._)([(0,b.j)("esri.symbols.PictureFillSymbol")],x);const j=x;var Z=r(37898),V=r(42143),I=r(86114),O=r(20256),z=r(4095),F=r(77987),N=r(89164),L=(r(95868),r(78724)),D=(r(78757),r(44398),r(59390));function T(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function E(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}r(69496),r(6352),r(7413);const M={base:N.Z,key:"type",typeMap:{"simple-fill":O.Z,"picture-fill":j,"picture-marker":Z.Z,"simple-line":z.Z,"simple-marker":F.Z,text:L.Z,"label-3d":p.Z,"line-3d":u.Z,"mesh-3d":_,"point-3d":V.Z,"polygon-3d":I.Z,"web-style":D.Z,cim:l.Z},errorContext:"symbol"},q={base:N.Z,key:"type",typeMap:{"picture-marker":Z.Z,"simple-marker":F.Z,text:L.Z,"web-style":D.Z,cim:l.Z},errorContext:"symbol"},P=(0,o.d)({types:M}),k={base:N.Z,key:"type",typeMap:{"simple-fill":O.Z,"picture-fill":j,"picture-marker":Z.Z,"simple-line":z.Z,"simple-marker":F.Z,text:L.Z,"line-3d":u.Z,"mesh-3d":_,"point-3d":V.Z,"polygon-3d":I.Z,"web-style":D.Z,cim:l.Z},errorContext:"symbol"},A={base:N.Z,key:"type",typeMap:{text:L.Z,"label-3d":p.Z},errorContext:"symbol"},U=(N.Z,p.Z,u.Z,V.Z,I.Z,D.Z,{base:N.Z,key:"type",typeMap:{"line-3d":u.Z,"mesh-3d":_,"point-3d":V.Z,"polygon-3d":I.Z,"web-style":D.Z,cim:l.Z},errorContext:"symbol"}),R={base:N.Z,key:"type",typeMap:{"label-3d":p.Z},errorContext:"symbol"},$=(0,i.N7)(M)},17386:(e,t,r)=>{r.d(t,{Z:()=>m});var s,i=r(43697),o=r(22974),l=r(19153),n=r(5600),a=(r(75215),r(36030)),p=r(71715),u=r(52011),d=r(30556),c=r(35671),h=r(89164);let y=s=class extends h.Z{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if("CIMSymbolReference"===this.data.type){const r=this.data.primitiveOverrides;if(r){const s=r.map((r=>{const s=r.valueExpressionInfo;return(0,c.io)(e,t,s.expression)}));await Promise.all(s)}}}clone(){return new s({data:(0,o.d9)(this.data)})}hash(){return(0,l.hP)(JSON.stringify(this.data)).toString()}};(0,i._)([(0,n.Cb)({json:{write:!1}})],y.prototype,"color",void 0),(0,i._)([(0,n.Cb)({json:{write:!0}})],y.prototype,"data",void 0),(0,i._)([(0,p.r)("data",["symbol"])],y.prototype,"readData",null),(0,i._)([(0,d.c)("data",{})],y.prototype,"writeData",null),(0,i._)([(0,a.J)({CIMSymbolReference:"cim"},{readOnly:!0})],y.prototype,"type",void 0),y=s=(0,i._)([(0,u.j)("esri.symbols.CIMSymbol")],y);const m=y},38445:(e,t,r)=>{r.d(t,{Z:()=>h});var s,i=r(43697),o=r(70586),l=r(5600),n=(r(67676),r(80442),r(75215),r(36030)),a=r(52011),p=r(95868),u=r(56332),d=r(52879);let c=s=class extends p.Z{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new s({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,o.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,i._)([(0,n.J)({Extrude:"extrude"},{readOnly:!0})],c.prototype,"type",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],c.prototype,"size",void 0),(0,i._)([(0,l.Cb)({type:d.Z,json:{write:!0}})],c.prototype,"material",void 0),(0,i._)([(0,l.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0),(0,i._)([(0,l.Cb)(u.Z)],c.prototype,"edges",void 0),c=s=(0,i._)([(0,a.j)("esri.symbols.ExtrudeSymbol3DLayer")],c);const h=c},21218:(e,t,r)=>{r.d(t,{Z:()=>p});var s=r(43697),i=r(5600),o=(r(67676),r(80442),r(75215),r(52011)),l=r(4095),n=r(89164);let a=class extends n.Z{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,s._)([(0,i.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":l.Z}},json:{default:null,write:!0}})],a.prototype,"outline",void 0),(0,s._)([(0,i.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],a.prototype,"type",void 0),a=(0,s._)([(0,o.j)("esri.symbols.FillSymbol")],a);const p=a},95191:(e,t,r)=>{r.d(t,{Z:()=>V});var s,i=r(43697),o=r(70586),l=r(5600),n=(r(67676),r(80442),r(75215),r(36030)),a=r(52011),p=r(95868),u=r(56332),d=r(4618),c=r(74721),h=r(17495),y=r(50178),m=(r(92604),r(37697),r(52879));let b=s=class extends m.b{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:(0,o.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new s(e)}};(0,i._)([(0,n.J)({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0),b=s=(0,i._)([(0,a.j)("esri.symbols.support.Symbol3DFillMaterial")],b);var f,v=r(22303),g=r(10736),_=r(62357),w=r(37308),C=r(45119);let S=f=class extends g.wq{constructor(e){super(e),this.color=new v.Z([0,0,0,1]),this.size=(0,_.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:(0,o.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,o.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new f(e)}};(0,i._)([(0,l.Cb)(w.a)],S.prototype,"color",void 0),(0,i._)([(0,l.Cb)(w.y)],S.prototype,"size",void 0),(0,i._)([(0,l.Cb)(h.DB)],S.prototype,"pattern",void 0),(0,i._)([(0,l.Cb)({type:C.Hc,json:{write:!1}})],S.prototype,"patternCap",void 0),S=f=(0,i._)([(0,a.j)("esri.symbols.support.Symbol3DOutline")],S);const x=S;var j;let Z=j=class extends p.Z{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:(0,o.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,o.pC)(this.material)?this.material.clone():null,pattern:(0,o.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,o.pC)(this.outline)?this.outline.clone():null};return new j(e)}static fromSimpleFillSymbol(e){return new j({material:new b({color:(e.color||y.l9).clone()}),pattern:e.style&&"solid"!==e.style?new c.Z({style:e.style}):null,outline:e.outline?new x({size:e.outline.width||0,color:(e.outline.color||y.ix).clone(),pattern:e.outline.style&&"inside-frame"!==e.outline.style?new d.Z({style:e.outline.style}):null,patternCap:e.outline.cap||"butt"}):null})}};(0,i._)([(0,n.J)({Fill:"fill"},{readOnly:!0})],Z.prototype,"type",void 0),(0,i._)([(0,l.Cb)({type:b,json:{write:!0}})],Z.prototype,"material",void 0),(0,i._)([(0,l.Cb)(h.q2)],Z.prototype,"pattern",void 0),(0,i._)([(0,l.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Z.prototype,"castShadows",void 0),(0,i._)([(0,l.Cb)({type:x,json:{write:!0}})],Z.prototype,"outline",void 0),(0,i._)([(0,l.Cb)(u.Z)],Z.prototype,"edges",void 0),Z=j=(0,i._)([(0,a.j)("esri.symbols.FillSymbol3DLayer")],Z);const V=Z},31134:(e,t,r)=>{r.d(t,{Z:()=>d});var s,i=r(43697),o=r(10736),l=r(62357),n=r(5600),a=(r(67676),r(80442),r(90578)),p=r(52011);let u=s=class extends o.wq{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return(0,l.t_)(e)}clone(){return new s({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,i._)([(0,n.Cb)({type:["underline","line-through","none"],json:{default:"none",write:!0}})],u.prototype,"decoration",void 0),(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],u.prototype,"family",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],u.prototype,"size",void 0),(0,i._)([(0,a.p)("size")],u.prototype,"castSize",null),(0,i._)([(0,n.Cb)({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],u.prototype,"style",void 0),(0,i._)([(0,n.Cb)({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],u.prototype,"weight",void 0),u=s=(0,i._)([(0,p.j)("esri.symbols.Font")],u);const d=u},50575:(e,t,r)=>{r.d(t,{Z:()=>q});var s,i=r(43697),o=r(92604),l=r(70586),n=r(17452),a=r(5600),p=(r(67676),r(80442),r(75215),r(36030)),u=r(52011),d=r(95868),c=r(50178),h=r(35454),y=r(10736),m=r(71715),b=r(30556),f=r(25929);const v=(0,h.wY)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let g=s=class extends y.wq{constructor(e){super(e)}readHref(e,t,r){return e?(0,f.f)(e,r):t.dataURI}writeHref(e,t,r,s){e&&((0,n.HK)(e)?t.dataURI=e:(t.href=(0,f.t)(e,s),(0,n.YP)(t.href)&&(t.href=(0,n.Fv)(t.href))))}clone(){return new s({href:this.href,primitive:this.primitive})}};(0,i._)([(0,a.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],g.prototype,"href",void 0),(0,i._)([(0,m.r)("href")],g.prototype,"readHref",null),(0,i._)([(0,b.c)("href",{href:{type:String},dataURI:{type:String}})],g.prototype,"writeHref",null),(0,i._)([(0,p.J)(v)],g.prototype,"primitive",void 0),g=s=(0,i._)([(0,u.j)("esri.symbols.support.IconSymbol3DLayerResource")],g);const _=g;var w,C=r(37308),S=r(15923);let x=w=class extends S.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new w({x:this.x,y:this.y})}};(0,i._)([(0,a.Cb)({type:Number})],x.prototype,"x",void 0),(0,i._)([(0,a.Cb)({type:Number})],x.prototype,"y",void 0),x=w=(0,i._)([(0,u.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],x);var j,Z=r(22303),V=r(62357);let I=j=class extends y.wq{constructor(e){super(e),this.color=new Z.Z([0,0,0,1]),this.size=(0,V.Wz)(1)}clone(){const e={color:(0,l.pC)(this.color)?this.color.clone():null,size:this.size};return new j(e)}};(0,i._)([(0,a.Cb)(C.a)],I.prototype,"color",void 0),(0,i._)([(0,a.Cb)(C.y)],I.prototype,"size",void 0),I=j=(0,i._)([(0,u.j)("esri.symbols.support.Symbol3DIconOutline")],I);const O=I;var z,F=r(52879);const N=o.Z.getLogger("esri.symbols.IconSymbol3DLayer");let L=z=class extends d.Z{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new z({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,l.pC)(this.material)?this.material.clone():null,outline:(0,l.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||c.ix,r=D(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||c.ix).clone()}:null;return new z({size:e.size,resource:{primitive:M(e.style)},material:{color:t},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||(0,c.rx)(e.color)?c.ix:e.color,r=D(e);return new z({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new z({resource:{href:(0,n._l)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function D(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,s=T(e.xoffset),i=T(e.yoffset);return(s||i)&&t&&r?{x:-s/t,y:i/r}:null}function T(e){return isFinite(e)?e:0}(0,i._)([(0,a.Cb)({type:F.Z,json:{write:!0}})],L.prototype,"material",void 0),(0,i._)([(0,a.Cb)({type:_,json:{write:!0}})],L.prototype,"resource",void 0),(0,i._)([(0,p.J)({Icon:"icon"},{readOnly:!0})],L.prototype,"type",void 0),(0,i._)([(0,a.Cb)(C.y)],L.prototype,"size",void 0),(0,i._)([(0,p.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,a.Cb)({json:{default:"center"}})],L.prototype,"anchor",void 0),(0,i._)([(0,a.Cb)({type:x,json:{type:[Number],read:{reader:e=>new x({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],L.prototype,"anchorPosition",void 0),(0,i._)([(0,a.Cb)({type:O,json:{write:!0}})],L.prototype,"outline",void 0),L=z=(0,i._)([(0,u.j)("esri.symbols.IconSymbol3DLayer")],L);const E={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function M(e){return E[e]||(N.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const q=L},20825:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(81049),l=r(22974),n=r(5600),a=(r(75215),r(36030)),p=r(52011),u=r(87223),d=r(78757),c=r(84275),h=r(7413);const y=o.Z.ofType({base:null,key:"type",typeMap:{text:d.Z}});let m=s=class extends u.Z{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new y,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,c.gv)(this)}hasVisibleVerticalOffset(){return(0,c.Uy)(this)}clone(){return new s({styleOrigin:(0,l.d9)(this.styleOrigin),symbolLayers:(0,l.d9)(this.symbolLayers),thumbnail:(0,l.d9)(this.thumbnail),callout:(0,l.d9)(this.callout),verticalOffset:(0,l.d9)(this.verticalOffset)})}static fromTextSymbol(e){return new s({symbolLayers:[d.Z.fromTextSymbol(e)]})}};(0,i._)([(0,n.Cb)({type:h.Z,json:{write:!0}})],m.prototype,"verticalOffset",void 0),(0,i._)([(0,n.Cb)(c.Y2)],m.prototype,"callout",void 0),(0,i._)([(0,n.Cb)({json:{read:!1,write:!1}})],m.prototype,"styleOrigin",void 0),(0,i._)([(0,n.Cb)({type:y})],m.prototype,"symbolLayers",void 0),(0,i._)([(0,a.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=s=(0,i._)([(0,p.j)("esri.symbols.LabelSymbol3D")],m);const b=m},98587:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(81049),l=r(22974),n=r(5600),a=(r(75215),r(36030)),p=r(52011),u=r(67129),d=r(96742),c=r(87223);const h=o.Z.ofType({base:null,key:"type",typeMap:{line:u.Z,path:d.Z}}),y=o.Z.ofType({base:null,key:"type",typeMap:{line:u.Z,path:d.Z}});let m=s=class extends c.Z{constructor(e){super(e),this.symbolLayers=new h,this.type="line-3d"}clone(){return new s({styleOrigin:(0,l.d9)(this.styleOrigin),symbolLayers:(0,l.d9)(this.symbolLayers),thumbnail:(0,l.d9)(this.thumbnail)})}static fromSimpleLineSymbol(e){return new s({symbolLayers:[u.Z.fromSimpleLineSymbol(e)]})}};(0,i._)([(0,n.Cb)({type:h,json:{type:y}})],m.prototype,"symbolLayers",void 0),(0,i._)([(0,a.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=s=(0,i._)([(0,p.j)("esri.symbols.LineSymbol3D")],m);const b=m},67129:(e,t,r)=>{r.d(t,{Z:()=>v});var s,i=r(43697),o=r(70586),l=r(62357),n=r(5600),a=(r(67676),r(80442),r(75215),r(36030)),p=r(52011),u=r(95868),d=r(4618),c=r(17495),h=r(50178),y=r(37308),m=r(52879),b=r(45119);let f=s=class extends u.Z{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,l.Wz)(1),this.pattern=null}clone(){const e={enabled:this.enabled,material:(0,o.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,o.pC)(this.pattern)?this.pattern.clone():null};return new s(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width||1,cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&"inside-frame"!==e.style?new d.Z({style:e.style}):null,material:new m.b({color:(e.color||h.ix).clone()})};return new s(t)}};(0,i._)([(0,n.Cb)({type:m.b,json:{write:!0}})],f.prototype,"material",void 0),(0,i._)([(0,a.J)({Line:"line"},{readOnly:!0})],f.prototype,"type",void 0),(0,i._)([(0,n.Cb)({type:b.w2,json:{write:!0,default:"miter"}})],f.prototype,"join",void 0),(0,i._)([(0,n.Cb)({type:b.Hc,json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0),(0,i._)([(0,n.Cb)(y.y)],f.prototype,"size",void 0),(0,i._)([(0,n.Cb)(c.DB)],f.prototype,"pattern",void 0),f=s=(0,i._)([(0,p.j)("esri.symbols.LineSymbol3DLayer")],f);const v=f},40908:(e,t,r)=>{r.d(t,{Z:()=>p});var s=r(43697),i=r(62357),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(89164);let a=class extends n.Z{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,s._)([(0,o.Cb)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],a.prototype,"angle",void 0),(0,s._)([(0,o.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],a.prototype,"type",void 0),(0,s._)([(0,o.Cb)({type:Number,cast:i.t_,json:{write:!0}})],a.prototype,"xoffset",void 0),(0,s._)([(0,o.Cb)({type:Number,cast:i.t_,json:{write:!0}})],a.prototype,"yoffset",void 0),(0,s._)([(0,o.Cb)({type:Number,cast:e=>"auto"===e?e:(0,i.t_)(e),json:{write:!0}})],a.prototype,"size",void 0),a=(0,s._)([(0,l.j)("esri.symbols.MarkerSymbol")],a);const p=a},17143:(e,t,r)=>{r.d(t,{Z:()=>C});var s,i=r(43697),o=r(70586),l=r(5600),n=(r(67676),r(80442),r(75215),r(36030)),a=r(52011),p=r(95868),u=r(35454),d=r(10736),c=r(25929);const h=(0,u.wY)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let y=s=class extends d.wq{clone(){return new s({href:this.href,primitive:this.primitive})}};(0,i._)([(0,l.Cb)({type:String,json:{read:c.r,write:c.w}})],y.prototype,"href",void 0),(0,i._)([(0,n.J)(h)],y.prototype,"primitive",void 0),y=s=(0,i._)([(0,a.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],y);const m=y;var b,f=r(15923);let v=b=class extends f.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new b({x:this.x,y:this.y,z:this.z})}};(0,i._)([(0,l.Cb)({type:Number})],v.prototype,"x",void 0),(0,i._)([(0,l.Cb)({type:Number})],v.prototype,"y",void 0),(0,i._)([(0,l.Cb)({type:Number})],v.prototype,"z",void 0),v=b=(0,i._)([(0,a.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],v);var g,_=r(52879);let w=g=class extends p.Z{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new g({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,o.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,i._)([(0,l.Cb)({type:_.Z,json:{write:!0}})],w.prototype,"material",void 0),(0,i._)([(0,l.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],w.prototype,"castShadows",void 0),(0,i._)([(0,l.Cb)({type:m,json:{write:!0}})],w.prototype,"resource",void 0),(0,i._)([(0,n.J)({Object:"object"},{readOnly:!0})],w.prototype,"type",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"width",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"height",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"depth",void 0),(0,i._)([(0,n.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,l.Cb)({json:{default:"origin"}})],w.prototype,"anchor",void 0),(0,i._)([(0,l.Cb)({type:v,json:{type:[Number],read:{reader:e=>new v({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],w.prototype,"anchorPosition",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"heading",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"tilt",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"roll",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],w.prototype,"isPrimitive",null),w=g=(0,i._)([(0,a.j)("esri.symbols.ObjectSymbol3DLayer")],w);const C=w},96742:(e,t,r)=>{r.d(t,{Z:()=>y});var s,i=r(43697),o=r(70586),l=r(5600),n=(r(67676),r(80442),r(75215),r(36030)),a=r(71715),p=r(52011),u=r(95868),d=r(52879),c=r(45119);let h=s=class extends u.Z{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return null!=e?e:null==t.height&&null!=t.size?t.size:void 0}readHeight(e,t){return null!=e?e:null==t.width&&null!=t.size?t.size:void 0}clone(){return new s({enabled:this.enabled,material:(0,o.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,i._)([(0,l.Cb)({type:d.Z,json:{write:!0}})],h.prototype,"material",void 0),(0,i._)([(0,l.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",void 0),(0,i._)([(0,n.J)({Path:"path"},{readOnly:!0})],h.prototype,"type",void 0),(0,i._)([(0,l.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],h.prototype,"profile",void 0),(0,i._)([(0,l.Cb)({type:c.w2,json:{write:!0,default:"miter"}})],h.prototype,"join",void 0),(0,i._)([(0,l.Cb)({type:c.KW,json:{write:!0,default:"butt"}})],h.prototype,"cap",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],h.prototype,"width",void 0),(0,i._)([(0,a.r)("width",["width","size","height"])],h.prototype,"readWidth",null),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"height",void 0),(0,i._)([(0,a.r)("height",["height","size","width"])],h.prototype,"readHeight",null),(0,i._)([(0,l.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],h.prototype,"anchor",void 0),(0,i._)([(0,l.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],h.prototype,"profileRotation",void 0),h=s=(0,i._)([(0,p.j)("esri.symbols.PathSymbol3DLayer")],h);const y=h},37898:(e,t,r)=>{r.d(t,{Z:()=>y});var s,i=r(43697),o=r(22974),l=r(62357),n=r(5600),a=(r(75215),r(36030)),p=r(71715),u=r(52011),d=r(40908),c=r(94075);let h=s=class extends d.Z{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;const s={};return e&&(s.url=e),null!=t&&(s.width=(0,l.t_)(t)),null!=r&&(s.height=(0,l.t_)(r)),s}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new s({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",(0,o.d9)(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,i._)([(0,n.Cb)({json:{write:!1}})],h.prototype,"color",void 0),(0,i._)([(0,a.J)({esriPMS:"picture-marker"},{readOnly:!0})],h.prototype,"type",void 0),(0,i._)([(0,n.Cb)(c.KA)],h.prototype,"url",void 0),(0,i._)([(0,n.Cb)(c.Ds)],h.prototype,"source",void 0),(0,i._)([(0,n.Cb)({type:Number,cast:l.t_,json:{write:!0}})],h.prototype,"height",void 0),(0,i._)([(0,p.r)("height",["height","size"])],h.prototype,"readHeight",null),(0,i._)([(0,n.Cb)({type:Number,cast:l.t_,json:{write:!0}})],h.prototype,"width",void 0),(0,i._)([(0,n.Cb)({json:{write:!1}})],h.prototype,"size",void 0),h=s=(0,i._)([(0,u.j)("esri.symbols.PictureMarkerSymbol")],h);const y=h},42143:(e,t,r)=>{r.d(t,{Z:()=>w});var s,i=r(43697),o=r(81049),l=r(20102),n=r(22974),a=r(5600),p=(r(75215),r(36030)),u=r(52011),d=r(30556),c=r(50575),h=r(17143),y=r(87223),m=r(78757),b=r(84275),f=r(7413);const v=o.Z.ofType({base:null,key:"type",typeMap:{icon:c.Z,object:h.Z,text:m.Z}}),g=o.Z.ofType({base:null,key:"type",typeMap:{icon:c.Z,object:h.Z}});let _=s=class extends y.Z{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new v,this.type="point-3d"}writeSymbolLayers(e,t,r,s){const i=e.filter((e=>"text"!==e.type));if(s&&s.messages&&i.length<e.length){const t=e.find((e=>"text"===e.type));s.messages.push(new l.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:t}))}t[r]=i.map((e=>e.write({},s))).toArray()}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,b.gv)(this)}hasVisibleVerticalOffset(){return(0,b.Uy)(this)}clone(){return new s({verticalOffset:(0,n.d9)(this.verticalOffset),callout:(0,n.d9)(this.callout),styleOrigin:(0,n.d9)(this.styleOrigin),symbolLayers:(0,n.d9)(this.symbolLayers),thumbnail:(0,n.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new s({symbolLayers:[c.Z.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new s({symbolLayers:[c.Z.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var t,r;return"CIMPointSymbol"!==(null==(t=e.data)||null==(r=t.symbol)?void 0:r.type)?null:e.data.symbol.callout?new s({symbolLayers:[c.Z.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new s({symbolLayers:[c.Z.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new s({symbolLayers:[m.Z.fromTextSymbol(e)]})}};(0,i._)([(0,a.Cb)({type:f.Z,json:{write:!0}})],_.prototype,"verticalOffset",void 0),(0,i._)([(0,a.Cb)(b.Y2)],_.prototype,"callout",void 0),(0,i._)([(0,a.Cb)({type:v,json:{type:g,origins:{"web-scene":{type:g}}}})],_.prototype,"symbolLayers",void 0),(0,i._)([(0,d.c)("web-scene","symbolLayers")],_.prototype,"writeSymbolLayers",null),(0,i._)([(0,p.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],_.prototype,"type",void 0),_=s=(0,i._)([(0,u.j)("esri.symbols.PointSymbol3D")],_);const w=_},86114:(e,t,r)=>{r.d(t,{Z:()=>x});var s,i=r(43697),o=r(81049),l=r(20102),n=r(22974),a=r(70586),p=r(5600),u=(r(75215),r(36030)),d=r(52011),c=r(30556),h=r(38445),y=r(95191),m=r(50575),b=r(67129),f=r(17143),v=r(87223),g=r(78757),_=r(44398);const w=o.Z.ofType({base:null,key:"type",typeMap:{extrude:h.Z,fill:y.Z,icon:m.Z,line:b.Z,object:f.Z,text:g.Z,water:_.Z}}),C=o.Z.ofType({base:null,key:"type",typeMap:{extrude:h.Z,fill:y.Z,icon:m.Z,line:b.Z,object:f.Z,water:_.Z}});let S=s=class extends v.Z{constructor(e){super(e),this.symbolLayers=new w,this.type="polygon-3d"}writeSymbolLayers(e,t,r,s){const i=e.filter((e=>"text"!==e.type));if(s&&s.messages&&i.length<e.length){const t=e.find((e=>"text"===e.type));s.messages.push(new l.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:t}))}t[r]=i.map((e=>e.write({},s))).toArray()}clone(){return new s({styleOrigin:(0,n.d9)(this.styleOrigin),symbolLayers:(0,n.d9)(this.symbolLayers),thumbnail:(0,n.d9)(this.thumbnail)})}static fromJSON(e){const t=new s;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.getItemAt(0).type&&"line"===t.symbolLayers.getItemAt(1).type){const r=t.symbolLayers.getItemAt(0),s=t.symbolLayers.getItemAt(1);!s.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:s.size,color:(0,a.pC)(s.material)?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new s({symbolLayers:[y.Z.fromSimpleFillSymbol(e)]})}};(0,i._)([(0,p.Cb)({type:w,json:{type:C}})],S.prototype,"symbolLayers",void 0),(0,i._)([(0,c.c)("web-scene","symbolLayers")],S.prototype,"writeSymbolLayers",null),(0,i._)([(0,u.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],S.prototype,"type",void 0),S=s=(0,i._)([(0,d.j)("esri.symbols.PolygonSymbol3D")],S);const x=S},20256:(e,t,r)=>{r.d(t,{Z:()=>m});var s,i=r(43697),o=r(22303),l=r(35454),n=r(22974),a=r(5600),p=(r(75215),r(36030)),u=r(52011),d=r(21218),c=r(4095);const h=new l.Xn({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let y=s=class extends d.Z{constructor(...e){super(...e),this.color=new o.Z([0,0,0,.25]),this.outline=new c.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e)return e;const s={};return e&&(s.style=e),t&&(s.outline=t),r&&(s.color=r),s}clone(){return new s({color:(0,n.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,i._)([(0,a.Cb)()],y.prototype,"color",void 0),(0,i._)([(0,a.Cb)()],y.prototype,"outline",void 0),(0,i._)([(0,p.J)({esriSFS:"simple-fill"},{readOnly:!0})],y.prototype,"type",void 0),(0,i._)([(0,a.Cb)({type:h.apiValues,json:{read:h.read,write:h.write}})],y.prototype,"style",void 0),y=s=(0,i._)([(0,u.j)("esri.symbols.SimpleFillSymbol")],y);const m=y},4095:(e,t,r)=>{r.d(t,{Z:()=>S});var s=r(43697),i=r(35454),o=r(22974),l=r(62357),n=r(5600),a=(r(75215),r(36030)),p=r(52011),u=(r(67676),r(80442),r(89164));let d=class extends u.Z{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,s._)([(0,a.J)({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0),(0,s._)([(0,n.Cb)({type:Number,cast:l.t_,json:{write:!0}})],d.prototype,"width",void 0),d=(0,s._)([(0,p.j)("esri.symbols.LineSymbol")],d);const c=d;var h,y=r(22303),m=r(10736),b=r(71715),f=r(30556);let v=h=class extends m.wq{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,s){"web-map"===(null==s?void 0:s.origin)?t[r]="arrow":t[r]=e}set color(e){this._set("color",e)}readColor(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,s){"web-map"===(null==s?void 0:s.origin)||(t[r]=e)}clone(){return new h({color:(0,o.d9)(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${null==(e=this.color)?void 0:e.hash()}.${this.style}`}};(0,s._)([(0,n.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],v.prototype,"placement",void 0),(0,s._)([(0,a.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,n.Cb)({json:{origins:{"web-map":{write:!1}}}})],v.prototype,"type",void 0),(0,s._)([(0,n.Cb)({type:["arrow","circle","square","diamond","cross","x"]})],v.prototype,"style",void 0),(0,s._)([(0,f.c)("style")],v.prototype,"writeStyle",null),(0,s._)([(0,n.Cb)({type:y.Z,value:null,json:{write:{allowNull:!0}}})],v.prototype,"color",null),(0,s._)([(0,b.r)("color")],v.prototype,"readColor",null),(0,s._)([(0,f.c)("color")],v.prototype,"writeColor",null),v=h=(0,s._)([(0,p.j)("esri.symbols.LineSymbolMarker")],v);const g=v;var _;const w=new i.Xn({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let C=_=class extends c{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,s,i,o){if(e&&"string"!=typeof e)return e;const n={};return null!=e&&(n.style=e),null!=t&&(n.color=t),null!=r&&(n.width=(0,l.t_)(r)),null!=s&&(n.cap=s),null!=i&&(n.join=i),null!=o&&(n.miterLimit=(0,l.t_)(o)),n}clone(){var e;return new _({color:(0,o.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(e=this.marker)?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${null==(e=this.color)?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(t=this.marker)?void 0:t.hash()}`}};(0,s._)([(0,a.J)({esriSLS:"simple-line"},{readOnly:!0})],C.prototype,"type",void 0),(0,s._)([(0,n.Cb)({type:w.apiValues,json:{read:w.read,write:w.write}})],C.prototype,"style",void 0),(0,s._)([(0,n.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:"round"!==e&&(null==r||null==r.origin)})}}})],C.prototype,"cap",void 0),(0,s._)([(0,n.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:"round"!==e&&(null==r||null==r.origin)})}}})],C.prototype,"join",void 0),(0,s._)([(0,n.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":g}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"marker",void 0),(0,s._)([(0,n.Cb)({type:Number,json:{read:!1,write:!1}})],C.prototype,"miterLimit",void 0),C=_=(0,s._)([(0,p.j)("esri.symbols.SimpleLineSymbol")],C);const S=C},77987:(e,t,r)=>{r.d(t,{Z:()=>f});var s,i=r(43697),o=r(22303),l=r(35454),n=r(22974),a=r(62357),p=r(5600),u=(r(75215),r(36030)),d=r(52011),c=r(30556),h=r(40908),y=r(4095);const m=new l.Xn({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let b=s=class extends h.Z{constructor(...e){super(...e),this.color=new o.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new y.Z}normalizeCtorArgs(e,t,r,s){if(e&&"string"!=typeof e)return e;const i={};return e&&(i.style=e),null!=t&&(i.size=(0,a.t_)(t)),r&&(i.outline=r),s&&(i.color=s),i}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new s({angle:this.angle,color:(0,n.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(e=this.outline)?void 0:e.hash()}`}};(0,i._)([(0,p.Cb)()],b.prototype,"color",void 0),(0,i._)([(0,c.c)("color")],b.prototype,"writeColor",null),(0,i._)([(0,u.J)({esriSMS:"simple-marker"},{readOnly:!0})],b.prototype,"type",void 0),(0,i._)([(0,p.Cb)()],b.prototype,"size",void 0),(0,i._)([(0,p.Cb)({type:m.apiValues,json:{read:m.read,write:m.write}})],b.prototype,"style",void 0),(0,i._)([(0,p.Cb)({type:String,json:{write:!0}})],b.prototype,"path",null),(0,i._)([(0,p.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":y.Z}},json:{default:null,write:!0}})],b.prototype,"outline",void 0),b=s=(0,i._)([(0,d.j)("esri.symbols.SimpleMarkerSymbol")],b);const f=b},87223:(e,t,r)=>{r.d(t,{Z:()=>N});var s=r(43697),i=r(81049),o=r(70921),l=r(92604),n=r(17452),a=r(20941),p=r(5600),u=(r(67676),r(80442),r(90578)),d=r(71715),c=r(52011),h=r(30556),y=r(65587),m=r(25929),b=r(38445),f=r(95191),v=r(50575),g=r(67129),_=r(17143),w=r(96742),C=r(89164),S=r(95868),x=r(78757),j=r(44398),Z=r(71144),V=r(23203);const I={icon:v.Z,object:_.Z,line:g.Z,path:w.Z,fill:f.Z,extrude:b.Z,text:x.Z,water:j.Z},O=i.Z.ofType({base:S.Z,key:"type",typeMap:I,errorContext:"symbol-layer"}),z=l.Z.getLogger("esri.symbols.Symbol3D");let F=class extends C.Z{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||i.Z;this._set("symbolLayers",new r)}get color(){return null}set color(e){z.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){(0,o.Z)(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const t=(0,m.f)(e.styleUrl,r);return new Z.Z({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new Z.Z({portal:r&&r.portal||y.Z.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new a.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,s){if(e.styleUrl&&e.name){let r=(0,m.t)(e.styleUrl,s);(0,n.YP)(r)&&(r=(0,n.Fv)(r)),t.styleOrigin={styleUrl:r,name:e.name}}else e.styleName&&e.name&&(e.portal&&s&&s.portal&&!(0,n.tm)(e.portal.restUrl,s.portal.restUrl)?s&&s.messages&&s.messages.push(new a.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof S.Z||e&&I[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};(0,s._)([(0,p.Cb)({json:{read:!1,write:!1}})],F.prototype,"color",null),(0,s._)([(0,p.Cb)({type:O,nonNullable:!0,json:{write:!0}}),(0,u.p)(o.R)],F.prototype,"symbolLayers",null),(0,s._)([(0,p.Cb)({type:Z.Z})],F.prototype,"styleOrigin",void 0),(0,s._)([(0,d.r)("styleOrigin")],F.prototype,"readStyleOrigin",null),(0,s._)([(0,h.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],F.prototype,"writeStyleOrigin",null),(0,s._)([(0,p.Cb)({type:V.Z,json:{read:!1}})],F.prototype,"thumbnail",void 0),(0,s._)([(0,p.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],F.prototype,"type",void 0),F=(0,s._)([(0,c.j)("esri.symbols.Symbol3D")],F);const N=F},95868:(e,t,r)=>{r.d(t,{Z:()=>p});var s=r(43697),i=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(30556);let a=class extends i.wq{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};(0,s._)([(0,o.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],a.prototype,"enabled",void 0),(0,s._)([(0,n.c)("enabled")],a.prototype,"writeEnabled",null),(0,s._)([(0,o.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],a.prototype,"type",void 0),a=(0,s._)([(0,l.j)("esri.symbols.Symbol3DLayer")],a);const p=a},78724:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(22303),l=r(22974),n=r(62357),a=r(5600),p=r(90578),u=r(36030),d=r(52011),c=r(30556),h=r(31134),y=r(89164);let m=s=class extends y.Z{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new h.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment=null,this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e)return e;const s={};return e&&(s.text=e),t&&(s.font=t),r&&(s.color=r),s}writeLineWidth(e,t,r,s){s&&"string"!=typeof s?s.origin:t[r]=e}castLineWidth(e){return(0,n.t_)(e)}writeLineHeight(e,t,r,s){s&&"string"!=typeof s?s.origin:t[r]=e}clone(){return new s({angle:this.angle,backgroundColor:(0,l.d9)(this.backgroundColor),borderLineColor:(0,l.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,l.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,l.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,i._)([(0,a.Cb)({type:o.Z,json:{write:!0}})],m.prototype,"backgroundColor",void 0),(0,i._)([(0,a.Cb)({type:o.Z,json:{write:!0}})],m.prototype,"borderLineColor",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],m.prototype,"borderLineSize",void 0),(0,i._)([(0,a.Cb)({type:h.Z,json:{write:!0}})],m.prototype,"font",void 0),(0,i._)([(0,a.Cb)({type:["left","right","center","justify"],json:{write:!0}})],m.prototype,"horizontalAlignment",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"kerning",void 0),(0,i._)([(0,a.Cb)({type:o.Z,json:{write:!0}})],m.prototype,"haloColor",void 0),(0,i._)([(0,a.Cb)({type:Number,cast:n.t_,json:{write:!0}})],m.prototype,"haloSize",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"rightToLeft",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"rotated",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],m.prototype,"text",void 0),(0,i._)([(0,u.J)({esriTS:"text"},{readOnly:!0})],m.prototype,"type",void 0),(0,i._)([(0,a.Cb)({type:["baseline","top","middle","bottom"],json:{write:!0}})],m.prototype,"verticalAlignment",void 0),(0,i._)([(0,a.Cb)({type:Number,cast:n.t_,json:{write:!0}})],m.prototype,"xoffset",void 0),(0,i._)([(0,a.Cb)({type:Number,cast:n.t_,json:{write:!0}})],m.prototype,"yoffset",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],m.prototype,"angle",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],m.prototype,"width",void 0),(0,i._)([(0,a.Cb)({type:Number})],m.prototype,"lineWidth",void 0),(0,i._)([(0,c.c)("lineWidth")],m.prototype,"writeLineWidth",null),(0,i._)([(0,p.p)("lineWidth")],m.prototype,"castLineWidth",null),(0,i._)([(0,a.Cb)({type:Number})],m.prototype,"lineHeight",void 0),(0,i._)([(0,c.c)("lineHeight")],m.prototype,"writeLineHeight",null),m=s=(0,i._)([(0,d.j)("esri.symbols.TextSymbol")],m);const b=m},78757:(e,t,r)=>{r.d(t,{Z:()=>w});var s,i=r(43697),o=r(22974),l=r(70586),n=r(5600),a=(r(75215),r(36030)),p=r(52011),u=r(30556),d=r(31134),c=r(95868),h=r(37308),y=r(22303),m=r(10736);let b=s=class extends m.wq{constructor(){super(...arguments),this.color=new y.Z([0,0,0,1]),this.size=0}clone(){return new s({color:(0,o.d9)(this.color),size:this.size})}};(0,i._)([(0,n.Cb)(h.a)],b.prototype,"color",void 0),(0,i._)([(0,n.Cb)(h.y)],b.prototype,"size",void 0),b=s=(0,i._)([(0,p.j)("esri.symbols.support.Symbol3DHalo")],b);const f=b;var v,g=r(52879);let _=v=class extends c.Z{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.material=null,this.text=void 0,this.type="text"}get font(){return this._get("font")||null}set font(e){e&&this._userSize&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,s){const i={...s,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9}set size(e){this._userSize=e,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){return new v({enabled:this.enabled,font:this.font&&(0,o.d9)(this.font),halo:this.halo&&(0,o.d9)(this.halo),material:(0,l.pC)(this.material)?this.material.clone():null,size:this.size,text:this.text})}static fromTextSymbol(e){const t=function(e,t){return e&&t>0?{color:(0,o.d9)(e),size:t}:null}(e.haloColor,e.haloSize),r=e.font?e.font.clone():new d.Z;return new v({size:r.size,font:r,halo:t,material:e.color?{color:e.color.clone()}:null,text:e.text})}};(0,i._)([(0,n.Cb)({type:d.Z,json:{write:!0}})],_.prototype,"font",null),(0,i._)([(0,u.c)("font")],_.prototype,"writeFont",null),(0,i._)([(0,n.Cb)({type:f,json:{write:!0}})],_.prototype,"halo",void 0),(0,i._)([(0,n.Cb)({type:g.Z,json:{write:!0}})],_.prototype,"material",void 0),(0,i._)([(0,n.Cb)(h.y),(0,n.Cb)()],_.prototype,"size",null),(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],_.prototype,"text",void 0),(0,i._)([(0,a.J)({Text:"text"},{readOnly:!0})],_.prototype,"type",void 0),_=v=(0,i._)([(0,p.j)("esri.symbols.TextSymbol3DLayer")],_);const w=_},44398:(e,t,r)=>{r.d(t,{Z:()=>y});var s,i=r(43697),o=r(22303),l=r(22974),n=r(5600),a=r(75215),p=r(36030),u=r(52011),d=r(95868);let c=s=class extends d.Z{constructor(e){super(e),this.color=h.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new s({color:(0,l.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,i._)([(0,n.Cb)({type:o.Z,nonNullable:!0,json:{type:[a.z8],write:(e,t,r)=>t[r]=e.toArray(1),default:()=>h.clone(),defaultEquals:e=>e.toCss(!0)===h.toCss(!0)}})],c.prototype,"color",void 0),(0,i._)([(0,p.J)({Water:"water"},{readOnly:!0})],c.prototype,"type",void 0),(0,i._)([(0,n.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],c.prototype,"waterbodySize",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:!0,default:null}})],c.prototype,"waveDirection",void 0),(0,i._)([(0,n.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],c.prototype,"waveStrength",void 0),c=s=(0,i._)([(0,u.j)("esri.symbols.WaterSymbol3DLayer")],c);const h=new o.Z([0,119,190]),y=c},59390:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(92604),l=r(95330),n=r(5600),a=(r(67676),r(80442),r(75215),r(36030)),p=r(52011),u=r(65587),d=r(25929),c=r(89164),h=r(23203);const y=o.Z.getLogger("esri.symbols.WebStyleSymbol");let m=s=class extends c.Z{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new s({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const s=await Promise.resolve().then(r.bind(r,27391));(0,l.k_)(t);const i=s.resolveWebStyleSymbol(this,{portal:this.portal},e,t);return i.catch((e=>{y.error("#fetchSymbol()","Failed to create symbol from style",e)})),i}};(0,i._)([(0,n.Cb)({json:{write:!1}})],m.prototype,"color",void 0),(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],m.prototype,"styleName",void 0),(0,i._)([(0,n.Cb)({type:u.Z,json:{write:!1}})],m.prototype,"portal",void 0),(0,i._)([(0,n.Cb)({type:String,json:{read:d.r,write:d.w}})],m.prototype,"styleUrl",void 0),(0,i._)([(0,n.Cb)({type:h.Z,json:{read:!1}})],m.prototype,"thumbnail",void 0),(0,i._)([(0,n.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,a.J)({styleSymbolReference:"web-style"},{readOnly:!0})],m.prototype,"type",void 0),m=s=(0,i._)([(0,p.j)("esri.symbols.WebStyleSymbol")],m);const b=m},27539:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(43697),i=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011));let n=class extends i.wq{constructor(e){super(e),this.visible=!0}clone(){}};(0,s._)([(0,o.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],n.prototype,"type",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],n.prototype,"visible",void 0),n=(0,s._)([(0,l.j)("esri.symbols.callouts.Callout3D")],n);const a=n},69496:(e,t,r)=>{r.d(t,{Z:()=>b});var s,i=r(43697),o=r(22303),l=r(22974),n=r(70586),a=r(62357),p=r(5600),u=(r(75215),r(36030)),d=r(52011),c=r(27539),h=r(6352),y=r(37308);let m=s=class extends c.Z{constructor(e){super(e),this.type="line",this.color=new o.Z([0,0,0,1]),this.size=(0,a.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,n.pC)(this.color)&&this.color.a>0}clone(){return new s({color:(0,l.d9)(this.color),size:this.size,border:(0,l.d9)(this.border)})}};(0,i._)([(0,u.J)({line:"line"},{readOnly:!0})],m.prototype,"type",void 0),(0,i._)([(0,p.Cb)(y.a)],m.prototype,"color",void 0),(0,i._)([(0,p.Cb)(y.y)],m.prototype,"size",void 0),(0,i._)([(0,p.Cb)({type:h.a,json:{write:!0}})],m.prototype,"border",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],m.prototype,"visible",null),m=s=(0,i._)([(0,d.j)("esri.symbols.callouts.LineCallout3D")],m);const b=m},84275:(e,t,r)=>{r.d(t,{Y2:()=>n,gv:()=>l,Uy:()=>o});var s=r(27539),i=r(69496);function o(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function l(e){if(!e)return!1;if(!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!o(e)}const n={types:{key:"type",base:s.Z,typeMap:{line:i.Z}},json:{write:!0}}},56332:(e,t,r)=>{r.d(t,{Z:()=>g});var s=r(43697),i=r(22303),o=r(10736),l=r(22974),n=r(62357),a=r(5600),p=(r(75215),r(52011)),u=r(37308);let d=class extends o.wq{constructor(e){super(e),this.color=new i.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,n.Wz)(1)}clone(){}cloneProperties(){return{color:(0,l.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,s._)([(0,a.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0),(0,s._)([(0,a.Cb)(u.a)],d.prototype,"color",void 0),(0,s._)([(0,a.Cb)({...u.y,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],d.prototype,"extensionLength",void 0),(0,s._)([(0,a.Cb)(u.y)],d.prototype,"size",void 0),d=(0,s._)([(0,p.j)("esri.symbols.edges.Edges3D")],d);const c=d;r(92604),r(67676),r(80442),r(37697);var h,y=r(36030);let m=h=class extends c{constructor(e){super(e),this.type="sketch"}clone(){return new h(this.cloneProperties())}};(0,s._)([(0,y.J)({sketch:"sketch"},{readOnly:!0})],m.prototype,"type",void 0),m=h=(0,s._)([(0,p.j)("esri.symbols.edges.SketchEdges3D")],m);const b=m;var f;let v=f=class extends c{constructor(e){super(e),this.type="solid"}clone(){return new f(this.cloneProperties())}};(0,s._)([(0,y.J)({solid:"solid"},{readOnly:!0})],v.prototype,"type",void 0),v=f=(0,s._)([(0,p.j)("esri.symbols.support.SolidEdges3D")],v);const g={types:{key:"type",base:c,typeMap:{solid:v,sketch:b}},json:{write:!0}}},32626:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(43697),i=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011));let n=class extends i.wq{constructor(e){super(e)}clone(){}};(0,s._)([(0,o.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],n.prototype,"type",void 0),n=(0,s._)([(0,l.j)("esri.symbols.patterns.LinePattern3D")],n);const a=n},4618:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(32626);let a=s=class extends n.Z{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new s(e)}};(0,i._)([(0,o.Cb)({type:["style"]})],a.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"],json:{read:!0,write:!0}})],a.prototype,"style",void 0),a=s=(0,i._)([(0,l.j)("esri.symbols.patterns.LineStylePattern3D")],a);const p=a},41776:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(43697),i=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011));let n=class extends i.wq{constructor(e){super(e)}clone(){}};(0,s._)([(0,o.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],n.prototype,"type",void 0),n=(0,s._)([(0,l.j)("esri.symbols.patterns.Pattern3D")],n);const a=n},74721:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(5600),l=(r(67676),r(80442),r(75215),r(52011)),n=r(41776);let a=s=class extends n.Z{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new s(e)}};(0,i._)([(0,o.Cb)({type:["style"]})],a.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],a.prototype,"style",void 0),a=s=(0,i._)([(0,l.j)("esri.symbols.patterns.StylePattern3D")],a);const p=a},17495:(e,t,r)=>{r.d(t,{DB:()=>p,q2:()=>a});var s=r(32626),i=r(4618),o=r(41776),l=r(74721);function n(e,t,r){if(!e)return e;if("style"===e.type){const t=new l.Z;return t.read(e,r),t}}const a={types:{key:"type",base:o.Z,typeMap:{style:l.Z}},json:{read:n,write:!0}},p={types:{key:"type",base:s.Z,typeMap:{style:i.Z}},json:{read:n,write:!1}}},71144:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(15923),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011)),a=r(65587);let p=s=class extends o.Z{constructor(){super(...arguments),this.portal=null}clone(){return new s({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,i._)([(0,l.Cb)({type:String})],p.prototype,"name",void 0),(0,i._)([(0,l.Cb)({type:String})],p.prototype,"styleUrl",void 0),(0,i._)([(0,l.Cb)({type:String})],p.prototype,"styleName",void 0),(0,i._)([(0,l.Cb)({type:a.Z})],p.prototype,"portal",void 0),p=s=(0,i._)([(0,n.j)("esri.symbols.support.StyleOrigin")],p);const u=p},52879:(e,t,r)=>{r.d(t,{b:()=>u,Z:()=>d});var s,i=r(43697),o=r(10736),l=r(70586),n=r(5600),a=(r(67676),r(80442),r(75215),r(52011)),p=r(37308);let u=s=class extends o.wq{constructor(e){super(e),this.color=null}clone(){const e={color:(0,l.pC)(this.color)?this.color.clone():null};return new s(e)}};(0,i._)([(0,n.Cb)(p.a)],u.prototype,"color",void 0),u=s=(0,i._)([(0,a.j)("esri.symbols.support.Symbol3DMaterial")],u);const d=u},7413:(e,t,r)=>{r.d(t,{Z:()=>u});var s,i=r(43697),o=r(10736),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011)),a=r(37308);let p=s=class extends o.wq{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new s({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,i._)([(0,l.Cb)(a.y)],p.prototype,"screenLength",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0,default:0}})],p.prototype,"minWorldLength",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:!0}})],p.prototype,"maxWorldLength",void 0),p=s=(0,i._)([(0,n.j)("esri.symbols.support.Symbol3DVerticalOffset")],p);const u=p},23203:(e,t,r)=>{r.d(t,{Z:()=>p});var s,i=r(43697),o=r(15923),l=r(5600),n=(r(67676),r(80442),r(75215),r(52011));let a=s=class extends o.Z{clone(){return new s({url:this.url})}};(0,i._)([(0,l.Cb)({type:String})],a.prototype,"url",void 0),a=s=(0,i._)([(0,n.j)("esri.symbols.support.Thumbnail")],a);const p=a},50178:(e,t,r)=>{r.d(t,{rx:()=>l,l9:()=>o,ix:()=>i});var s=r(22303);const i=new s.Z("white"),o=(new s.Z("black"),new s.Z([255,255,255,0]));function l(e){return 0===e.r&&0===e.g&&0===e.b}},28412:(e,t,r)=>{r.d(t,{Rz:()=>a,G:()=>p,kD:()=>d,mW:()=>u}),r(80442);var s=r(20256),i=r(4095),o=r(77987),l=r(78724),n=r(58333);o.Z.fromJSON(n.I4),i.Z.fromJSON(n.ET),s.Z.fromJSON(n.lF);const a=l.Z.fromJSON(n.qP),p=o.Z.fromJSON(n.eG),u=i.Z.fromJSON(n.wW),d=s.Z.fromJSON(n.lj)},21878:(e,t,r)=>{r.d(t,{i:()=>g,c:()=>v});var s=r(78223),i=r(20102),o=r(70586),l=r(87223),n=r(59390),a=r(42143),p=r(4095),u=r(98587),d=r(77987),c=r(37898),h=r(20256),y=r(86114),m=r(78724),b=r(20825);const f={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function v(e,t,r,v){const g=function(e,t,r){if(!e)return null;if(r&&"web-scene"===r.origin&&!(e instanceof l.Z)&&!(e instanceof n.Z)){const l=function(e,t=f){if(!e)return{symbol:null};const{retainId:r=f.retainId,ignoreDrivers:o=f.ignoreDrivers,hasLabelingContext:l=f.hasLabelingContext,retainCIM:v=f.retainCIM}=t;let g;if((0,s.dU)(e)||e instanceof n.Z)g=e.clone();else if("cim"===e.type){var _,w;const t=null==(_=e.data)||null==(w=_.symbol)?void 0:w.type;if("CIMPointSymbol"!==t)return{error:new i.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};g=v?e.clone():a.Z.fromCIMSymbol(e)}else if(e instanceof p.Z)g=u.Z.fromSimpleLineSymbol(e);else if(e instanceof d.Z)g=a.Z.fromSimpleMarkerSymbol(e);else if(e instanceof c.Z)g=a.Z.fromPictureMarkerSymbol(e);else if(e instanceof h.Z)g=y.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof m.Z))return{error:new i.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};g=l?b.Z.fromTextSymbol(e):a.Z.fromTextSymbol(e)}if(r&&"cim"!==g.type&&(g.id=e.id),o&&(0,s.dU)(g))for(let e=0;e<g.symbolLayers.length;++e)g.symbolLayers.getItemAt(e)._ignoreDrivers=!0;return{symbol:g}}(e,{retainCIM:!0});return(0,o.pC)(l.symbol)?l.symbol.write(t,r):(r.messages&&r.messages.push(new i.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:l.error})),null)}return r&&"web-map"===r.origin&&"web-style"===e.type?(r.messages&&r.messages.push(new i.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:r})),null):e.write(t,r)}(e,{},v);g&&(t[r]=g)}function g(e,t){return(0,s.S9)(e,null,t)}},37308:(e,t,r)=>{r.d(t,{a:()=>n,y:()=>a});var s=r(22303),i=r(62357),o=r(75215),l=r(65242);const n={type:s.Z,json:{type:[o.z8],default:null,read:{source:["color","transparency"],reader:function(e,t){const r=null!=t.transparency?(0,l.b)(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new s.Z([i[0]||0,i[1]||0,i[2]||0,r]):null}},write:{target:{color:{type:[o.z8]},transparency:{type:o.z8}},writer:function(e,t){t.color=e.toJSON().slice(0,3);const r=(0,l.a)(e.a);0!==r&&(t.transparency=r)}}}},a={type:Number,cast:i.t_,json:{write:!0}}},27391:(e,t,r)=>{r.r(t),r.d(t,{fetchStyle:()=>b,fetchSymbolFromStyle:()=>v,resolveWebStyleSymbol:()=>f,styleNameFromItem:()=>_});var s=r(3172),i=r(78223),o=r(32243),l=r(20102),n=r(17452),a=r(65587),p=r(41253),u=r(80442),d=r(25929),c=r(21878),h=r(71144),y=r(23203);const m={};function b(e,t,r){return e.styleUrl?function(e,t){return w(e,t).then((t=>({data:t.data,baseUrl:(0,n.Yd)(e),styleUrl:e})))}(e.styleUrl,r):e.styleName?function(e,t,r){const s=t.portal||a.Z.getDefault();let i;const o=`${s.url} - ${s.user&&s.user.username} - ${e}`;return m[o]||(m[o]=function(e,t,r){return t.load(r).then((()=>{const s=new p.Z({disableExtraQuery:!0,query:`owner:${C} AND type:${S} AND typekeywords:"${e}"`});return t.queryItems(s,r)})).then((({results:t})=>{let s=null;const i=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t)if(e.typeKeywords.some((e=>e.toLowerCase()===i))&&e.type===S&&e.owner===C){s=e;break}if(!s)throw new l.Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(r)}))}(e,s,r).then((e=>(i=e,e.fetchData()))).then((t=>({data:t,baseUrl:i.itemUrl,styleName:e})))),m[o]}(e.styleName,t,r):Promise.reject(new l.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function f(e,t,r,s){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,r){const s=x.replace(/\{SymbolName\}/gi,e.name);return w(s,r).then((e=>{const r=g(e.data);return(0,c.i)(r,{portal:t.portal,url:(0,n.mN)((0,n.Yd)(s)),origin:"portal-item"})}))}(e,t,s):b(e,t,s).then((i=>v(i,e.name,t,r,s))):Promise.reject(new l.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function v(e,t,r,s,a){const p=e.data,m={portal:r.portal,url:(0,n.mN)(e.baseUrl),origin:"portal-item"},b=p.items.find((e=>e.name===t));if(!b){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new l.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let f=(0,d.f)(function(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!(0,u.Z)("enable-feature:force-wosr"))for(const t of e.formatInfos)if("gltf"===t.type)return t.href;return e.webRef}(b,s),m),v=b.thumbnail&&b.thumbnail.href;const _=b.thumbnail&&b.thumbnail.imageData;(0,o.XO)()&&(f=(0,o.pJ)(f),v=(0,o.pJ)(v));const C={portal:r.portal,url:(0,n.mN)((0,n.Yd)(f)),origin:"portal-item"};return w(f,a).then((o=>{const l="cimRef"===s?g(o.data):o.data,n=(0,c.i)(l,C);if(n&&(0,i.dU)(n)){if(v){const e=(0,d.f)(v,m);n.thumbnail=new y.Z({url:e})}else _&&(n.thumbnail=new y.Z({url:`data:image/png;base64,${_}`}));e.styleUrl?n.styleOrigin=new h.Z({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(n.styleOrigin=new h.Z({portal:r.portal,styleName:e.styleName,name:t}))}return n}))}function g(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function _(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&"Esri Style"!==t)return t}function w(e,t){const r={responseType:"json",query:{f:"json"},...t};return(0,s.default)((0,n.Fv)(e),r)}const C="esri_en",S="Style",x="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},45119:(e,t,r)=>{r.d(t,{Hc:()=>u,w2:()=>c,Uz:()=>p,$K:()=>o,KW:()=>d}),r(80442);var s=r(65617),i=r(60437);function o(e,{isPrimitive:t,width:r,depth:i,height:o}){const l=t?10:1;if(null==r&&null==o&&null==i)return[l*e[0],l*e[1],l*e[2]];const n=(0,s.f)(r,i,o);let a;for(let t=0;t<3;t++){const r=n[t];if(null!=r){a=r/e[t];break}}for(let t=0;t<3;t++)null==n[t]&&(n[t]=e[t]*a);return n}const l=(0,i.al)(-.5,-.5,-.5,.5,.5,.5),n=(0,i.al)(-.5,-.5,0,.5,.5,1),a=(0,i.al)(-.5,-.5,0,.5,.5,.5);function p(e){switch(e){case"sphere":case"cube":case"diamond":return l;case"cylinder":case"cone":case"inverted-cone":return n;case"tetrahedron":return a;default:return}}const u=["butt","square","round"],d=[...u,"none"],c=["miter","bevel","round"]},94075:(e,t,r)=>{r.d(t,{Ds:()=>n,KA:()=>l});var s=r(17452),i=r(25929);function o(e,t){return function(e){return e&&("service"===e.origin||"portal-item"===e.origin)&&e.layer&&("feature"===e.layer.type||"stream"===e.layer.type)}(t)&&!(0,s.YP)(e)&&t.layer.parsedUrl?(0,s.v_)(t.layer.parsedUrl.path,"images",e):(0,i.f)(e,t)}const l={json:{read:{source:["imageData","url"],reader:function(e,t,r){return t.imageData?(0,s._l)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):o(t.url,r)}},write:{writer(e,t,r,o){!function(e,t,r,o){if((0,s.HK)(e)){const l=(0,s.sJ)(e);t.contentType=l.mediaType,t.imageData=l.data,r&&r.imageData===t.imageData&&r.url&&(0,i.w)(r.url,t,"url",o)}else(0,i.w)(e,t,"url",o)}(e,t,this.source,o)}}}},n={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const s={};return t.imageData&&(s.imageData=t.imageData),t.contentType&&(s.contentType=t.contentType),t.url&&(s.url=o(t.url,r)),s}}}}},65242:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>o});var s=r(75215);function i(e){const t=(0,s.vU)(100*(1-e));return Math.max(0,Math.min(t,100))}function o(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}}}]);