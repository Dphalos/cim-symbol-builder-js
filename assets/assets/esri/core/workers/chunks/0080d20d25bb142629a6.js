"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5001],{25929:(e,t,r)=>{r.d(t,{f:()=>i,i:()=>d,p:()=>p,r:()=>o,t:()=>a,w:()=>l});var n=r(70586),s=r(17452);function i(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,s.hF)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=(0,s.PF)(e,t.portalItem.itemUrl);c.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return h(e,t&&t.portal)}function a(e,t,r=0){if(!e)return e;!(0,s.YP)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=(0,s.hF)(e);if(t){const r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){const i=h(r,t.portal);n=(0,s.PF)(h(n,t.portal),i,i),n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=function(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,s.Ie)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}(n,t&&t.portal),(0,s.YP)(n)&&(n=(0,s.Fv)(n)),null!=t&&t.resources&&null!=t&&t.portalItem&&!(0,s.YP)(n)&&!(0,s.HK)(n)&&0===r&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function o(e,t,r){return i(e,r)}function l(e,t,r,n){const s=a(e,n);void 0!==s&&(t[r]=s)}const u=/\/items\/([^\/]+)\/resources\//,c=/^\.\/resources\//;function d(e){const t=(0,n.pC)(e)?e.match(u):null;return(0,n.pC)(t)?t[1]:null}function h(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`;return(0,s.D6)(s.Gd,`${s.Gd.scheme}://${r}`)?(0,s.Ie)(e,t.portalHostname,r):(0,s.Ie)(e,r,t.portalHostname)}const p=Object.freeze({__proto__:null,fromJSON:i,toJSON:a,read:o,write:l,itemIdFromResourceUrl:d})},17896:(e,t,r)=>{r.d(t,{E:()=>d,a:()=>h,b:()=>l,c:()=>g,d:()=>v,e:()=>_,f:()=>u,g:()=>a,h:()=>f,i:()=>p,k:()=>U,l:()=>i,m:()=>b,n:()=>y,p:()=>m,q:()=>S,r:()=>O,s:()=>o,t:()=>M,u:()=>B,w:()=>I});var n=r(65617),s=r(46851);function i(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function u(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function h(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function p(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(r*r+n*n+s*s)}function f(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return r*r+n*n+s*s}function m(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function y(e,t){const r=t[0],n=t[1],s=t[2];let i=r*r+n*n+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function g(e,t,r){const n=t[0],s=t[1],i=t[2],a=r[0],o=r[1],l=r[2];return e[0]=s*l-i*o,e[1]=i*a-n*l,e[2]=n*o-s*a,e}function _(e,t,r,n){const s=t[0],i=t[1],a=t[2];return e[0]=s+n*(r[0]-s),e[1]=i+n*(r[1]-i),e[2]=a+n*(r[2]-a),e}function b(e,t,r){const n=t[0],s=t[1],i=t[2];return e[0]=r[0]*n+r[4]*s+r[8]*i+r[12],e[1]=r[1]*n+r[5]*s+r[9]*i+r[13],e[2]=r[2]*n+r[6]*s+r[10]*i+r[14],e}function M(e,t,r){const n=t[0],s=t[1],i=t[2];return e[0]=n*r[0]+s*r[3]+i*r[6],e[1]=n*r[1]+s*r[4]+i*r[7],e[2]=n*r[2]+s*r[5]+i*r[8],e}function S(e,t,r){const n=r[0],s=r[1],i=r[2],a=r[3],o=t[0],l=t[1],u=t[2];let c=s*u-i*l,d=i*o-n*u,h=n*l-s*o,p=s*h-i*d,f=i*c-n*h,m=n*d-s*c;const y=2*a;return c*=y,d*=y,h*=y,p*=2,f*=2,m*=2,e[0]=o+c+p,e[1]=l+d+f,e[2]=u+h+m,e}const w=(0,n.c)(),C=(0,n.c)();function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function O(e,t,r){const n=r[0]-t[0],s=r[1]-t[1],i=r[2]-t[2];let a=n*n+s*s+i*i;return a>0?(a=1/Math.sqrt(a),e[0]=n*a,e[1]=s*a,e[2]=i*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const I=u,T=c,x=d,q=p,R=f,B=i,j=m;Object.freeze({__proto__:null,length:i,copy:a,set:o,add:l,subtract:u,multiply:c,divide:d,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:h,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},distance:p,squaredDistance:f,squaredLength:m,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:y,dot:v,cross:g,lerp:_,hermite:function(e,t,r,n,s,i){const a=i*i,o=a*(2*i-3)+1,l=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return e[0]=t[0]*o+r[0]*l+n[0]*u+s[0]*c,e[1]=t[1]*o+r[1]*l+n[1]*u+s[1]*c,e[2]=t[2]*o+r[2]*l+n[2]*u+s[2]*c,e},bezier:function(e,t,r,n,s,i){const a=1-i,o=a*a,l=i*i,u=o*a,c=3*i*o,d=3*l*a,h=l*i;return e[0]=t[0]*u+r[0]*c+n[0]*d+s[0]*h,e[1]=t[1]*u+r[1]*c+n[1]*d+s[1]*h,e[2]=t[2]*u+r[2]*c+n[2]*d+s[2]*h,e},random:function(e,t){t=t||1;const r=2*(0,s.R)()*Math.PI,n=2*(0,s.R)()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e},transformMat4:b,transformMat3:M,transformQuat:S,rotateX:function(e,t,r,n){const s=[],i=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],i[0]=s[0],i[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),i[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateY:function(e,t,r,n){const s=[],i=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],i[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),i[1]=s[1],i[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateZ:function(e,t,r,n){const s=[],i=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],i[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),i[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),i[2]=s[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},angle:function(e,t){a(w,e),a(C,t),y(w,w),y(C,C);const r=v(w,C);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:U,equals:function(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],a=t[0],o=t[1],l=t[2];return Math.abs(r-a)<=s.E*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=s.E*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-l)<=s.E*Math.max(1,Math.abs(i),Math.abs(l))},direction:O,sub:I,mul:T,div:x,dist:q,sqrDist:R,len:B,sqrLen:j})},98766:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>c,c:()=>s,d:()=>y,e:()=>p,f:()=>f,g:()=>_,h:()=>b,l:()=>v,n:()=>m,s:()=>i,t:()=>g});var n=r(46851);function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function i(e,t,r,n,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e}function a(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function u(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function d(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(r*r+n*n+s*s+i*i)}function h(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+s*s+i*i}function p(e){const t=e[0],r=e[1],n=e[2],s=e[3];return Math.sqrt(t*t+r*r+n*n+s*s)}function f(e){const t=e[0],r=e[1],n=e[2],s=e[3];return t*t+r*r+n*n+s*s}function m(e,t){const r=t[0],n=t[1],s=t[2],i=t[3];let a=r*r+n*n+s*s+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=s*a,e[3]=i*a),e}function y(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function v(e,t,r,n){const s=t[0],i=t[1],a=t[2],o=t[3];return e[0]=s+n*(r[0]-s),e[1]=i+n*(r[1]-i),e[2]=a+n*(r[2]-a),e[3]=o+n*(r[3]-o),e}function g(e,t,r){const n=t[0],s=t[1],i=t[2],a=t[3];return e[0]=r[0]*n+r[4]*s+r[8]*i+r[12]*a,e[1]=r[1]*n+r[5]*s+r[9]*i+r[13]*a,e[2]=r[2]*n+r[6]*s+r[10]*i+r[14]*a,e[3]=r[3]*n+r[7]*s+r[11]*i+r[15]*a,e}function _(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function b(e,t){const r=e[0],s=e[1],i=e[2],a=e[3],o=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=n.E*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-l)<=n.E*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-u)<=n.E*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=n.E*Math.max(1,Math.abs(a),Math.abs(c))}const M=o,S=l,w=u,C=d,U=h,O=p,I=f;Object.freeze({__proto__:null,copy:s,set:i,add:a,subtract:o,multiply:l,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:c,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},distance:d,squaredDistance:h,length:p,squaredLength:f,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:m,dot:y,lerp:v,random:function(e,t){let r,s,i,a,o,l;t=t||1;do{r=2*(0,n.R)()-1,s=2*(0,n.R)()-1,o=r*r+s*s}while(o>=1);do{i=2*(0,n.R)()-1,a=2*(0,n.R)()-1,l=i*i+a*a}while(l>=1);const u=Math.sqrt((1-o)/l);return e[0]=t*r,e[1]=t*s,e[2]=t*i*u,e[3]=t*a*u,e},transformMat4:g,transformQuat:function(e,t,r){const n=t[0],s=t[1],i=t[2],a=r[0],o=r[1],l=r[2],u=r[3],c=u*n+o*i-l*s,d=u*s+l*n-a*i,h=u*i+a*s-o*n,p=-a*n-o*s-l*i;return e[0]=c*u+p*-a+d*-l-h*-o,e[1]=d*u+p*-o+h*-a-c*-l,e[2]=h*u+p*-l+c*-o-d*-a,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:_,equals:b,sub:M,mul:S,div:w,dist:C,sqrDist:U,len:O,sqrLen:I})},3920:(e,t,r)=>{r.d(t,{r:()=>c,p:()=>u});var n=r(43697),s=r(15923),i=r(61247),a=r(5600),o=r(52011),l=r(89749);const u=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new i.Z}get updatingHandles(){return this._get("updatingHandles")||new l.t}};return(0,n._)([(0,a.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,n._)([(0,a.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,n._)([(0,o.j)("esri.core.HandleOwner")],t),t};let c=class extends(u(s.Z)){};c=(0,n._)([(0,o.j)("esri.core.HandleOwner")],c)},61247:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(43697),s=r(15923),i=r(81049),a=r(70586),o=r(5600),l=r(52011);let u=class extends s.Z{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!i.Z.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||i.Z.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||i.Z.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let e=0;e<t.length;e++)t[e].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(let t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return(0,a.j0)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};(0,n._)([(0,o.Cb)({readOnly:!0})],u.prototype,"size",null),u=(0,n._)([(0,l.j)("esri.core.Handles")],u);const c=u},36030:(e,t,r)=>{r.d(t,{J:()=>i});var n=r(35454),s=r(5600);function i(e,t={}){var r;const i=e instanceof n.Xn?e:new n.Xn(e,t),a={type:null==(r=null==t?void 0:t.ignoreUnknown)||r?i.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:i.jsonValues,read:(null==t||!t.readOnly)&&{reader:i.read},write:{writer:i.write}}};return void 0!==(null==t?void 0:t.default)&&(a.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(a.json.name=t.name),(0,s.Cb)(a)}},22021:(e,t,r)=>{r.d(t,{ZF:()=>h,Kt:()=>p,jE:()=>y,uZ:()=>a,oK:()=>f,Vl:()=>c,wt:()=>o,t7:()=>u,Sf:()=>i,fp:()=>l,BV:()=>d});var n=r(17896);r(98766);const s=new Float32Array(1);function i(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function a(e,t,r){return Math.min(Math.max(e,t),r)}function o(e){return 0==(e&e-1)}function l(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function u(e,t,r){return e+(t-e)*r}function c(e){return e*Math.PI/180}function d(e){return 180*e/Math.PI}function h(e){return Math.acos(a(e,-1,1))}function p(e){return Math.asin(a(e,-1,1))}function f(e){return m(Math.max(-v,Math.min(e,v)))}function m(e){return s[0]=e,s[0]}function y(e,t){const r=(0,n.l)(e),s=p(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return(0,n.s)(t,r,s,i),t}const v=m(34028234663852886e22)},17445:(e,t,r)=>{r.d(t,{Ym:()=>i}),r(91460);var n=r(70586),s=r(26258);function i(e,t,r={}){return function(e,t,r={},i){let a=null;const o=r.once?(e,r)=>{i(e)&&((0,n.hw)(a),t(e,r))}:(e,r)=>{i(e)&&t(e,r)};if(a=(0,s.aQ)(e,o,r.sync,r.equals),r.initial){const t=e();o(t,t)}return a}(e,t,r,a)}function a(e){return!0}r(87538)},67900:(e,t,r)=>{r.d(t,{gV:()=>E,En:()=>w,Z7:()=>x,c9:()=>T,_R:()=>O,qE:()=>B,cM:()=>I,hd:()=>c,ty:()=>C,Jo:()=>G,$C:()=>U}),r(80442);var n=r(35454),s=r(70586),i=r(24678),a=r(82971),o=r(68441),l=r(8744),u=r(58116);const c=39.37,d=o.sv.radius*Math.PI/200,h=/UNIT\[([^\]]+)\]\]$/i,p=u.Z,f=/UNIT\[([^\]]+)\]/i,m=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=(0,n.wY)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),v=e=>e*e,g=e=>e*e*e,_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:v(.001)},"square-centimeters":{inBaseUnits:v(.01)},"square-decimeters":{inBaseUnits:v(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:v(1e3)},"square-inches":{inBaseUnits:v(.0254)},"square-feet":{inBaseUnits:v(.3048)},"square-yards":{inBaseUnits:v(.9144)},"square-miles":{inBaseUnits:v(1609.344)},"square-us-feet":{inBaseUnits:v(1200/3937)},acres:{inBaseUnits:.0015625*v(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*g(.001)},"cubic-centimeters":{inBaseUnits:1e3*g(.01)},"cubic-decimeters":{inBaseUnits:1e3*g(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*g(1e3)},"cubic-inches":{inBaseUnits:1e3*g(.0254)},"cubic-feet":{inBaseUnits:1e3*g(.3048)},"cubic-yards":{inBaseUnits:1e3*g(.9144)},"cubic-miles":{inBaseUnits:1e3*g(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},b=function(){const e={};for(const t in _)for(const r in _[t].units)e[r]=t;return e}();function M(e){const t=b[e];if(t)return t;throw new Error("unknown measure")}function S(e,t=null){return t=t||M(e),_[t].baseUnit===e}function w(e,t,r){if(t===r)return e;const n=M(t);if(n!==M(r))throw new Error("incompatible units");const s=S(t,n)?e:function(e,t,r){return e*_[r].units[t].inBaseUnits}(e,t,n);return S(r,n)?s:function(e,t,r){return e/_[r].units[t].inBaseUnits}(s,r,n)}function C(e,t,r){return w(e,t,"meters")/(r*Math.PI/180)}function U(e){return y.fromJSON(e.toLowerCase())||null}function O(e){if(e&&"object"==typeof e&&!(0,l.N$)(e))return 1;const t=T(e);return t>1e5?1:t}function I(e){return T(e)>=(e instanceof a.Z?(0,i.Iu)(e).metersPerDegree:1e5)?"meters":B(e)}function T(e,t=o.sv.metersPerDegree){return x(e,!0)||t}function x(e,t=!1){let r,n,s=null;if(null!=e&&("object"==typeof e?(r=e.wkid,n=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(n=e)),r){if((0,l.o$)(r))return o.yr.metersPerDegree;if((0,l.ME)(r))return o.Z1.metersPerDegree;s=p.values[p[r]],!s&&t&&m.has(r)&&(s=d)}else n&&(P(n)?s=q(h.exec(n),s):j(n)&&(s=q(f.exec(n),s)));return s}function q(e,t){return e&&e[1]?R(e[1]):t}function R(e){return parseFloat(e.split(",")[1])}function B(e){let t,r,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)n=p.units[p[t]];else if(r){const e=P(r)?h:j(r)?f:null;if(e){const t=e.exec(r);t&&t[1]&&(n=function(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||-1===p.units.indexOf(r)){const t=R(e);r=null;const n=p.values;for(let e=0;e<n.length;++e)if(Math.abs(t-n[e])<1e-7){r=p.units[e];break}}return r}(t[1]))}}return(0,s.pC)(n)?U(n):null}function j(e){return/^GEOCCS/i.test(e)}function P(e){return/^PROJCS/i.test(e)}const k={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},A={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},E=(0,n.wY)()(k),G=(0,n.wY)()(A);(0,n.wY)()({...k,...A})},43050:(e,t,r)=>{r.d(t,{S1:()=>a,on:()=>d,OY:()=>c,cm:()=>l,N1:()=>o,LR:()=>u,tH:()=>h});var n=r(91460),s=(r(22974),r(95330));const i=/\?(\.|$)/g;function a(e,t,r,n){const s=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],a=function(e,t,r,n){return e.watch(t,r,n)}(e,t,r,n);for(const t of s){const n=t.trim().replace(i,"$1"),s=e.get(n);r.call(e,s,s,n,e)}return a}function o(e,t,r,n){return h(e,t,p,r,n)}function l(e,t,r,n){return h(e,t,f,r,n)}function u(e,t,r,n){return h(e,t,m,r,n)}function c(e,t,r,n){return h(e,t,y,r,n)}function d(e,t,r,s,i,o,l){const u={};function c(t){const n=u[t];n&&(o&&o(n.target,t,e,r),n.handle.remove(),delete u[t])}const d=a(e,t,((t,a,o)=>{c(o),(0,n.vT)(t)&&(u[o]={handle:(0,n.on)(t,r,s),target:t},i&&i(t,o,e,r))}),l);return{remove(){d.remove();for(const e in u)c(e)}}}function h(e,t,r,n,i){const a="function"==typeof n?n:null,o="object"==typeof n?n:null;"boolean"==typeof n&&(i=n);let l,u=!1;function c(){l&&(l.remove(),l=null)}const d=(0,s.dD)();(0,s.fu)(o,(()=>{c(),d.reject((0,s.zE)())}));const h={then:d.promise.then.bind(d.promise),catch:d.promise.catch.bind(d.promise),remove:c};return Object.freeze(h),l=function(e,t,r,n,s){const i=e.watch(t,((t,s,i,a)=>{r&&!r(t)||null==n||n.call(e,t,s,i,a)}),s);if(Array.isArray(t))for(const s of t){const i=e.get(s);r&&r(i)&&(null==n||n.call(e,i,i,t,e))}else{const s=e.get(t);r&&r(s)&&(null==n||n.call(e,s,s,t,e))}return i}(e,t,r,((t,r,n,s)=>{u=!0,c(),a&&a.call(e,t,r,n,s),d.resolve({value:t,oldValue:r,propertyName:n,target:s})}),i),u&&c(),h}function p(e){return!!e}function f(e){return!e}function m(e){return!0===e}function y(e){return!1===e}},24678:(e,t,r)=>{r.d(t,{GG:()=>o,HQ:()=>l,VY:()=>u,wY:()=>c,Iu:()=>p,e8:()=>f,rS:()=>h,N_:()=>d});var n=r(82971),s=r(68441),i=r(8744);function a(e){return new n.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const o=a(s.sv),l=a(s.yr),u=a(s.Z1),c=new n.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${s.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function d(e){return e&&e===s.yr?l:e&&e===s.Z1?u:o}function h(e){return e&&((0,i.BZ)(e)||e===l)?l:e&&((0,i.V2)(e)||e===u)?u:o}function p(e){return e&&((0,i.BZ)(e)||e===l)?s.yr:e&&((0,i.V2)(e)||e===u)?s.Z1:s.sv}function f(e){return(0,i.o$)(e)?s.yr:(0,i.ME)(e)?s.Z1:s.sv}},24470:(e,t,r)=>{r.d(t,{Gv:()=>h,SO:()=>u,r3:()=>d,Ue:()=>i,oJ:()=>o,al:()=>a,kK:()=>c,HH:()=>l}),r(80442),r(22021);var n=r(70586),s=r(6570);function i(e=p){return[e[0],e[1],e[2],e[3]]}function a(e,t,r,n,s=i()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s}function o(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new s.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e){return function(e){return(0,n.Wi)(e)||e[0]>=e[2]?0:e[2]-e[0]}(e)*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e)}function c(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function d(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const h=[1/0,1/0,-1/0,-1/0],p=[0,0,0,0]},98636:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var n=r(43697),s=(r(66577),r(3172)),i=r(20102),a=r(3920),o=r(70586),l=r(16453),u=r(95330),c=r(17452),d=r(5600),h=(r(67676),r(80442),r(90578)),p=r(71715),f=r(52011),m=r(30556),y=r(29600),v=r(54295),g=r(46486),_=r(7944),b=r(17287),M=r(41522),S=r(17017),w=r(38009),C=r(16859),U=r(34760),O=r(72965),I=r(10343),T=r(66677),x=r(21506),q=r(49867),R=r(82971);const B=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let j=class extends((0,M.h)((0,I.x)((0,O.M)((0,w.q)((0,C.I)((0,g.Z)((0,_.O)((0,b.Y)((0,l.R)((0,a.p)((0,U.Q)((0,v.V)((0,S.N)(y.Z)))))))))))))){constructor(...e){super(...e),this.listMode="show",this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=(0,o.pC)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(u.r9).then((()=>this._fetchService(t)))),Promise.resolve(this)}get attributionDataUrl(){var e;const t=null==(e=this.parsedUrl)?void 0:e.path.toLowerCase();return t&&this._getDefaultAttribution(this._getMapName(t))}readSpatialReference(e,t){return(e=e||t.tileInfo&&t.tileInfo.spatialReference)&&R.Z.fromJSON(e)}writeSublayers(e,t,r,n){if(!this.loaded||!e)return;const s=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),i=[],a={writeSublayerStructure:!1,...n};s.forEach((e=>{const t=e.write({},a);i.push(t)})),i.some((e=>Object.keys(e).length>1))&&(t.layers=i)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>(0,c.mN)(e).path)):null}fetchTile(e,t,r,n={}){const{signal:i}=n,a=this.getTileUrl(e,t,r),o={responseType:"image",signal:i,query:{...this.refreshParameters}};return(0,s.default)(a,o).then((e=>e.data))}getTileUrl(e,t,r){const n=!this.tilemapCache&&this.supportsBlankTile,s=(0,c.B7)({...this.parsedUrl.query,blankTile:!n&&null,...this.customParameters,token:this.apiKey}),i=this.tileServers;return`${i&&i.length?i[t%i.length]:this.parsedUrl.path}/tile/${e}/${t}/${r}${s?"?"+s:""}`}_fetchService(e){return new Promise(((t,r)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new i.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new i.Z("tile-layer:undefined-url","layer's url is not defined");const n=(0,T.Qc)(this.parsedUrl.path);if((0,o.pC)(n)&&"ImageServer"===n.serverType)throw new i.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,s.default)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t,r)})).then((t=>{if(t.ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t.data,this.read(t.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,T.M8)(this.url))return this._fetchServerVersion(this.url,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,t){if(!(0,T.B5)(e))return Promise.reject();const r=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,s.default)(r,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new i.Z("tile-layer:version-not-available")}))}_getMapName(e){const t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return t&&t[2]}_getDefaultAttribution(e){if(!e)return;let t;e=e.toLowerCase();for(let r=0,n=B.length;r<n;r++)if(t=B[r],t.toLowerCase().indexOf(e)>-1)return(0,c.hF)("//static.arcgis.com/attribution/"+t)}_getDefaultTileServers(e){const t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),r=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||r?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile.__isDefault__}};(0,n._)([(0,d.Cb)({readOnly:!0})],j.prototype,"attributionDataUrl",null),(0,n._)([(0,d.Cb)({type:["show","hide","hide-children"]})],j.prototype,"listMode",void 0),(0,n._)([(0,d.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],j.prototype,"isReference",void 0),(0,n._)([(0,d.Cb)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],j.prototype,"operationalLayerType",void 0),(0,n._)([(0,d.Cb)({type:Boolean})],j.prototype,"resampling",void 0),(0,n._)([(0,d.Cb)()],j.prototype,"sourceJSON",void 0),(0,n._)([(0,d.Cb)({type:R.Z})],j.prototype,"spatialReference",void 0),(0,n._)([(0,p.r)("spatialReference",["spatialReference","tileInfo"])],j.prototype,"readSpatialReference",null),(0,n._)([(0,d.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],j.prototype,"path",void 0),(0,n._)([(0,d.Cb)({readOnly:!0})],j.prototype,"sublayers",void 0),(0,n._)([(0,m.c)("sublayers",{layers:{type:[q.Z]}})],j.prototype,"writeSublayers",null),(0,n._)([(0,d.Cb)({json:{read:!1,write:!1}})],j.prototype,"popupEnabled",void 0),(0,n._)([(0,d.Cb)()],j.prototype,"tileServers",null),(0,n._)([(0,h.p)("tileServers")],j.prototype,"castTileServers",null),(0,n._)([(0,d.Cb)({readOnly:!0,json:{read:!1}})],j.prototype,"type",void 0),(0,n._)([(0,d.Cb)(x.HQ)],j.prototype,"url",void 0),j=(0,n._)([(0,f.j)("esri.layers.TileLayer")],j),j.prototype.fetchTile.__isDefault__=!0;const P=j},46486:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(43697),s=(r(66577),r(5600)),i=(r(67676),r(80442),r(75215),r(71715)),a=r(52011),o=r(45322),l=r(56608),u=r(82971);const c=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new l.y({layer:this}):null}};return(0,n._)([(0,s.Cb)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,n._)([(0,s.Cb)()],t.prototype,"minScale",void 0),(0,n._)([(0,i.r)("service","minScale")],t.prototype,"readMinScale",null),(0,n._)([(0,s.Cb)()],t.prototype,"maxScale",void 0),(0,n._)([(0,i.r)("service","maxScale")],t.prototype,"readMaxScale",null),(0,n._)([(0,s.Cb)({type:u.Z})],t.prototype,"spatialReference",void 0),(0,n._)([(0,s.Cb)({readOnly:!0})],t.prototype,"supportsBlankTile",null),(0,n._)([(0,s.Cb)(o.h)],t.prototype,"tileInfo",void 0),(0,n._)([(0,s.Cb)()],t.prototype,"tilemapCache",void 0),(0,n._)([(0,i.r)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),(0,n._)([(0,s.Cb)()],t.prototype,"version",void 0),t=(0,n._)([(0,a.j)("esri.layers.mixins.ArcGISCachedService")],t),t}},1231:(e,t,r)=>{r.d(t,{Z:()=>y});var n,s=r(43697),i=r(35454),a=r(10736),o=r(5600),l=(r(67676),r(80442),r(75215)),u=r(36030),c=r(71715),d=r(52011),h=r(72729),p=r(86719);const f=new i.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=n=class extends a.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?f.fromJSON(r.fieldValueType):null}clone(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,s._)([(0,o.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,s._)([(0,o.Cb)()],m.prototype,"description",void 0),(0,s._)([(0,c.r)("description")],m.prototype,"readDescription",null),(0,s._)([(0,o.Cb)({types:h.V5,json:{read:{reader:h.im},write:!0}})],m.prototype,"domain",void 0),(0,s._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,s._)([(0,o.Cb)({type:l.z8,json:{write:!0}})],m.prototype,"length",void 0),(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,s._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,s._)([(0,u.J)(p.v)],m.prototype,"type",void 0),(0,s._)([(0,o.Cb)()],m.prototype,"valueType",void 0),(0,s._)([(0,c.r)("valueType",["description"])],m.prototype,"readValueType",null),m=n=(0,s._)([(0,d.j)("esri.layers.support.Field")],m);const y=m},66677:(e,t,r)=>{r.d(t,{ld:()=>f,B5:()=>d,M8:()=>y,G:()=>b,Qc:()=>h,DR:()=>p,Nm:()=>v,XG:()=>g,a7:()=>m,wH:()=>_});var n=r(70586),s=r(17452),i=r(25929);const a={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},o=Object.values(a),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function d(e){return!!l.test(e)}function h(e){const t=(0,s.mN)(e),r=t.path.match(l)||t.path.match(u);if(!r)return null;const[,n,i,o,c]=r,d=i.indexOf("/");return{title:f(-1!==d?i.slice(d+1):i),serverType:a[o.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:n}}}function p(e){const t=(0,s.mN)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function f(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,t){const r=[];if(e){const t=h(e);(0,n.pC)(t)&&t.title&&r.push(t.title)}if(t){const e=f(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function y(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function v(e,t){return e?(0,s.Qj)((0,s.Hu)(e,t)):e}function g(e){let{url:t}=e;if(!t)return{url:t};t=(0,s.Hu)(t,e.logger);const r=(0,s.mN)(t),i=h(r.path);let a;if((0,n.pC)(i))null!=i.sublayer&&null==e.layer.layerId&&(a=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=p(r.path);(0,n.pC)(e)&&(t=e.serviceUrl,a=e.sublayerId)}return{url:(0,s.Qj)(t),layerId:a}}function _(e,t,r,n,a){(0,i.w)(t,n,"url",a),n.url&&null!=e.layerId&&(n.url=(0,s.v_)(n.url,r,e.layerId.toString()))}function b(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),s=-1!==t.indexOf("/imageserver/wmsserver"),i=-1!==t.indexOf("/wmsserver");return r&&(n||s||i)}},72729:(e,t,r)=>{r.d(t,{im:()=>U,V5:()=>C}),r(80442);var n,s=r(43697),i=r(22974),a=r(5600),o=(r(75215),r(36030)),l=r(52011),u=r(10736);r(67676);let c=n=class extends u.wq{constructor(e){super(e),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};(0,s._)([(0,a.Cb)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,s._)([(0,a.Cb)({type:[String,Number],json:{write:!0}})],c.prototype,"code",void 0),c=n=(0,s._)([(0,l.j)("esri.layers.support.CodedValue")],c);const d=c,h=new(r(35454).Xn)({inherited:"inherited",codedValue:"coded-value",range:"range"});let p=class extends u.wq{constructor(e){super(e),this.name=null,this.type=null}};(0,s._)([(0,a.Cb)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,s._)([(0,o.J)(h)],p.prototype,"type",void 0),p=(0,s._)([(0,l.j)("esri.layers.support.Domain")],p);const f=p;var m;let y=m=class extends f{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new m({codedValues:(0,i.d9)(this.codedValues),name:this.name})}};(0,s._)([(0,a.Cb)({type:[d],json:{write:!0}})],y.prototype,"codedValues",void 0),(0,s._)([(0,o.J)({codedValue:"coded-value"})],y.prototype,"type",void 0),y=m=(0,s._)([(0,l.j)("esri.layers.support.CodedValueDomain")],y);const v=y;var g;r(92604),r(37697);let _=g=class extends f{constructor(e){super(e),this.type="inherited"}clone(){return new g}};(0,s._)([(0,o.J)({inherited:"inherited"})],_.prototype,"type",void 0),_=g=(0,s._)([(0,l.j)("esri.layers.support.InheritedDomain")],_);const b=_;var M;let S=M=class extends f{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new M({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,s._)([(0,a.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],S.prototype,"maxValue",void 0),(0,s._)([(0,a.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],S.prototype,"minValue",void 0),(0,s._)([(0,o.J)({range:"range"})],S.prototype,"type",void 0),S=M=(0,s._)([(0,l.j)("esri.layers.support.RangeDomain")],S);const w=S,C={key:"type",base:f,typeMap:{range:S,"coded-value":v,inherited:b}};function U(e){if(!e||!e.type)return null;switch(e.type){case"range":return w.fromJSON(e);case"codedValue":return v.fromJSON(e);case"inherited":return b.fromJSON(e)}return null}},86719:(e,t,r)=>{r.d(t,{v:()=>n});const n=new(r(35454).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},89749:(e,t,r)=>{r.d(t,{t:()=>p});var n=r(43697),s=r(15923),i=r(61247),a=r(70586),o=r(17445),l=r(90584),u=r(43050),c=r(67723),d=r(5600),h=r(52011);let p=class extends s.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new i.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,n=0){const s=0!=(1&n),i=++this.handleId;s||this.installSyncUpdatingWatch(e,t,i);const a=0!=(2&n)?(0,u.S1)(e,t,r,s):e.watch(t,r,s);return this.handles.add(a,i),{remove:()=>this.handles.remove(i)}}addOnCollectionPropertyChange(e,t,r,n=0){const s=0!=(2&n),i=++this.handleId;return this.handles.add([(0,u.on)(e,t,"after-changes",this.createSyncUpdatingCallback()),(0,u.on)(e,t,"change",r,s?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],i),{remove:()=>{this.handles.remove(i)}}}addOnCollectionChange(e,t,r=0){const n=0!=(2&r),s=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],s),n&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(s)}}}addPromise(e){if((0,a.Wi)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(f)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){const n=this.createSyncUpdatingCallback(),s=(0,o.Ym)((()=>(0,c.$z)(e,t)),n,{sync:!0,equals:()=>!1});return this.handles.add(s,r),s}createSyncUpdatingCallback(){return()=>{this.handles.remove(f),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,l.Os)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(f))})),f)}}};(0,n._)([(0,d.Cb)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,n._)([(0,h.j)("esri.views.support.WatchUpdatingTracking")],p);const f=-42},410:(e,t,r)=>{function n(e){var t;const r=e.layer;return"floorInfo"in r&&null!=(t=r.floorInfo)&&t.floorField&&"floors"in e.view?a(e.view.floors,r.floorInfo.floorField):null}function s(e,t){var r;return"floorInfo"in t&&null!=(r=t.floorInfo)&&r.floorField?a(e,t.floorInfo.floorField):null}function i(e,t){const{definitionExpression:r}=t;return e?r?`(${r}) AND (${e})`:e:r}function a(e,t){if(null==e||!e.length)return null;const r=e.filter((e=>""!==e)).map((e=>`'${e}'`));return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}r.d(t,{Hp:()=>i,cx:()=>n,ff:()=>s})}}]);