"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3394,3172],{92835:(e,t,r)=>{r.d(t,{Z:()=>p});var n,s=r(43697),i=r(10736),o=r(70586),a=r(35463),l=r(5600),u=(r(67676),r(80442),r(75215),r(71715)),c=r(52011),h=r(30556);let f=n=class extends i.wq{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return d}static get empty(){return m}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new n({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=(0,o.pC)(this.start)?this.start.getTime():this.start,r=(0,o.pC)(this.end)?this.end.getTime():this.end,n=(0,o.pC)(e.start)?e.start.getTime():e.start,s=(0,o.pC)(e.end)?e.end.getTime():e.end;return t===n&&r===s}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=(0,o.Po)(this.start,(t=>(0,a.JE)(t,e))),r=(0,o.Po)(this.end,(t=>(0,a.Nm)((0,a.JE)(t,e),1,e)));return new n({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=(0,o.R2)(this.start,-1/0,(e=>e.getTime())),r=(0,o.R2)(this.end,1/0,(e=>e.getTime())),s=(0,o.R2)(e.start,-1/0,(e=>e.getTime())),i=(0,o.R2)(e.end,1/0,(e=>e.getTime()));let a,l;if(s>=t&&s<=r?a=s:t>=s&&t<=i&&(a=t),r>=s&&r<=i?l=r:i>=t&&i<=r&&(l=i),!isNaN(a)&&!isNaN(l)){const e=new n;return e.start=a===-1/0?null:new Date(a),e.end=l===1/0?null:new Date(l),e}return n.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new n,{start:s,end:i}=this;return(0,o.pC)(s)&&(r.start=(0,a.Nm)(s,e,t)),(0,o.pC)(i)&&(r.end=(0,a.Nm)(i,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return d.clone();const t=(0,o.pC)(this.start)&&(0,o.pC)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=(0,o.pC)(this.end)&&(0,o.pC)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}};(0,s._)([(0,l.Cb)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"end",void 0),(0,s._)([(0,u.r)("end")],f.prototype,"readEnd",null),(0,s._)([(0,h.c)("end")],f.prototype,"writeEnd",null),(0,s._)([(0,l.Cb)({readOnly:!0,json:{read:!1}})],f.prototype,"isAllTime",null),(0,s._)([(0,l.Cb)({readOnly:!0,json:{read:!1}})],f.prototype,"isEmpty",null),(0,s._)([(0,l.Cb)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"start",void 0),(0,s._)([(0,u.r)("start")],f.prototype,"readStart",null),(0,s._)([(0,h.c)("start")],f.prototype,"writeStart",null),f=n=(0,s._)([(0,c.j)("esri.TimeExtent")],f);const d=new f,m=new f({start:void 0,end:void 0}),p=f},99880:(e,t,r)=>{r.d(t,{V:()=>l});var n=r(68773),s=(r(3172),r(20102)),i=r(92604),o=r(17452);const a=i.Z.getLogger("esri.assets");function l(e){if(!n.Z.assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.Z("assets:path-not-set","config.assetsPath is not set");return(0,o.v_)(n.Z.assetsPath,e)}},46851:(e,t,r)=>{r.d(t,{E:()=>n,R:()=>s});const n=1e-6,s=Math.random,i=Math.PI/180,o=180/Math.PI;Object.freeze({__proto__:null,EPSILON:n,RANDOM:s,toRadian:function(e){return e*i},toDegree:function(e){return e*o},equals:function(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}})},25929:(e,t,r)=>{r.d(t,{f:()=>i,i:()=>h,p:()=>d,r:()=>a,t:()=>o,w:()=>l});var n=r(70586),s=r(17452);function i(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,s.hF)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=(0,s.PF)(e,t.portalItem.itemUrl);c.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return f(e,t&&t.portal)}function o(e,t,r=0){if(!e)return e;!(0,s.YP)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=(0,s.hF)(e);if(t){const r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){const i=f(r,t.portal);n=(0,s.PF)(f(n,t.portal),i,i),n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=function(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,s.Ie)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}(n,t&&t.portal),(0,s.YP)(n)&&(n=(0,s.Fv)(n)),null!=t&&t.resources&&null!=t&&t.portalItem&&!(0,s.YP)(n)&&!(0,s.HK)(n)&&0===r&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function a(e,t,r){return i(e,r)}function l(e,t,r,n){const s=o(e,n);void 0!==s&&(t[r]=s)}const u=/\/items\/([^\/]+)\/resources\//,c=/^\.\/resources\//;function h(e){const t=(0,n.pC)(e)?e.match(u):null;return(0,n.pC)(t)?t[1]:null}function f(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`;return(0,s.D6)(s.Gd,`${s.Gd.scheme}://${r}`)?(0,s.Ie)(e,t.portalHostname,r):(0,s.Ie)(e,r,t.portalHostname)}const d=Object.freeze({__proto__:null,fromJSON:i,toJSON:o,read:a,write:l,itemIdFromResourceUrl:h})},17896:(e,t,r)=>{r.d(t,{E:()=>h,a:()=>f,b:()=>l,c:()=>b,d:()=>_,e:()=>v,f:()=>u,g:()=>o,h:()=>m,i:()=>d,k:()=>q,l:()=>i,m:()=>y,n:()=>g,p:()=>p,q:()=>M,r:()=>x,s:()=>a,t:()=>w,u:()=>U,w:()=>T});var n=r(65617),s=r(46851);function i(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function u(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function f(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function d(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(r*r+n*n+s*s)}function m(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return r*r+n*n+s*s}function p(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function g(e,t){const r=t[0],n=t[1],s=t[2];let i=r*r+n*n+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function _(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function b(e,t,r){const n=t[0],s=t[1],i=t[2],o=r[0],a=r[1],l=r[2];return e[0]=s*l-i*a,e[1]=i*o-n*l,e[2]=n*a-s*o,e}function v(e,t,r,n){const s=t[0],i=t[1],o=t[2];return e[0]=s+n*(r[0]-s),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e}function y(e,t,r){const n=t[0],s=t[1],i=t[2];return e[0]=r[0]*n+r[4]*s+r[8]*i+r[12],e[1]=r[1]*n+r[5]*s+r[9]*i+r[13],e[2]=r[2]*n+r[6]*s+r[10]*i+r[14],e}function w(e,t,r){const n=t[0],s=t[1],i=t[2];return e[0]=n*r[0]+s*r[3]+i*r[6],e[1]=n*r[1]+s*r[4]+i*r[7],e[2]=n*r[2]+s*r[5]+i*r[8],e}function M(e,t,r){const n=r[0],s=r[1],i=r[2],o=r[3],a=t[0],l=t[1],u=t[2];let c=s*u-i*l,h=i*a-n*u,f=n*l-s*a,d=s*f-i*h,m=i*c-n*f,p=n*h-s*c;const g=2*o;return c*=g,h*=g,f*=g,d*=2,m*=2,p*=2,e[0]=a+c+d,e[1]=l+h+m,e[2]=u+f+p,e}const E=(0,n.c)(),C=(0,n.c)();function q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function x(e,t,r){const n=r[0]-t[0],s=r[1]-t[1],i=r[2]-t[2];let o=n*n+s*s+i*i;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=s*o,e[2]=i*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const T=u,O=c,S=h,P=d,A=m,U=i,k=p;Object.freeze({__proto__:null,length:i,copy:o,set:a,add:l,subtract:u,multiply:c,divide:h,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:f,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},distance:d,squaredDistance:m,squaredLength:p,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:g,dot:_,cross:b,lerp:v,hermite:function(e,t,r,n,s,i){const o=i*i,a=o*(2*i-3)+1,l=o*(i-2)+i,u=o*(i-1),c=o*(3-2*i);return e[0]=t[0]*a+r[0]*l+n[0]*u+s[0]*c,e[1]=t[1]*a+r[1]*l+n[1]*u+s[1]*c,e[2]=t[2]*a+r[2]*l+n[2]*u+s[2]*c,e},bezier:function(e,t,r,n,s,i){const o=1-i,a=o*o,l=i*i,u=a*o,c=3*i*a,h=3*l*o,f=l*i;return e[0]=t[0]*u+r[0]*c+n[0]*h+s[0]*f,e[1]=t[1]*u+r[1]*c+n[1]*h+s[1]*f,e[2]=t[2]*u+r[2]*c+n[2]*h+s[2]*f,e},random:function(e,t){t=t||1;const r=2*(0,s.R)()*Math.PI,n=2*(0,s.R)()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e},transformMat4:y,transformMat3:w,transformQuat:M,rotateX:function(e,t,r,n){const s=[],i=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],i[0]=s[0],i[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),i[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateY:function(e,t,r,n){const s=[],i=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],i[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),i[1]=s[1],i[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateZ:function(e,t,r,n){const s=[],i=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],i[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),i[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),i[2]=s[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},angle:function(e,t){o(E,e),o(C,t),g(E,E),g(C,C);const r=_(E,C);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:q,equals:function(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],l=t[2];return Math.abs(r-o)<=s.E*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=s.E*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=s.E*Math.max(1,Math.abs(i),Math.abs(l))},direction:x,sub:T,mul:O,div:S,dist:P,sqrDist:A,len:U,sqrLen:k})},65617:(e,t,r)=>{function n(){return[0,0,0]}function s(e){return[e[0],e[1],e[2]]}function i(e,t,r){return[e,t,r]}function o(e){const t=[0,0,0],r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function a(e,t){return new Float64Array(e,t,3)}function l(){return i(1,1,1)}function u(){return i(1,0,0)}function c(){return i(0,1,0)}function h(){return i(0,0,1)}r.d(t,{O:()=>d,Z:()=>f,a:()=>s,b:()=>a,c:()=>n,d:()=>o,f:()=>i});const f=[0,0,0],d=l(),m=u(),p=c(),g=h();Object.freeze({__proto__:null,create:n,clone:s,fromValues:i,fromArray:o,createView:a,zeros:function(){return[0,0,0]},ones:l,unitX:u,unitY:c,unitZ:h,ZEROS:f,ONES:d,UNIT_X:m,UNIT_Y:p,UNIT_Z:g})},98766:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>c,c:()=>s,d:()=>g,e:()=>d,f:()=>m,g:()=>v,h:()=>y,l:()=>_,n:()=>p,s:()=>i,t:()=>b});var n=r(46851);function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function i(e,t,r,n,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function a(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function u(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function h(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(r*r+n*n+s*s+i*i)}function f(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+s*s+i*i}function d(e){const t=e[0],r=e[1],n=e[2],s=e[3];return Math.sqrt(t*t+r*r+n*n+s*s)}function m(e){const t=e[0],r=e[1],n=e[2],s=e[3];return t*t+r*r+n*n+s*s}function p(e,t){const r=t[0],n=t[1],s=t[2],i=t[3];let o=r*r+n*n+s*s+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=s*o,e[3]=i*o),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function _(e,t,r,n){const s=t[0],i=t[1],o=t[2],a=t[3];return e[0]=s+n*(r[0]-s),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=a+n*(r[3]-a),e}function b(e,t,r){const n=t[0],s=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*s+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*s+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*s+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*s+r[11]*i+r[15]*o,e}function v(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function y(e,t){const r=e[0],s=e[1],i=e[2],o=e[3],a=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(r-a)<=n.E*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=n.E*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-u)<=n.E*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=n.E*Math.max(1,Math.abs(o),Math.abs(c))}const w=a,M=l,E=u,C=h,q=f,x=d,T=m;Object.freeze({__proto__:null,copy:s,set:i,add:o,subtract:a,multiply:l,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:c,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},distance:h,squaredDistance:f,length:d,squaredLength:m,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:p,dot:g,lerp:_,random:function(e,t){let r,s,i,o,a,l;t=t||1;do{r=2*(0,n.R)()-1,s=2*(0,n.R)()-1,a=r*r+s*s}while(a>=1);do{i=2*(0,n.R)()-1,o=2*(0,n.R)()-1,l=i*i+o*o}while(l>=1);const u=Math.sqrt((1-a)/l);return e[0]=t*r,e[1]=t*s,e[2]=t*i*u,e[3]=t*o*u,e},transformMat4:b,transformQuat:function(e,t,r){const n=t[0],s=t[1],i=t[2],o=r[0],a=r[1],l=r[2],u=r[3],c=u*n+a*i-l*s,h=u*s+l*n-o*i,f=u*i+o*s-a*n,d=-o*n-a*s-l*i;return e[0]=c*u+d*-o+h*-l-f*-a,e[1]=h*u+d*-a+f*-o-c*-l,e[2]=f*u+d*-l+c*-a-h*-o,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:v,equals:y,sub:w,mul:M,div:E,dist:C,sqrDist:q,len:x,sqrLen:T})},81049:(e,t,r)=>{r.d(t,{Z:()=>P});var n,s=r(43697),i=r(3894),o=r(32448),a=r(22974),l=r(70586),u=r(71143),c=r(90584),h=r(5600),f=r(75215),d=r(52421),m=r(52011),p=r(58971),g=r(39020);class _{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new g.X(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const r=e[t];r.onInvalidated(),r.onCommitted()}}}const b=new u.Z(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),v=()=>{};function y(e){return e?e instanceof S?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function w(e){if(e&&e.length)return e[0]}function M(e,t,r,n){const s=Math.min(e.length-r,t.length-n);let i=0;for(;i<s&&e[r+i]===t[n+i];)i++;return i}function E(e,t,r,n){t&&t.forEach(((t,s,i)=>{e.push(t),E(e,r.call(n,t,s,i),r,n)}))}const C=new Set,q=new Set,x=new Set,T=new Map;let O=0,S=n=class extends o.Z.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new _,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:O++})}static isCollection(e){return null!=e&&e instanceof n}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof n?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,p.it)(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,...y(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,r={removed:!1,callback:t};return e.push(r),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=v,r.removed=!0,e.splice(e.indexOf(r),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if((0,p.it)(this._observable),this._emitBeforeChanges(1))return this;const r=this.getNextIndex(null!=t?t:null);return this._splice(r,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if((0,p.it)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const r=this.getNextIndex(t);return this._splice(r,0,...y(e)),this._emitAfterChanges(1),this}removeAll(){if((0,p.it)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return(0,p.it)(this._observable),this._createNewInstance({items:this._items.map(a.d9)})}concat(...e){(0,p.it)(this._observable);const t=e.map(y);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,p.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const r=(0,l.j0)(this._splice(0,this.length)),n=r.length;for(let s=0;s<n;s++)e.call(t,r[s],s,r);this._emitAfterChanges(2)}every(e,t){return(0,p.it)(this._observable),this._items.every(e,t)}filter(e,t){let r;return(0,p.it)(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return(0,p.it)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,p.it)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,p.it)(this._observable);const r=[];return E(r,this,e,t),new n(r)}forEach(e,t){return(0,p.it)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,p.it)(this._observable),this._items[e]}getNextIndex(e){(0,p.it)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,p.it)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,p.it)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,p.it)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,p.it)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,p.it)(this._observable);const r=this._items.map(e,t);return new n({items:r})}reorder(e,t=this.length-1){(0,p.it)(this._observable);const r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(4))return e;this._splice(r,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if((0,p.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=w(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return(0,p.it)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){(0,p.it)(this._observable);const r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){(0,p.it)(this._observable);const r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return(0,p.it)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,p.it)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=w(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if((0,p.it)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof n?e.toArray():e,r=this._items,s=[],i=t.length;for(let e=0;e<i;e++){const n=t[e],i=r.indexOf(n);if(i>-1){const n=1+M(t,r,e+1,i+1),o=this._splice(i,n);o&&o.length>0&&s.push.apply(s,o),e+=n-1}}return this._emitAfterChanges(2),s}reverse(){if((0,p.it)(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if((0,p.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=w(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return(0,p.it)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,p.it)(this._observable),this._items.some(e,t)}sort(e){if((0,p.it)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=(0,l.j0)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...r){(0,p.it)(this._observable);const n=(t?2:0)|(r.length?1:0);if(this._emitBeforeChanges(n))return[];const s=this._splice(e,t,...r)||[];return this._emitAfterChanges(n),s}toArray(){return(0,p.it)(this._observable),this._items.slice()}toJSON(){return(0,p.it)(this._observable),this.toArray()}toLocaleString(){return(0,p.it)(this._observable),this._items.toLocaleString()}toString(){return(0,p.it)(this._observable),this._items.toString()}unshift(...e){return(0,p.it)(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...r){const n=this._items,s=this.itemType;let i,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,c.Os)((()=>this._dispatchChange()))),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const t=b.acquire();t.target=this,t.cancellable=!0;for(let r=0,s=o.length;r<s;r++)i=o[r],t.reset(i),this.emit("before-remove",t),t.defaultPrevented&&(o.splice(r,1),n.splice(e,0,i),e+=1,r-=1,s-=1);b.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=b.acquire();e.target=this,e.cancellable=!1;const t=o.length;for(let r=0;r<t;r++)e.reset(o[r]),this.emit("after-remove",e);b.release(e)}}if(r&&r.length){if(s){const e=[];for(const t of r){const r=s.ensureType(t);null==r&&null!=t||e.push(r)}r=e}const t=this.hasEventListener("before-add"),i=this.hasEventListener("after-add"),o=e===this.length;if(t||i){const s=b.acquire();s.target=this,s.cancellable=!0;const a=b.acquire();a.target=this,a.cancellable=!1;for(const l of r)t?(s.reset(l),this.emit("before-add",s),s.defaultPrevented||(o?n.push(l):n.splice(e++,0,l),this._set("length",n.length),i&&(a.reset(l),this.emit("after-add",a)))):(o?n.push(l):n.splice(e++,0,l),this._set("length",n.length),a.reset(l),this.emit("after-add",a));b.release(a),b.release(s)}else{if(o)for(const e of r)n.push(e);else n.splice(e,0,...r);this._set("length",n.length)}}return(r&&r.length||o&&o.length)&&this._notifyChangeEvent(r,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=b.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,b.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=b.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),b.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;C.clear(),q.clear(),x.clear();for(const{added:t,removed:r}of e){if(t)if(0===x.size&&0===q.size)for(const e of t)C.add(e);else for(const e of t)q.has(e)?(x.add(e),q.delete(e)):x.has(e)||C.add(e);if(r)if(0===x.size&&0===C.size)for(const e of r)q.add(e);else for(const e of r)C.has(e)?C.delete(e):(x.delete(e),q.add(e))}const r=i.Z.acquire();C.forEach((e=>{r.push(e)}));const n=i.Z.acquire();q.forEach((e=>{n.push(e)}));const s=this._items,o=t.items,a=i.Z.acquire();if(x.forEach((e=>{o.indexOf(e)!==s.indexOf(e)&&a.push(e)})),t.listeners&&(r.length||n.length||a.length)){const e={target:this,added:r,removed:n,moved:a},s=t.listeners.length;for(let r=0;r<s;r++){const n=t.listeners[r];n.removed||n.callback.call(this,e)}}i.Z.release(r),i.Z.release(n),i.Z.release(a)}C.clear(),q.clear(),x.clear()}};S.ofType=e=>{if(!e)return n;if(T.has(e))return T.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends n{};return(0,s._)([(0,d.c)({Type:e,ensureType:"function"==typeof e?(0,f.se)(e):(0,f.N7)(e)})],r.prototype,"itemType",void 0),r=(0,s._)([(0,m.j)(`esri.core.Collection<${t}>`)],r),T.set(e,r),r},(0,s._)([(0,h.Cb)()],S.prototype,"length",void 0),(0,s._)([(0,h.Cb)()],S.prototype,"items",null),S=n=(0,s._)([(0,m.j)("esri.core.Collection")],S);const P=S},32448:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(43697),s=r(15923),i=r(50758),o=r(52011);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const r=this._listenersMap&&this._listenersMap.get(e);if(!r)return!1;const n=this.target||this;return[...r].forEach((e=>{e.call(n,t)})),r.length>0}on(e,t){if(Array.isArray(e)){const r=e.map((e=>this.on(e,t)));return(0,i.AL)(r)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const r=this._listenersMap.get(e)||[];return r.push(t),this._listenersMap.set(e,r),{remove:()=>{const r=this._listenersMap&&this._listenersMap.get(e)||[],n=r.indexOf(t);n>=0&&r.splice(n,1)}}}once(e,t){const r=this.on(e,(e=>{r.remove(),t.call(null,e)}));return r}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let r=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return r=(0,n._)([(0,o.j)("esri.core.Evented")],r),r};let r=class extends s.Z{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};r=(0,n._)([(0,o.j)("esri.core.Evented")],r),e.EventedAccessor=r}(a||(a={}));const l=a},61247:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(43697),s=r(15923),i=r(81049),o=r(70586),a=r(5600),l=r(52011);let u=class extends s.Z{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!i.Z.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||i.Z.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||i.Z.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let e=0;e<t.length;e++)t[e].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(let t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return(0,o.j0)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};(0,n._)([(0,a.Cb)({readOnly:!0})],u.prototype,"size",null),u=(0,n._)([(0,l.j)("esri.core.Handles")],u);const c=u},52421:(e,t,r)=>{function n(e){return(t,r)=>{t[r]=e}}r.d(t,{c:()=>n})},22021:(e,t,r)=>{r.d(t,{ZF:()=>f,Kt:()=>d,jE:()=>g,uZ:()=>o,oK:()=>m,Vl:()=>c,wt:()=>a,t7:()=>u,Sf:()=>i,fp:()=>l,BV:()=>h});var n=r(17896);r(98766);const s=new Float32Array(1);function i(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function o(e,t,r){return Math.min(Math.max(e,t),r)}function a(e){return 0==(e&e-1)}function l(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function u(e,t,r){return e+(t-e)*r}function c(e){return e*Math.PI/180}function h(e){return 180*e/Math.PI}function f(e){return Math.acos(o(e,-1,1))}function d(e){return Math.asin(o(e,-1,1))}function m(e){return p(Math.max(-_,Math.min(e,_)))}function p(e){return s[0]=e,s[0]}function g(e,t){const r=(0,n.l)(e),s=d(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return(0,n.s)(t,r,s,i),t}const _=p(34028234663852886e22)},35463:(e,t,r)=>{r.d(t,{rJ:()=>a,Nm:()=>i,JE:()=>o}),r(80442);const n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},s={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function i(e,t,r){const n=new Date(e.getTime());if(t&&r){const e=s[r],{getter:i,setter:o,multiplier:a}=e;n[o](n[i]()+t*a)}return n}function o(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function a(e,t,r){return 0===e?0:e*n[t]/n[r]}},67900:(e,t,r)=>{r.d(t,{gV:()=>D,En:()=>E,Z7:()=>S,c9:()=>O,_R:()=>x,qE:()=>U,cM:()=>T,hd:()=>c,ty:()=>C,Jo:()=>R,$C:()=>q}),r(80442);var n=r(35454),s=r(70586),i=r(24678),o=r(82971),a=r(68441),l=r(8744),u=r(58116);const c=39.37,h=a.sv.radius*Math.PI/200,f=/UNIT\[([^\]]+)\]\]$/i,d=u.Z,m=/UNIT\[([^\]]+)\]/i,p=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),g=(0,n.wY)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),_=e=>e*e,b=e=>e*e*e,v={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:_(.001)},"square-centimeters":{inBaseUnits:_(.01)},"square-decimeters":{inBaseUnits:_(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:_(1e3)},"square-inches":{inBaseUnits:_(.0254)},"square-feet":{inBaseUnits:_(.3048)},"square-yards":{inBaseUnits:_(.9144)},"square-miles":{inBaseUnits:_(1609.344)},"square-us-feet":{inBaseUnits:_(1200/3937)},acres:{inBaseUnits:.0015625*_(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*b(.001)},"cubic-centimeters":{inBaseUnits:1e3*b(.01)},"cubic-decimeters":{inBaseUnits:1e3*b(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*b(1e3)},"cubic-inches":{inBaseUnits:1e3*b(.0254)},"cubic-feet":{inBaseUnits:1e3*b(.3048)},"cubic-yards":{inBaseUnits:1e3*b(.9144)},"cubic-miles":{inBaseUnits:1e3*b(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},y=function(){const e={};for(const t in v)for(const r in v[t].units)e[r]=t;return e}();function w(e){const t=y[e];if(t)return t;throw new Error("unknown measure")}function M(e,t=null){return t=t||w(e),v[t].baseUnit===e}function E(e,t,r){if(t===r)return e;const n=w(t);if(n!==w(r))throw new Error("incompatible units");const s=M(t,n)?e:function(e,t,r){return e*v[r].units[t].inBaseUnits}(e,t,n);return M(r,n)?s:function(e,t,r){return e/v[r].units[t].inBaseUnits}(s,r,n)}function C(e,t,r){return E(e,t,"meters")/(r*Math.PI/180)}function q(e){return g.fromJSON(e.toLowerCase())||null}function x(e){if(e&&"object"==typeof e&&!(0,l.N$)(e))return 1;const t=O(e);return t>1e5?1:t}function T(e){return O(e)>=(e instanceof o.Z?(0,i.Iu)(e).metersPerDegree:1e5)?"meters":U(e)}function O(e,t=a.sv.metersPerDegree){return S(e,!0)||t}function S(e,t=!1){let r,n,s=null;if(null!=e&&("object"==typeof e?(r=e.wkid,n=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(n=e)),r){if((0,l.o$)(r))return a.yr.metersPerDegree;if((0,l.ME)(r))return a.Z1.metersPerDegree;s=d.values[d[r]],!s&&t&&p.has(r)&&(s=h)}else n&&(I(n)?s=P(f.exec(n),s):k(n)&&(s=P(m.exec(n),s)));return s}function P(e,t){return e&&e[1]?A(e[1]):t}function A(e){return parseFloat(e.split(",")[1])}function U(e){let t,r,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)n=d.units[d[t]];else if(r){const e=I(r)?f:k(r)?m:null;if(e){const t=e.exec(r);t&&t[1]&&(n=function(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||-1===d.units.indexOf(r)){const t=A(e);r=null;const n=d.values;for(let e=0;e<n.length;++e)if(Math.abs(t-n[e])<1e-7){r=d.units[e];break}}return r}(t[1]))}}return(0,s.pC)(n)?q(n):null}function k(e){return/^GEOCCS/i.test(e)}function I(e){return/^PROJCS/i.test(e)}const L={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},B={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},D=(0,n.wY)()(L),R=(0,n.wY)()(B);(0,n.wY)()({...L,...B})},43050:(e,t,r)=>{r.d(t,{S1:()=>o,on:()=>h,OY:()=>c,cm:()=>l,N1:()=>a,LR:()=>u,tH:()=>f});var n=r(91460),s=(r(22974),r(95330));const i=/\?(\.|$)/g;function o(e,t,r,n){const s=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],o=function(e,t,r,n){return e.watch(t,r,n)}(e,t,r,n);for(const t of s){const n=t.trim().replace(i,"$1"),s=e.get(n);r.call(e,s,s,n,e)}return o}function a(e,t,r,n){return f(e,t,d,r,n)}function l(e,t,r,n){return f(e,t,m,r,n)}function u(e,t,r,n){return f(e,t,p,r,n)}function c(e,t,r,n){return f(e,t,g,r,n)}function h(e,t,r,s,i,a,l){const u={};function c(t){const n=u[t];n&&(a&&a(n.target,t,e,r),n.handle.remove(),delete u[t])}const h=o(e,t,((t,o,a)=>{c(a),(0,n.vT)(t)&&(u[a]={handle:(0,n.on)(t,r,s),target:t},i&&i(t,a,e,r))}),l);return{remove(){h.remove();for(const e in u)c(e)}}}function f(e,t,r,n,i){const o="function"==typeof n?n:null,a="object"==typeof n?n:null;"boolean"==typeof n&&(i=n);let l,u=!1;function c(){l&&(l.remove(),l=null)}const h=(0,s.dD)();(0,s.fu)(a,(()=>{c(),h.reject((0,s.zE)())}));const f={then:h.promise.then.bind(h.promise),catch:h.promise.catch.bind(h.promise),remove:c};return Object.freeze(f),l=function(e,t,r,n,s){const i=e.watch(t,((t,s,i,o)=>{r&&!r(t)||null==n||n.call(e,t,s,i,o)}),s);if(Array.isArray(t))for(const s of t){const i=e.get(s);r&&r(i)&&(null==n||n.call(e,i,i,t,e))}else{const s=e.get(t);r&&r(s)&&(null==n||n.call(e,s,s,t,e))}return i}(e,t,r,((t,r,n,s)=>{u=!0,c(),o&&o.call(e,t,r,n,s),h.resolve({value:t,oldValue:r,propertyName:n,target:s})}),i),u&&c(),f}function d(e){return!!e}function m(e){return!e}function p(e){return!0===e}function g(e){return!1===e}},80903:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(50758),s=r(92604),i=r(95330),o=r(25045);const a=s.Z.getLogger("esri.core.workers.Connection");class l{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(e,t){return new Promise(((r,n)=>{let s=!0;const a=e=>{(0,i.k_)(t.signal),s&&(s=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length;for(let s=0;s<e.length;++s){const l=e[s];(0,i.y8)(l)?this._clientPromises[s]=l.then((e=>(this._clients[s]=new o.default(e,t),a(r),this._clients[s])),(()=>(a(n),null))):(this._clients[s]=new o.default(l,t),this._clientPromises[s]=Promise.resolve(this._clients[s]),a(r))}}))}broadcast(e,t,r){const n=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const i=this._clientPromises[s];n[s]=i.then((n=>n.invoke(e,t,r)))}return n}close(){for(const e of this._clientPromises)e.then((e=>e.close()));this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let e;for(let t=0;t<this._clients.length;++t){const r=this._clients[t];if(r){if(!r.isBusy())return Promise.resolve(r)}else e=e||[],e.push(this._clientPromises[t])}return e?Promise.race(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(e,t,r){let n=null;return Array.isArray(r)?(a.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:r}):n=r,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then((r=>r.invoke(e,t,n)))}on(e,t){return Promise.all(this._clientPromises).then((()=>(0,n.AL)(this._clients.map((r=>r.on(e,t))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let r=t.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then((s=>{t[n]=s.openPort(),0==--r&&e(t)}))}))}get test(){return{numClients:this._clients.length}}}},24678:(e,t,r)=>{r.d(t,{GG:()=>a,HQ:()=>l,VY:()=>u,wY:()=>c,Iu:()=>d,e8:()=>m,rS:()=>f,N_:()=>h});var n=r(82971),s=r(68441),i=r(8744);function o(e){return new n.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=o(s.sv),l=o(s.yr),u=o(s.Z1),c=new n.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${s.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function h(e){return e&&e===s.yr?l:e&&e===s.Z1?u:a}function f(e){return e&&((0,i.BZ)(e)||e===l)?l:e&&((0,i.V2)(e)||e===u)?u:a}function d(e){return e&&((0,i.BZ)(e)||e===l)?s.yr:e&&((0,i.V2)(e)||e===u)?s.Z1:s.sv}function m(e){return(0,i.o$)(e)?s.yr:(0,i.ME)(e)?s.Z1:s.sv}},24470:(e,t,r)=>{r.d(t,{Gv:()=>f,SO:()=>u,r3:()=>h,Ue:()=>i,oJ:()=>a,al:()=>o,kK:()=>c,HH:()=>l}),r(80442),r(22021);var n=r(70586),s=r(6570);function i(e=d){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,n,s=i()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s}function a(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new s.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e){return function(e){return(0,n.Wi)(e)||e[0]>=e[2]?0:e[2]-e[0]}(e)*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e)}function c(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function h(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const f=[1/0,1/0,-1/0,-1/0],d=[0,0,0,0]},66677:(e,t,r)=>{r.d(t,{ld:()=>m,B5:()=>h,M8:()=>g,G:()=>y,Qc:()=>f,DR:()=>d,Nm:()=>_,XG:()=>b,a7:()=>p,wH:()=>v});var n=r(70586),s=r(17452),i=r(25929);const o={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},a=Object.values(o),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function h(e){return!!l.test(e)}function f(e){const t=(0,s.mN)(e),r=t.path.match(l)||t.path.match(u);if(!r)return null;const[,n,i,a,c]=r,h=i.indexOf("/");return{title:m(-1!==h?i.slice(h+1):i),serverType:o[a.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:n}}}function d(e){const t=(0,s.mN)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function m(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function p(e,t){const r=[];if(e){const t=f(e);(0,n.pC)(t)&&t.title&&r.push(t.title)}if(t){const e=m(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function g(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function _(e,t){return e?(0,s.Qj)((0,s.Hu)(e,t)):e}function b(e){let{url:t}=e;if(!t)return{url:t};t=(0,s.Hu)(t,e.logger);const r=(0,s.mN)(t),i=f(r.path);let o;if((0,n.pC)(i))null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=d(r.path);(0,n.pC)(e)&&(t=e.serviceUrl,o=e.sublayerId)}return{url:(0,s.Qj)(t),layerId:o}}function v(e,t,r,n,o){(0,i.w)(t,n,"url",o),n.url&&null!=e.layerId&&(n.url=(0,s.v_)(n.url,r,e.layerId.toString()))}function y(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),s=-1!==t.indexOf("/imageserver/wmsserver"),i=-1!==t.indexOf("/wmsserver");return r&&(n||s||i)}},3172:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(68773),s=r(40330),i=r(20102),o=r(16358),a=r(80442),l=r(22974),u=r(70586),c=r(95330),h=r(17452),f=r(71058),d=r(85958);async function m(e,t){var l;const d=(0,h.HK)(e),b=(0,h.jc)(e);b||d||(e=(0,h.Fv)(e));const v={url:e,requestOptions:{...(0,u.Wg)(t)}};let y=(0,h.oh)(e);if(y){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(e){r=C("request:interceptor",e,t)}if((n instanceof Error||n instanceof i.Z)&&(r=C("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}(y,v);if(null!=e)return{data:e,getHeader:w,requestOptions:v.requestOptions,url:v.url};y.after||y.error||(y=null)}if(e=v.url,"image"===(t=v.requestOptions).responseType){if((0,a.Z)("host-webworker")||(0,a.Z)("host-node"))throw C("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),v)}else if(d)throw C("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),v);if("head"===t.method){if(t.body)throw C("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),v);if(d||b)throw C("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),v)}if(await async function(){(0,a.Z)("host-webworker")?p||(p=await Promise.all([r.e(102),r.e(9884)]).then(r.bind(r,29884))):m._abortableFetch||(m._abortableFetch=o.Z.fetch.bind(o.Z))}(),p)return p.execute(e,t);const M=new AbortController;(0,c.fu)(t,(()=>M.abort()));const E={controller:M,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:y,params:v,redoRequest:!1,useIdentity:g.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},O=await async function(e){var t,r;let i,a;await async function(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,a=r.body;let l=null,u=null,h=null;if(_&&"HTMLFormElement"in o.Z&&(a instanceof FormData?l=a:a instanceof HTMLFormElement&&(u=a,l=new FormData(u))),"string"==typeof a&&(h=a),e.fetchOptions={cache:r.cacheBust&&!m._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:i},(l||h)&&(e.fetchOptions.body=l||h),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||l&&l.get&&l.get("token")||u&&u.elements.token),!e.hasToken&&n.Z.apiKey&&(0,f.r)(t)&&(r.query||(r.query={}),r.query.token=n.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!x(t)&&!(0,c.Hc)(i)){let n;"immediate"===r.authMode?(await q(),n=await s.id.getCredential(t,{signal:i}),e.credential=n):"no-prompt"===r.authMode?(await q(),n=await s.id.getCredential(t,{prompt:!1,signal:i}).catch((()=>{})),e.credential=n):s.id&&(n=s.id.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[i,a]=await T(e)}while(!await S(e,i,a))}catch(t){const r=C("request:server",t,e.params,i);throw r.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(r),r}const l=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)&&!e.hasToken&&!e.credentialToken&&null!=(t=a)&&null!=(r=t.user)&&r.username&&!(0,h.kl)(l)){const e=(0,h.P$)(l,!0);e&&g.trustedServers.push(e)}const u=e.credential;if(u&&s.id){const e=s.id.findServerInfo(u.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=s.id.findCredential(t,u.userId);e&&-1===s.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:a,getHeader:i?e=>i.headers.get(e):w,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(E);return null==(l=y)||null==l.after||l.after(O),O}let p;const g=n.Z.request,_="FormData"in o.Z,b=[499,498,403,401],v=["COM_0056","COM_0057","SB_0008"],y=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],w=()=>null,M=Symbol();function E(e){const t=(0,h.P$)(e);return!t||t.endsWith(".arcgis.com")||m._corsServers.includes(t)||(0,h.kl)(t)}function C(e,t,r,n){let s="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:w,ssl:!1};if(t instanceof i.Z)return t.details?(t.details=(0,l.d9)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const e=n&&(e=>n.headers.get(e)),r=n&&n.status,i=t.message;i&&(s=i),e&&(o.getHeader=e),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?o.messages=[t.details]:o.messages=t.details,o.raw=M in t?t[M]:t}return(0,c.D_)(t)?(0,c.zE)():new i.Z(e,s,o)}async function q(){s.id||await Promise.all([r.e(7824),r.e(8778),r.e(102),r.e(9625)]).then(r.bind(r,79339))}function x(e){return y.some((t=>t.test(e)))}async function T(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions,i=(0,h.jc)(t)||(0,h.HK)(t),o=r.responseType||"json",l=i?0:null!=r.timeout?r.timeout:g.timeout;let u=!1;if(!i){e.useSSL&&(t=(0,h.hO)(t)),r.cacheBust&&"default"===n.cache&&(t=(0,h.ZN)(t,"request.preventCache",Date.now()));let i={...r.query};e.credentialToken&&(i.token=e.credentialToken);let o=(0,h.B7)(i);(0,a.Z)("esri-url-encodes-apostrophe")&&(o=o.replace(/'/g,"%27"));const l=t.length+1+o.length;let c;u="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||l>g.maxUrlLength;const f=r.useProxy||!!(0,h.ed)(t);if(f){const e=(0,h.b7)(t);c=e.path,!u&&c.length+1+l>g.maxUrlLength&&(u=!0),e.query&&(i={...e.query,...i})}if("HEAD"===n.method&&(u||f)){if(u){if(l>g.maxUrlLength)throw C("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw C("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(f)throw C("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(n.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,h.fl)(t,i):(n.body=(0,h.B7)(i),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,h.fl)(t,i),f&&(e.useProxy=!0,t=`${c}?${t}`),i.token&&_&&n.body instanceof FormData){const e=n.body;e.set?e.set("token",i.token):e.append("token",i.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,h.D6)(t,h.Gd))if((0,h.kl)(t))e.withCredentials=!0;else if(s.id){const r=s.id.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(n.credentials="include")}let f,d,p=0,b=!1;l>0&&(p=setTimeout((()=>{b=!0,e.controller.abort()}),l));try{if("native-request-init"===r.responseType)d=n,d.url=t;else if("image"!==r.responseType||"default"!==n.cache||"GET"!==n.method||u||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!i&&!e.useProxy&&g.proxyUrl&&!E(t)){if(f=await m._abortableFetch(t,n),e.useProxy||function(e){const t=(0,h.P$)(e);t&&!m._corsServers.includes(t)&&m._corsServers.push(t)}(t),"native"===r.responseType)d=f;else if("HEAD"!==n.method)if(f.ok){switch(o){case"array-buffer":d=await f.arrayBuffer();break;case"blob":case"image":d=await f.blob();break;default:d=await f.text()}if(p&&(clearTimeout(p),p=0),"json"===o||"xml"===o||"document"===o)if(d)switch(o){case"json":d=JSON.parse(d);break;case"xml":d=O(d,"application/xml");break;case"document":d=O(d,"text/html")}else d=null;if(d){if("array-buffer"===o||"blob"===o){const e=f.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&d["blob"===o?"size":"byteLength"]<=750)try{const e=await new Response(d).json();e.error&&(d=e)}catch{}}"image"===o&&d instanceof Blob&&(d=await P(URL.createObjectURL(d),e,!0))}}else d=await f.text()}else d=await P(t,e)}catch(n){if("AbortError"===n.name){if(b)throw new Error("Timeout exceeded");throw(0,c.zE)("Request canceled")}if(!(!f&&n instanceof TypeError&&g.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||E(t))throw n;e.redoRequest=!0,(0,h.tD)({proxyUrl:g.proxyUrl,urlPrefix:(0,h.P$)(t)})}finally{p&&clearTimeout(p)}return[f,d]}function O(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function S(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||"native"===n.responseType||"native-request-init"===n.responseType)return!0;let i,o,a,l;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[M]=r,i;null!=r&&r.error&&(i=r.error),i&&(o=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,l=i.messageCode,l=l&&l.toUpperCase());const u=n.authMode;if(403===o&&(4===a||i.message&&i.message.toLowerCase().indexOf("ssl")>-1&&-1===i.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===o)&&-1!==b.indexOf(o)&&!x(e.params.url)&&(403!==o||-1===v.indexOf(l)&&(null==a||2===a&&e.credentialToken))){await q();try{const t=await s.id.getCredential(e.params.url,{error:C("request:server",i,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===u)return e.credential=null,e.credentialToken=null,!1;i=t}}if(i)throw i;return!0}function P(e,t,r=!1){const n=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.src=e,(0,d.f)(s,e,r,n)}m._abortableFetch=null,m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},71058:(e,t,r)=>{r.d(t,{r:()=>i});var n=r(17452);const s=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function i(e){const t=(0,n.P$)(e,!0);return t&&t.endsWith(".arcgis.com")&&!s.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},85958:(e,t,r)=>{r.d(t,{f:()=>o});var n=r(80442),s=r(70586),i=r(95330);function o(e,t,r=!1,o){return new Promise(((l,u)=>{if((0,i.Hc)(o))return void u(a());let c=()=>{d(),u(new Error(`Unable to load ${t}`))},h=()=>{const t=e;d(),l(t)},f=()=>{if(!e)return;const t=e;d(),t.src="",u(a())};const d=()=>{(0,n.Z)("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",h)),c=null,h=null,e=null,(0,s.pC)(o)&&o.removeEventListener("abort",f),f=null,r&&URL.revokeObjectURL(t)};(0,s.pC)(o)&&o.addEventListener("abort",f),(0,n.Z)("esri-image-decode")?e.decode().then(h,c):(e.addEventListener("error",c),e.addEventListener("load",h))}))}function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}}}]);