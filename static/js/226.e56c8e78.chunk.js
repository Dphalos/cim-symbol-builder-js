(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[226],{986:function(t,e,a){"use strict";a.r(e),a.d(e,"previewCIMSymbol",(function(){return s}));var l=a(19),n=a(388),i=a(280);const c=new n.a(null,!0);async function s(t,e={}){const{size:a,maxSize:n,node:s,opacity:o}=e,p=e.cimOptions||e,{feature:u,fieldMap:d,geometryType:m,style:r}=p,y=Object(i.b)(t),h=Math.min(null!=a?a:y,null!=n?n:Object(l.d)(120));h!==y&&(t=t.clone(),Object(i.d)(t,h,{preserveOutlineWidth:!0}));let b=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(b=1);const f=await c.rasterizeCIMSymbolAsync(t,u,d,m,{scaleFactor:b,style:r}),g=document.createElement("canvas");g.width=f.imageData.width,g.height=f.imageData.height,g.getContext("2d").putImageData(f.imageData,0,0);let w=g.width/b,M=g.height/b;if(null!=a&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale))){const t=w/M;w=t<=1?Math.ceil(h*t):h,M=t<=1?h:Math.ceil(h/t)}const v=new Image(w,M);return v.src=g.toDataURL(),null!=o&&(v.style.opacity=""+o),null!=e.effect&&(v.style.filter=e.effect),s&&s.appendChild(v),v}}}]);
//# sourceMappingURL=226.e56c8e78.chunk.js.map