{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/layers/support/util.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js","../node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/2d/engine/flow/FlowContainer.js","../node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayData.js","../node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/flow/FlowStrategy.js","../node_modules/@arcgis/core/views/2d/engine/flow/FlowGLResources.js","../node_modules/@arcgis/core/views/2d/engine/flow/FlowStyle.js","../node_modules/@arcgis/core/views/2d/engine/flow/animatedFlowRendererUtils.js","../node_modules/@arcgis/core/views/2d/engine/flow/AnimatedFlowView2D.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js"],"names":["i","e","constructor","t","r","a","n","super","this","bitmap","s","coordScale","once","ready","destroy","stage","stencilRef","setTransform","transforms","dvs","_createTransforms","tileMat3","onAttach","onDetach","o","arguments","isCustomTilingScheme","createTile","_getTileBounds","_tileInfoView","tileInfo","size","destroyTile","prepareRenderPasses","registerRenderPass","name","brushes","raster","target","children","map","drawPhase","MAP","doRender","visible","getTileBounds","world","spatialReference","resolution","lodAt","level","v","R","getLogger","T","_emptyTilePixelBlock","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_isCustomTilingScheme","_globalUpdateRequested","container","layer","redrawOrRefetch","layerView","suspended","Promise","resolve","doRefresh","_redrawImage","_get","_set","useProgressiveUpdate","removeAllChildren","_getCacheSize","C","cachePolicy","acquireTile","releaseTile","cacheSize","tileInfoView","requestUpdate","update","pause","state","resume","extent","scale","getClosestInfoForScale","l","toJSON","V","fromJSON","d","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","moveEnd","abort","AbortController","length","signal","then","updatingHandles","updating","attach","I","supportsTextureFloat","useWebGLForProcessing","_initializeTileInfo","b","fullExtent","_computeFetchConcurrency","P","concurrency","process","_fetchTile1","_updateBlockCacheRegistry","_enqueueTileFetch","key","id","removeChild","uninstall","clear","notifyChange","g","createEmptyTilePixelBlock","join","y","width","height","pixels","Uint8Array","mask","pixelType","canUseWebGLForProcessing","allowPartialFill","datumTransformation","interpolation","registryId","requestRawData","srcResolution","timeExtent","fetchTile","view","u","x","xmin","ymax","scales","srcResolutions","w","rasterInfo","p","create","origin","set","blockBoundary","storageInfo","maxCol","minCol","maxRow","minRow","has","push","bandIds","moving","error","type","getTileCoords","getTileResolution","updateTileSource","source","symbolizerParams","globalSymbolizerParams","coords","addChild","addPromise","updateRenderer","_updateGlobalSymbolizerParams","async","updateTileSymbolizerParameters","local","global","requestRender","fetchPixels","pixelBlock","symbolizer","generateWebGLParameters","f","isGCS","isGeographic","renderer","factor","outMin","Math","round","outMax","url","multidimensionalDefinition","normalizeRasterFetchOptions","multidimensionalInfo","getSliceIndex","_","m","reset","tiles","forEach","h","prototype","c","canRenderInWebGL","row","col","_getLayerInterpolation","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","invalidateTexture","install","remove","colorRamp","_source","_symbolizerParameters","_vaoInvalidated","vaoData","magdir","vao","dispose","scalar","JSON","stringify","invalidateVAO","updateVectorFieldVAO","style","_createVectorFieldVAO","context","vertexData","indexData","createVertex","Float32Array","createIndex","Uint32Array","geometry","location","count","normalized","attributes","bufferLayouts","elementCount","tileData","pixelRatio","offset","toScreenNoRotation","symbolTileSize","D","rangeX","rangeY","displayViewMat3","symbolTypes","renderPass","_handle","dataType","convertVectorFieldData","_getTileSymbolOffset","_sampleVectorFieldData","_updateSymbolType","watch","_rasterFieldPrefix","dynamicRangeAdjustment","reject","popupEnabled","popupTemplate","value","magdirValue","identify","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","attributeTable","features","filter","Value","VALUE","String","hasOwnProperty","clone","sourceLayer","updateFullExtent","fieldInfos","_getFieldInfo","format","trim","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","some","fieldName","replace","split","Number","isNaN","readOnly","_useWebGLForProcessing","_useProgressiveUpdate","subview","initialize","addResolvingPromise","isUpdating","increaseRasterJobHandlerUsage","_updateSubview","handles","add","catch","blendMode","effect","detach","decreaseRasterJobHandlerUsage","moveStart","viewChange","triangleCountReportedInDebug","triangleCount","texture","EventedMixin","parent","when","title","declaredClass","get","canResume","getSuspendInfo","legendEnabled","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","Boolean","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","on","whenLayerView","destroyed","isVisibleAtScale","minScale","maxScale","processUpdate","isFulfilled","isResolved","hitTest","isRendering","renderChildren","sortChildren","setStencilReference","createRenderParams","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","updateTransforms","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","mesh","bandCount","colormap","dataChanged","cols","rows","abs","3395","3410","3857","3975","4087","4088","6933","32662","53001","53002","53003","53004","53016","53017","53034","53079","53080","54001","54002","54003","54004","54016","54017","54034","54079","54080","54100","54101","equals","center","xmax","ymin","z","min","max","j","G","normalize","S","isWebMercator","apply","wkid","W","floor","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","blockWidth","pyramidScalingFactor","transform","ceil","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","L","isAdaptive","spacing","k","offsets","outofBoundPointCount","coefficients","M","projectedExtent","srcBufferExtent","pixelSize","rasterTransform","hasWrapAround","N","inverseTransform","NaN","q","A","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","F","projectedPixelSize","Map","PI","esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour","sqrt","atan2","cos","sin","createEmptyBand","validPixelCount","maskIsAlpha","updateStatistics","U","B","E","J","pennants","barbs","shaft","MAX_VALUE","inputUnit","random","outputUnit","breakValues","performance","now","reduce","Array","startVertex","numberOfVertices","totalTime","timeSeed","getFloat","lineVertices","lineDescriptors","profile","info","exp","data","smoothing","interpolate","verticesPerLine","velocityScale","minSpeedThreshold","segmentLength","acos","maxTurnAngle","mergeLines","lineCollisionWidth","Int32Array","lineSpacing","sort","density","valid","all","load","fetchImage","pixelData","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","flowStyle","abortController","loadResources","resources","prepareForRendering","areResourcesCompatible","_displayData","displayData","toScreen","rotation","_flowDisplayObject","_loading","flowContainer","_clear","centerAt","expand","_vertexData","_indexData","vertexBuffer","indexBuffer","vertexArray","_loadImagery","_createStreamlinesMesh","_rendererSettings","lineWidth","lineLength","lineColor","toRgba","lineSpeed","fadeDuration","lineRenderWidth","minWeightThreshold","createStreamlinesMesh","flowData","rendererSettings","_rendererChanged","_strategy","stationary","_timer","_cachedBlocks","_size","_duration","_interval","decreaseRefCount","refCount","delete","controller","getBlock","ts","Date","block","putBlock","updateTimer","deleteBlock","updateMaxSize","empty","clearTimer","getCurrentSize","setInterval","from","clearInterval","cache","isRejected","Set","pyramidBlockWidth","pyramidBlockHeight","blockHeight","$","H"],"mappings":"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","file":"static/js/21.42ddf226.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{HandleOwner as t}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isSome as s,isNone as r,unwrap as l}from\"../../../../core/maybe.js\";import{debounce as a,isAbortError as o,eachAlways as n}from\"../../../../core/promiseUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../../geometry/Point.js\";import y from\"../../../../layers/support/PixelBlock.js\";import p from\"../../../../layers/support/TileInfo.js\";import{update as d,unregister as g,register as m,getRasterId as _}from\"../../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as f}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import\"../../tiling/PagedTileQueue.js\";import b from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import P from\"../../tiling/TileQueue.js\";import C from\"../../tiling/TileStrategy.js\";import I from\"../../../webgl/capabilities.js\";import V from\"../../../../geometry/Extent.js\";const v=[0,0],R=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let T=class extends t{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._globalUpdateRequested=!1,this.container=null,this.layer=null,this.redrawOrRefetch=a(((e,t)=>!this.previousLOD||this.layerView.suspended?Promise.resolve():e?this.doRefresh():this._redrawImage(t)))}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var l;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:V.fromJSON(t);d(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(l=this.previousLOD)?void 0:l.level)!==r.level&&(this.previousLOD=r,null==this._symbolizerParams||this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._fetchQueue.length>0||this._globalUpdateRequested||!(!this.updatingHandles||!this.updatingHandles.updating)}attach(){I().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new b(this.layerView.tileInfo,this.layerView.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new P({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this._fetchTile1(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}acquireTile(e){const t=this.container.createTile(e);return this._enqueueTileFetch(t),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}uninstall(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,this.notifyChange(\"updating\"),g(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(\",\")===this._tileInfoView.tileInfo.size.join(\",\");if(t&&s(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,r]=e,l=new y({width:i,height:r,pixels:[new Uint8Array(i*r)],mask:new Uint8Array(i*r),pixelType:\"u8\"});return t&&(this._emptyTilePixelBlock=l),l}_fetchTile1(e,t){const i=!r(t)&&t.signal,s=this.canUseWebGLForProcessing(),a={allowPartialFill:!0,datumTransformation:this.layerView.datumTransformation,interpolation:s?\"nearest\":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:s,signal:l(i),srcResolution:this._srcResolutions[e.level],timeExtent:this.layerView.timeExtent,tileInfo:this.layerView.tileInfo};return this.fetchTile(e,a)}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.layerView.view.spatialReference,t=new u({x:this.layerView.fullExtent.xmin,y:this.layerView.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),l=p.create({spatialReference:e,size:512,scales:i});(0===l.origin.x||l.origin.x>t.x)&&(l.origin=t),this._isCustomTilingScheme=r,this.layerView.set(\"tileInfo\",l),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);this.notifyChange(\"updating\");const{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){o(i)&&R.error(i)}this._globalUpdateRequested=!1}!this.canUseWebGLForProcessing()&&\"rasterVF\"!==this.type||this.layerView.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const l=this._tileInfoView.getTileCoords(v,e.key),a=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:l,resolution:a}),e.once(\"attach\",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(i){o(i)||R.error(i)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.updatingHandles.addPromise(this.layer.updateRenderer()),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await n(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this.previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:f(i.pixelBlock,this.layer.bandIds),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds});!this.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,raster:s}=this.layer,{multidimensionalDefinition:r}=this.layer.normalizeRasterFetchOptions({multidimensionalDefinition:this.layer.multidimensionalDefinition,timeExtent:this.layerView.timeExtent}),l=null!=i&&i.multidimensionalInfo?s.getSliceIndex(r):null,a=_(t,l);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&g(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=m(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.layerView.view.scale),t=this._srcResolutions[e.level];d(a,this._blockCacheRegistryId,this.layerView.view.extent,this.layerView.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}async doRefresh(){await this.updatingHandles.addPromise(this.layer.updateRenderer()),this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset(),this.notifyChange(\"updating\");const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await n(e)}};e([h()],T.prototype,\"_globalUpdateRequested\",void 0),e([h()],T.prototype,\"container\",void 0),e([h()],T.prototype,\"layer\",void 0),e([h()],T.prototype,\"layerView\",void 0),e([h()],T.prototype,\"type\",void 0),e([h()],T.prototype,\"useWebGLForProcessing\",null),e([h()],T.prototype,\"useProgressiveUpdate\",null),e([h()],T.prototype,\"updating\",null),T=e([c(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],T);export{T as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as i}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as o}from\"./BaseImageryTileSubView2D.js\";import{canUseMajorityInterpolationOnDataSource as l}from\"../support/util.js\";let n=class extends o{constructor(){super(...arguments),this.container=null,this.layer=null,this.type=\"raster\"}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&l(this.layer))}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:s}=this.layer,i=this._getLayerInterpolation(),o=this.canUseWebGLForProcessing(),{source:l,symbolizerParams:n,globalSymbolizerParams:a,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,l&&r(l)&&r(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};if(d.rawPixelData=e,o)d.source=l.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==a?void 0:a.type)?a:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=o?n:null,o?d.transformGrid||(d.transformGrid=l.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=o?n:null,d.transformGrid=null}d.bandIds=o?s:null,d.width=this._tileInfoView.tileInfo.size[0],d.height=this._tileInfoView.tileInfo.size[1],d.interpolation=i,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:s,global:i}=t,{bandIds:o}=this.layer,l=this._getLayerInterpolation(),n=this.canUseWebGLForProcessing(),{bitmap:a}=e,{rawPixelData:c}=a;!n&&r(c)?(a.source=await this.layer.applyRenderer(c,\"stretch\"===(null==i?void 0:i.type)?i:null),a.isRendereredSource=!0):(a.isRendereredSource&&r(c)&&(a.source=c.pixelBlock),a.isRendereredSource=!1),a.symbolizerParameters=n?i||s:null,a.bandIds=n?o:null,a.interpolation=l,a.suspended=!1}install(e){this.container=new i(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove(),super.uninstall()}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],n.prototype,\"container\",void 0),e([t()],n.prototype,\"layer\",void 0),e([t()],n.prototype,\"type\",void 0),n=e([s(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.type=\"rasterVF\"}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this._tileInfoView.tileInfo.size[0],s.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this._tileInfoView.tileInfo[0]-s.offset[0])/o),Math.round((this._tileInfoView.tileInfo[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e){this.container=new o(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove(),super.uninstall()}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"type\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);const n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i,isNone as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as n}from\"../../layers/support/commonProperties.js\";import{getDefaultDatumTransformationForDataset as l,projectExtent as u}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as p}from\"./support/popupUtils.js\";const m=m=>{let f=class extends m{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s}));const{popupEnabled:a}=s,n=p(s,o);if(!a||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const l=[],{value:u,magdirValue:m}=await s.identify(e,{timeExtent:this.timeExtent});let f=\"\";if(u&&u.length){var c,h;f=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((e=>s.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(c=s.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=s.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==m?void 0:m[0],e[\"Raster.Direction\"]=null==m?void 0:m[1]);const a=new t(this.fullExtent.clone(),null,e);a.layer=s,a.sourceLayer=a.layer,l.push(a)}return l}updateFullExtent(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference))return Promise.reject(new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));if(o(this.layer.fullExtent))return Promise.reject(new r(\"layerview:extent-missing\",\"The layer doesn't provide a full extent.\",{layer:this.layer}));const t=l(this.layer.fullExtent,this.view.spatialReference,!1),i=u(this.layer.fullExtent,this.view.spatialReference,t);return null==i?Promise.reject(new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})):(this._set(\"fullExtent\",i),this.datumTransformation||(this.datumTransformation=l(this.layer.fullExtent,this.view.spatialReference,!0)),Promise.resolve())}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([s()],f.prototype,\"layer\",void 0),e([s(n)],f.prototype,\"timeExtent\",void 0),e([s()],f.prototype,\"view\",void 0),e([s()],f.prototype,\"fullExtent\",void 0),e([s()],f.prototype,\"tileInfo\",void 0),e([s({readOnly:!0})],f.prototype,\"hasTilingEffects\",null),f=e([a(\"esri.views.layers.ImageryTileLayerView\")],f),f};export{m as ImageryTileLayerView,m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as t,init as o}from\"../../../core/watchUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../engine/flow/AnimatedFlowView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import l from\"./imagery/ImageryTileView2D.js\";import p from\"./imagery/VectorFieldTileView2D.js\";import{canUseMajorityInterpolationOnDataSource as c}from\"./support/util.js\";import{ImageryTileLayerView as d}from\"../../layers/ImageryTileLayerView.js\";import m from\"../../layers/LayerView.js\";import{RefreshableLayerView as w}from\"../../layers/RefreshableLayerView.js\";const v=r.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let b=class extends(d(w(h(m)))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&\"useWebGLForProcessing\"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&\"useProgressiveUpdate\"in this.subview&&(this.subview.useProgressiveUpdate=e)}update(e){this.subview.update(e),this.notifyChange(\"updating\")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.handles.add([t(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,s,r)=>{const t=\"multidimensionalDefinition\"===r,o=\"interpolation\"===r&&(\"majority\"===e||\"majority\"===s)&&c(this.layer),a=\"renderer\"===r&&s.type!==e.type;a&&this._updateSubview();const n=t||o||a;this.subview.redrawOrRefetch(n).catch((e=>{i(e)||v.error(e)})),this.notifyChange(\"updating\")})),o(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),o(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0),o(this,\"timeExtent\",(()=>{this.subview.redrawOrRefetch(!0).catch((e=>{i(e)||v.error(e)}))}))],\"attach\")}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this.subview.uninstall()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}async hitTest(e,r){return[new s({attributes:{},geometry:e.clone()})]}doRefresh(){return this.subview.doRefresh()}_updateSubview(){const e=\"vector-field\"===this.layer.renderer.type?\"rasterVF\":\"animated-flow\"===this.layer.renderer.type?\"rasterAnimatedFlow\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:s}=this;let r;r=\"rasterVF\"===e?new p({layer:s,layerView:this}):\"rasterAnimatedFlow\"===e?new u({layer:s,layerView:this}):new l({layer:s,layerView:this}),\"useWebGLForProcessing\"in r&&(r.useWebGLForProcessing=this._useWebGLForProcessing),\"useProgressiveUpdate\"in r&&(r.useProgressiveUpdate=this._useProgressiveUpdate),\"previousLOD\"in r&&(r.previousLOD=this.subview&&\"previousLOD\"in this.subview&&this.subview.previousLOD),r.attach(),r.install(this.container),r.container.blendMode=s.blendMode,r.container.effect=s.effect,this.subview=r,this.requestUpdate()}};e([a()],b.prototype,\"subview\",void 0),e([a()],b.prototype,\"useWebGLForProcessing\",null),e([a()],b.prototype,\"useProgressiveUpdate\",null),b=e([n(\"esri.views.2d.layers.ImageryTileLayerView2D\")],b);const y=b;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){return l(this.get(\"layer.opacity\"),1)*l(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){var e;return!0===(null==(e=this.layer)?void 0:e.visible)}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);const t=e;export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([e({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0})],c.prototype,\"version\",null),c=y=r([o(\"esri.views.layers.support.Geometry\")],c);const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([s({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([s({readOnly:!0})],e.prototype,\"version\",null),e=r([o(\"esri.views.layers.support.Path\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as o}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new o),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!(!this.updatingHandles||!this.updatingHandles.updating)}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&t<=i&&(s=!0),!a&&t>=r&&(a=!0),e=s&&a}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}hitTest(t,e){return Promise.resolve(null)}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([a(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../../core/jsonMap.js\";const o=new t({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||\"u8\"===r||\"s8\"===r)}export{n as analyzeRings,r as canUseMajorityInterpolationOnDataSource,e as toJSONGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/watchUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o(this,\"layer\",\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as RefreshableLayerView,i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as n,isSome as t}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{canProjectWithoutEngine as i,isLoaded as a,load as r,getTransformation as s,project as l}from\"../../../geometry/projection.js\";import c from\"../../../geometry/Extent.js\";import u from\"../../../geometry/Point.js\";const f=5e-4;function x(e,n,t){return!i(e,n,t)}function m(n,t,o){const i=x(n,t,o);if(i&&!a())throw new e(\"rasterprojectionhelper-project\",\"projection engine is not loaded\");return i}const p=function(e,n,t){const o=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,i=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4,a=(e[4*n.cols]-e[0]+e[4*n.cols+4]-e[4])/t[0]*.5,r=(e[4*n.cols+1]-e[1]+e[4*n.cols+5]-e[5])/t[1]*.5;return[0===a||isNaN(a)?0:Math.abs(o-e[2*n.rows+2])/Math.abs(a),0===r||isNaN(r)?0:Math.abs(i-e[2*n.rows+3])/Math.abs(r)]},h={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},y=32,M=4,g=M;async function d(){if(a())return null;await r()}function w(e,n,t){if(!m(e.spatialReference,n))return null;return t?s(n,e.spatialReference,e):s(e.spatialReference,n,e)}function R(e,t,o,i=null){if(e.spatialReference.equals(t))return e;m(e.spatialReference,t,i);const a=o.center,r=new c({xmin:a.x-e.x/2,xmax:a.x+e.x/2,ymin:a.y-e.y/2,ymax:a.y+e.y/2,spatialReference:e.spatialReference}),s=l(r,t,i);if(n(s))return null;return{x:s.xmax-s.xmin,y:s.ymax-s.ymin}}function b(e,n=.01){return o(e)?n/o(e):0}function v(e,n,t=null,o=!0){const i=e.spatialReference;if(i.equals(n))return e;m(i,n,t);const a=l(e,n,t);if(o&&n.isGeographic){const[n,t]=C(i,!0),o=b(i);o&&null!=n&&null!=t&&(Math.abs(e.x-n)<o&&Math.abs(180-a.x)<f?a.x-=360:Math.abs(e.x-t)<o&&Math.abs(180+a.x)<f&&(a.x+=360))}return a}function N(e,n,t=null){const o=e[0].spatialReference;return o.equals(n)?e:(m(o,n,t),l(e,n,t))}function z(e){const n=P(e[0].spatialReference);if(e.length<2||!t(n))return e[0];let{xmin:o,xmax:i,ymin:a,ymax:r}=e[0];for(let t=1;t<e.length;t++){const o=e[t];i=o.xmax+n*t,a=Math.min(a,o.ymin),r=Math.max(r,o.ymax)}return new c({xmin:o,xmax:i,ymin:a,ymax:r,spatialReference:e[0].spatialReference})}function j(e,n,o=null,i=!0){if(e.spatialReference.equals(n))return e;const a=G(e),r=P(e.spatialReference,!0);if(!t(r)||0===a)return S(e,n,o,i);return z(e.clone().normalize().map((e=>S(e,n,o,i))))}function S(e,n,t=null,o=!0){const i=e.spatialReference;if(i.equals(n))return e;m(i,n,t);const a=l(e,n,t);let[r,s]=C(i,!0);if(a&&o&&i.isWebMercator&&n.isGeographic&&null!=r&&null!=s){const o=.001,l=1e3;if(Math.abs(e.xmin-r)<o&&Math.abs(s-e.xmax)>l&&Math.abs(180-a.xmax)<f){a.xmin=-180;const o=[];o.push(new u(e.xmax,e.ymin,i)),o.push(new u(e.xmax,(e.ymin+e.ymax)/2,i)),o.push(new u(e.xmax,e.ymax,i));const r=o.map((e=>v(e,n,t))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));a.xmax=Math.max.apply(null,r)}if(Math.abs(e.xmax-s)<o&&Math.abs(r-e.xmin)>l&&Math.abs(180+a.xmin)<f){a.xmax=180;const o=[];o.push(new u(e.xmin,e.ymin,i)),o.push(new u(e.xmin,(e.ymin+e.ymax)/2,i)),o.push(new u(e.xmin,e.ymax,i));const r=o.map((e=>v(e,n,t))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));a.xmin=Math.min.apply(null,r)}}[r,s]=C(n,!0);const c=b(n);return c&&null!=r&&null!=s&&a&&(Math.abs(a.xmin-r)<c&&(a.xmin=r),Math.abs(a.xmax-s)<c&&(a.xmax=s)),a}function P(e,n=!1){const t=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*t:e.wkid&&e.isGeographic?360:2*h[e.wkid]||null}function C(e,n=!1){const o=[],i=P(e,n);return t(i)&&(o.push(-i/2),o.push(i/2)),o}function W(e,n,t,o){let i=(e-n)/t;return i-Math.floor(i)!=0?i=Math.floor(i):o&&(i-=1),i}function G(e,n=!1){const o=P(e.spatialReference);if(!t(o))return 0;const i=n?0:-(o/2);return W(e.xmax,i,o,!0)-W(e.xmin,i,o,!1)}function T(e){const n=e.storageInfo.origin.x,o=P(e.spatialReference,!0);if(!t(o))return{originX:n,halfWorldWidth:null,pyramidsInfo:null};const i=o/2,{nativePixelSize:a,storageInfo:r,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:u}=r;let f=a.x;const x=[],m=t(e.transform)&&\"gcs-shift\"===e.transform.type,p=n+(m?0:i),h=m?o-n:i-n;for(let t=0;t<=l;t++){const e=(s.xmax-n)/f/c,t=e-Math.floor(e)==0?e:Math.ceil(e),o=h/f/c,i=o-Math.floor(o)==0?o:Math.ceil(o),a=Math.floor(p/f/c),r=Math.round(p/f)%c,l=(c-Math.round(h/f)%c)%c;x.push({resolutionX:f,blockWidth:c,datsetColumnCount:t,worldColumnCountFromOrigin:i,leftMargin:r,rightPadding:l,originColumnOffset:a}),f*=u}return{originX:n,halfWorldWidth:i,pyramidsInfo:x,hasGCSSShiftTransform:m}}function L(e){const n=e.isAdaptive&&null==e.spacing,t=e.spacing||[y,y];let o=k(e),i={cols:o.size[0]+1,rows:o.size[1]+1},a=p(o.offsets,i,t);const r=(a[0]+a[1])/2,s=o.outofBoundPointCount>0&&o.outofBoundPointCount<o.offsets.length/2;return n&&(s||r>g)&&(o=k({...e,spacing:[M,M]}),i={cols:o.size[0]+1,rows:o.size[1]+1},a=p(o.offsets,i,t)),o.error=a,o.coefficients=I(o.offsets,i,s),o}function k(e){const{projectedExtent:n,srcBufferExtent:o,pixelSize:i,datumTransformation:a,rasterTransform:r}=e,s=n.spatialReference,l=o.spatialReference;m(s,l);const{xmin:c,ymin:f,xmax:x,ymax:p}=n,h=P(l),M=e.hasWrapAround||\"gcs-shift\"===(null==r?void 0:r.type),g=e.spacing||[y,y],d={x:g[0]*i.x,y:g[1]*i.y},w={cols:Math.ceil((x-c)/d.x-.1/g[0])+1,rows:Math.ceil((p-f)/d.y-.1/g[1])+1},R=d.x,b=d.y,v=[];let z,j=0;const S=[];for(let t=0;t<w.cols;t++)for(let e=0;e<w.rows;e++)S.push(new u({x:c+R*t,y:p-b*e,spatialReference:s}));const C=N(S,l,a);for(let u=0;u<w.cols;u++){const e=[];for(let n=0;n<w.rows;n++){let i=C[u*w.rows+n];r&&(i=r.inverseTransform(i)),e.push(i),u>0&&M&&i&&z[n]&&t(h)&&i.x<z[n].x&&(i.x+=h),i?(v.push((i.x-o.xmin)/(o.xmax-o.xmin)),v.push((o.ymax-i.y)/(o.ymax-o.ymin))):(v.push(NaN),v.push(NaN),j++)}z=e}return{offsets:v,error:null,coefficients:null,outofBoundPointCount:j,spacing:g,size:[w.cols-1,w.rows-1]}}function I(e,n,t){const{cols:o,rows:i}=n,a=new Float32Array((o-1)*(i-1)*2*6),r=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),s=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let l=0;l<o-1;l++){for(let n=0;n<i-1;n++){let t=l*i*2+2*n;const c=e[t],u=e[t+1],f=e[t+2],x=e[t+3];t+=2*i;const m=e[t],p=e[t+1],h=e[t+2],y=e[t+3];let M=0,g=12*(n*(o-1)+l);for(let e=0;e<3;e++)a[g++]=r[M++]*c+r[M++]*f+r[M++]*h;M=0;for(let e=0;e<3;e++)a[g++]=r[M++]*u+r[M++]*x+r[M++]*y;M=0;for(let e=0;e<3;e++)a[g++]=s[M++]*c+s[M++]*m+s[M++]*h;M=0;for(let e=0;e<3;e++)a[g++]=s[M++]*u+s[M++]*p+s[M++]*y}if(t)for(let e=0;e<a.length;e++)isNaN(a[e])&&(a[e]=-1)}return a}function q(e){const n=e.clone().normalize();return 1===n.length?n[0]:z(n)}function A(e,n,o){const{storageInfo:i,pixelSize:a}=n;let r,s=!1;const{pyramidResolutions:l}=i;if(t(l)&&l.length){const t=(e.x+e.y)/2,i=l[l.length-1],c=(i.x+i.y)/2,f=(a.x+a.y)/2;if(t<=f)r=0;else if(t>=c)r=l.length,s=t/c>8;else{let e,n=f;for(let i=1;i<=l.length;i++){if(e=(l[i-1].x+l[i-1].y)/2,t<=e){t===e?r=i:\"down\"===o?(r=i-1,s=t/n>8):r=\"up\"===o||t-n>e-t||t/n>2?i:i-1;break}n=e}}const x=0===r?a:l[r-1];return{pyramidLevel:r,pyramidResolution:new u({x:x.x,y:x.y,spatialReference:n.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/a.x)/Math.LN2,f=Math.log(e.y/a.y)/Math.LN2,x=n.storageInfo.maximumPyramidLevel||0;r=\"down\"===o?Math.floor(Math.min(c,f)):\"up\"===o?Math.ceil(Math.max(c,f)):Math.round((c+f)/2),r<0?r=0:r>x&&(s=r>x+3,r=x);const m=2**r;return{pyramidLevel:r,pyramidResolution:new u({x:m*n.nativePixelSize.x,y:m*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:s}}function F(e,n,t=512,i=!0){const{extent:a,spatialReference:r,pixelSize:s}=e,l=R(new u({x:s.x,y:s.y,spatialReference:r}),n,a);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,f=o(n),x=c*f*96*39.37,m=n.isGeographic?256/t*295828763.7958547:256/t*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=j(a,n);p||i&&(n.isGeographic||n.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=x;const g=1.001;if(p){M=m;const e=n.isGeographic?1341104507446289e-21:.29858214164761665,t=e*(96*f*39.37),o=n.isGeographic?4326:3857;y=R(new u({x:e,y:e,spatialReference:{wkid:o}}),r,h),y.x*=M/t,y.y*=M/t}else{y={x:s.x,y:s.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;M<m*(g/2)&&t<n;)t++,M*=2,y.x*=2,y.y*=2;Math.max(M,m)/Math.min(M,m)<=g&&(M=m)}const d=[M],w=[{x:y.x,y:y.y}],b=70.5310735,v=Math.min(b,x)/g;for(;M>=v;)M/=2,y.x/=2,y.y/=2,d.push(M),w.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:d,srcResolutions:w,isCustomTilingScheme:!p}}export{F as computeProjectedScales,y as defaultGridSpacing,g as defaultProjectionToleranceInPixels,w as getDefaultDatumTransformationForDataset,L as getProjectionOffsetGrid,T as getRasterDatasetAlignmentInfo,P as getWorldWidth,G as getWorldWrapCount,d as load,M as minimumGridSpacing,j as projectExtent,v as projectPoint,R as projectResolution,x as requirePE,q as snapExtent,A as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../core/jsonMap.js\";import{isSome as e}from\"../../../core/maybe.js\";import n from\"../PixelBlock.js\";import{isValidPixelBlock as r}from\"./pixelUtils.js\";const o=new Map;o.set(\"meter-per-second\",1),o.set(\"kilometer-per-hour\",.277778),o.set(\"knots\",.514444),o.set(\"feet-per-second\",.3048),o.set(\"mile-per-hour\",.44704);const a=180/Math.PI,s=5,i=new t({esriMetersPerSecond:\"meter-per-second\",esriKilometersPerHour:\"kilometer-per-hour\",esriKnots:\"knots\",esriFeetPerSecond:\"feet-per-second\",esriMilesPerHour:\"mile-per-hour\"});function h(t,e){return o.get(t)/o.get(e)||1}function l(t){return(450-t)%360}function c(t,e=\"geographic\"){const[n,r]=t,o=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n)*a;return s=(360+s)%360,\"geographic\"===e&&(s=l(s)),[o,s]}function u(t,e=\"geographic\"){let n=t[1];\"geographic\"===e&&(n=l(n)),n%=360;const r=t[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function f(t,e,o=\"geographic\",a=1){if(!r(t))return t;const{pixels:s,width:i,height:h}=t,l=i*h,f=s[0],p=s[1],m=n.createEmptyBand(t.pixelType,l),M=n.createEmptyBand(t.pixelType,l);let x=0;for(let n=0;n<h;n++)for(let t=0;t<i;t++)\"vector-uv\"===e?([m[x],M[x]]=c([f[x],p[x]],o),m[x]*=a):([m[x],M[x]]=u([f[x],p[x]],o),m[x]*=a,M[x]*=a),x++;const d=new n({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[m,M]});return d.updateStatistics(),d}function p(t,e,n=1){if(1===n||!r(t))return t;const o=t.clone(),{pixels:a,width:s,height:i}=o,h=a[0],l=a[1];let c=0;for(let r=0;r<i;r++)for(let t=0;t<s;t++)\"vector-uv\"===e?(h[c]*=n,l[c]*=n):h[c]*=n,c++;return o.updateStatistics(),o}function m(t,n,r,o,a){if(!e(a)||!a.spatialReference.equals(t.spatialReference))return{extent:t,width:n,height:r,resolution:t.width/n};const s=a.xmin,i=a.ymax;o=Math.max(o||0,30);const h=Math.ceil(n*(1/o)),l=Math.ceil(r*(1/o)),c=((t.xmax-t.xmin)/h+(t.ymax-t.ymin)/l)/2;return t.xmin=s+Math.floor((t.xmin-s)/c)*c,t.xmax=s+Math.ceil((t.xmax-s)/c)*c,t.ymin=i+Math.floor((t.ymin-i)/c)*c,t.ymax=i+Math.ceil((t.ymax-i)/c)*c,{extent:t,width:Math.round(t.width/c),height:Math.round(t.height/c),resolution:c}}const M=x(0,0,0);function x(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,a=13*o,s=-7*o,i=-2*o,h=-16*o,l=29,[c,u]=g(0,e+a,n,l),[f,p]=g(t-5.5,e+s,n,l),[m,M]=g(t+5.5,e+s,n,l),[x,d]=g(t-1.5,e+i,n,l),[k,w]=g(t+1.5,e+i,n,l),[y,P]=g(t-1.5,e+h,n,l),[b,I]=g(t+1.5,e+h,n,l);return[c,u,f,p,x,d,k,w,m,M,y,P,b,I]}function d(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,a=5*o,i=20*o,h=25*o,l=45,c=0,u=0,f=2,p=0,m=f*o;let[M,x]=[c+r/2,u-i],[d,k]=[M+f,x],[w,y]=[d-p,k+m],[P,b]=[c-r/2,u-h],[I,v]=[P+p,b-m],A=Math.ceil(t/s),_=Math.floor(A/10);A-=8*_;const U=[],S=[];for(let s=0;s<A/2;s++,_--){_<=0&&A%2==1&&s===(A-1)/2&&(P=c,I=P+p,b=(b+x)/2,v=b-m);const[t,n]=g(P,b,e,l);if(_>0){const[r,o]=g(d,b,e,l),[a,s]=g(M,x,e,l);U.push(r),U.push(o),U.push(t),U.push(n),U.push(a),U.push(s)}else{const[r,o]=g(d,k,e,l),[a,s]=g(w,y,e,l),[i,h]=g(I,v,e,l);S.push(t),S.push(n),S.push(i),S.push(h),S.push(a),S.push(s),S.push(r),S.push(o)}b+=a,x+=a,k+=a,y+=a,v+=a}const[D,F]=g(c+r/2,u+i,e,l),j=r/2+f,[N,T]=g(c+j,u+i,e,l),[q,B]=g(c+r/2,u-h,e,l),[E,J]=g(c+j,u-h,e,l);return{pennants:U,barbs:S,shaft:[D,F,N,T,q,B,E,J]}}function g(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,a=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+a-n)%(2*Math.PI)]}const k=[0,1,3,6,10,16,21,27,33,40,47,55,63],w=[0,.5,1,1.5,2],y=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(t,e,n,r){const o=h(r||\"knots\",n);let a;for(a=1;a<e.length;a++)if(a===e.length-1){if(t<e[a]*o)break}else if(t<=e[a]*o)break;return Math.min(a-1,e.length-2)}function b(t,e,n,r,o){let a=0;switch(e){case\"beaufort_kn\":a=P(t,k,\"knots\",n);break;case\"beaufort_km\":a=P(t,k,\"kilometer-per-hour\",n);break;case\"beaufort_ft\":a=P(t,k,\"feet-per-second\",n);break;case\"beaufort_m\":a=P(t,k,\"meter-per-second\",n);break;case\"classified_arrow\":a=P(t,o,r,n);break;case\"ocean_current_m\":a=P(t,w,\"meter-per-second\",n);break;case\"ocean_current_kn\":a=P(t,y,\"knots\",n)}return a}function I(t,e){const{style:n,inputUnit:r,outputUnit:o,breakValues:a}=e,s=i.fromJSON(r),h=i.fromJSON(o),l=7*6,c=15;let u=0,f=0;const{width:p,height:m,mask:x}=t,d=t.pixels[0],g=t.pixels[1],k=x?x.filter((t=>t>0)).length:p*m,w=new Float32Array(k*l),y=new Uint32Array(c*k);for(let i=0;i<m;i++)for(let t=0;t<p;t++){const e=i*p+t;if(!x||x[i*p+t]){var P;const r=null!=(P=(g[e]+360)%360/180*Math.PI)?P:2*Math.PI*Math.random(),o=b(d[e],n,s,h,a);for(let n=0;n<M.length;n+=2)w[u++]=(t+.5)/p,w[u++]=(i+.5)/m,w[u++]=M[n],w[u++]=M[n+1]+r,w[u++]=o,w[u++]=d[e];const c=7*(u/l-1);y[f++]=c,y[f++]=c+1,y[f++]=c+2,y[f++]=c+0,y[f++]=c+4,y[f++]=c+3,y[f++]=c+0,y[f++]=c+2,y[f++]=c+3,y[f++]=c+2,y[f++]=c+5,y[f++]=c+3,y[f++]=c+5,y[f++]=c+6,y[f++]=c+3}}return{vertexData:w,indexData:y}}const v=[];function A(t,e){if(0===v.length)for(let s=0;s<30;s++)v.push(d(5*s,0));const n=h(i.fromJSON(e.inputUnit),\"knots\"),{width:r,height:o,mask:a}=t,l=t.pixels[0],c=t.pixels[1],u=6,f=[],p=[];let m=0,M=0;for(let i=0;i<o;i++)for(let t=0;t<r;t++){const e=i*r+t,h=l[e]*n;if((!a||a[i*r+t])&&h>=s){var x;const n=null!=(x=(c[e]+360)%360/180*Math.PI)?x:2*Math.PI*Math.random(),{pennants:a,barbs:s,shaft:l}=v[Math.min(Math.floor(h/5),29)];if(a.length+s.length===0)continue;let d=f.length/u;const g=(t+.5)/r,k=(i+.5)/o;for(let t=0;t<a.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=a[t],f[m++]=a[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<s.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=s[t],f[m++]=s[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<l.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=l[t],f[m++]=l[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<a.length/6;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,d+=3;for(let t=0;t<s.length/8;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+2,p[M++]=d+3,d+=4;p[M++]=d+0,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+3,p[M++]=d+2,d+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function _(t,e){const n=4*6;let r=0,o=0;const{width:a,height:i,mask:h}=t,l=t.pixels[0],c=[],u=[],f=\"wind_speed\"===e.style?s:Number.MAX_VALUE;for(let s=0;s<i;s++)for(let t=0;t<a;t++){const e=s*a+t;if((!h||h[s*a+t])&&l[e]<f){for(let n=0;n<4;n++)c[r++]=(t+.5)/a,c[r++]=(s+.5)/i,c[r++]=n<2?-.5:.5,c[r++]=n%2==0?-.5:.5,c[r++]=0,c[r++]=l[e];const h=4*(r/n-1);u[o++]=h,u[o++]=h+1,u[o++]=h+2,u[o++]=h+1,u[o++]=h+2,u[o++]=h+3}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(u)}}function U(t,e){return\"simple_scalar\"===e.style?_(t,e):\"wind_speed\"===e.style?A(t,e):I(t,e)}function S(t,e,r,o=[0,0],a=.5){const{width:s,height:i,mask:h}=t,[l,f]=t.pixels,[p,m]=o,M=Math.round((s-p)/r),x=Math.round((i-m)/r),d=M*x,g=new Float32Array(d),k=new Float32Array(d),w=new Uint8Array(d),y=\"vector-uv\"===e;for(let n=0;n<x;n++)for(let t=0;t<M;t++){let e=0;const o=n*M+t,x=Math.max(0,n*r+m),d=Math.max(0,t*r+p),P=Math.min(i,x+r),b=Math.min(s,d+r);for(let t=x;t<P;t++)for(let n=d;n<b;n++){const r=t*s+n;if(!h||h[r]){e++;const t=y?[l[r],f[r]]:[l[r],(360+f[r])%360],[n,a]=y?t:u(t);g[o]+=n,k[o]+=a}}if(e>=(P-x)*(b-d)*(1-a)){w[o]=1;const[t,n]=c([g[o]/e,k[o]/e]);g[o]=t,k[o]=n}else w[o]=0,g[o]=0,k[o]=0}const P=new n({width:M,height:x,pixels:[g,k],mask:w});return P.updateStatistics(),P}export{f as convertVectorFieldData,p as convertVectorFieldUnit,U as createVFMesh,_ as createVFMeshScalar,h as getUnitConversionFactor,S as sampleVectorField,m as snapImageToSymbolTile,i as unitKebabDict,c as uvComponentToVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import t from\"../../../../core/Logger.js\";import{deg2rad as e}from\"../../../../core/mathUtils.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{throwIfAborted as r}from\"../../../../core/promiseUtils.js\";import o from\"../../../../core/RandomLCG.js\";import{getInfo as i}from\"../../../../geometry/support/spatialReferenceUtils.js\";import a from\"../../../../geometry/Extent.js\";const l=t.getLogger(\"esri.views.2d.engine.flow.dataUtils\"),s=8;async function c(t,e,n){const o=performance.now(),i=h(t,e),a=performance.now(),s=u(t,i,e.width,e.height),c=performance.now(),f=m(s,!0),d=performance.now(),g=w(f),p=performance.now();if(t.profile){const t={\"_createFlowFieldFromData()\":Math.round(a-o),\"_getStreamlines()\":Math.round(c-a),\"createAnimatedLinesData()\":Math.round(d-c),\"createLinesMesh()\":Math.round(p-d),\"Total elapsed time\":Math.round(p-o)};l.info(\"createStreamlinesMesh profile\",t)}return await Promise.resolve(),r(n),g}function h(t,e){const n=d(e.data,e.width,e.height,t.smoothing);if(t.interpolate){return(t,r)=>{const o=Math.floor(t),i=Math.floor(r);if(o<0||o>=e.width)return[0,0];if(i<0||i>=e.height)return[0,0];const a=t-o,l=r-i,s=o,c=i,h=o<e.width-1?o+1:o,f=i<e.height-1?i+1:i,u=n[2*(c*e.width+s)],d=n[2*(c*e.width+h)],m=n[2*(f*e.width+s)],w=n[2*(f*e.width+h)],g=n[2*(c*e.width+s)+1],p=n[2*(c*e.width+h)+1];return[(u*(1-l)+m*l)*(1-a)+(d*(1-l)+w*l)*a,(g*(1-l)+n[2*(f*e.width+s)+1]*l)*(1-a)+(p*(1-l)+n[2*(f*e.width+h)+1]*l)*a]}}return(t,r)=>{const o=Math.round(t),i=Math.round(r);return o<0||o>=e.width||i<0||i>=e.height?[0,0]:[n[2*(i*e.width+o)+0],n[2*(i*e.width+o)+1]]}}function f(t,e,n,r,o,i,a,l,s){const c=[];let h,f,u=n,d=r,m=0;c.push({x:u,y:d,t:m});for(let w=0;w<t.verticesPerLine;w++){let[n,r]=e(u,d);n*=t.velocityScale,r*=t.velocityScale;const w=Math.sqrt(n*n+r*r);if(w<t.minSpeedThreshold)return c;const g=n/w,p=r/w;u+=g*t.segmentLength,d+=p*t.segmentLength;if(m+=t.segmentLength/w,Math.acos(g*h+p*f)>t.maxTurnAngle)return c;if(t.mergeLines){const t=Math.round(u*s),e=Math.round(d*s);if(t<0||t>a-1||e<0||e>l-1)return c;const n=i[e*a+t];if(-1!==n&&n!==o)return c;i[e*a+t]=o}c.push({x:u,y:d,t:m}),h=g,f=p}return c}function u(t,e,n,r){const i=[],a=new o,l=1/Math.max(t.lineCollisionWidth,1),s=Math.round(n*l),c=Math.round(r*l),h=new Int32Array(s*c);for(let o=0;o<h.length;o++)h[o]=-1;const u=[];for(let o=0;o<r;o+=t.lineSpacing)for(let e=0;e<n;e+=t.lineSpacing)u.push({x:e,y:o,sort:a.getFloat()});u.sort(((t,e)=>t.sort-e.sort));for(const{x:o,y:d}of u)if(a.getFloat()<t.density){const n=f(t,e,o,d,i.length,h,s,c,l);if(n.length<2)continue;i.push(n)}return i}function d(t,e,n,r){if(0===r)return t;const o=Math.round(3*r),i=new Array(2*o+1);let a=0;for(let c=-o;c<=o;c++){const t=Math.exp(-c*c/(r*r));i[c+o]=t,a+=t}for(let c=-o;c<=o;c++)i[c+o]/=a;const l=new Float32Array(t.length);for(let c=0;c<n;c++)for(let n=0;n<e;n++){let r=0,a=0;for(let l=-o;l<=o;l++){if(n+l<0||n+l>=e)continue;const s=i[l+o];r+=s*t[2*(c*e+(n+l))+0],a+=s*t[2*(c*e+(n+l))+1]}l[2*(c*e+n)+0]=r,l[2*(c*e+n)+1]=a}const s=new Float32Array(t.length);for(let c=0;c<e;c++)for(let t=0;t<n;t++){let r=0,a=0;for(let s=-o;s<=o;s++){if(t+s<0||t+s>=n)continue;const h=i[s+o];r+=h*l[2*((t+s)*e+c)+0],a+=h*l[2*((t+s)*e+c)+1]}s[2*(t*e+c)+0]=r,s[2*(t*e+c)+1]=a}return s}function m(t,e){const n=new o,r=t.reduce(((t,e)=>t+e.length),0),i=new Float32Array(3*r),a=new Array(t.length);let l=0,s=0;for(const o of t){const t=l;for(const e of o)i[3*l+0]=e.x,i[3*l+1]=e.y,i[3*l+2]=e.t,l++;a[s++]={startVertex:t,numberOfVertices:o.length,totalTime:o[o.length-1].t,timeSeed:e?n.getFloat():0}}return{lineVertices:i,lineDescriptors:a}}function w(t,e=10){const{lineVertices:n,lineDescriptors:r}=t;let o=0,i=0;for(const s of r){o+=2*s.numberOfVertices;i+=6*(s.numberOfVertices-1)}const a=new Float32Array(o*s),l=new Uint32Array(i);let c=0,h=0;function f(){l[h++]=c-2,l[h++]=c,l[h++]=c-1,l[h++]=c,l[h++]=c+1,l[h++]=c-1}function u(t,e,n,r,o,i,l){const h=c*s;let f=0;a[h+f++]=t,a[h+f++]=e,a[h+f++]=1,a[h+f++]=n,a[h+f++]=i,a[h+f++]=l,a[h+f++]=r,a[h+f++]=o,c++,a[h+f++]=t,a[h+f++]=e,a[h+f++]=-1,a[h+f++]=n,a[h+f++]=i,a[h+f++]=l,a[h+f++]=-r,a[h+f++]=-o,c++}for(const s of r){const{totalTime:t,timeSeed:r}=s;let o=null,i=null,a=null,l=null,c=null;for(let h=0;h<s.numberOfVertices;h++){const d=n[3*(s.startVertex+h)+0],m=n[3*(s.startVertex+h)+1],w=n[3*(s.startVertex+h)+2];let g=null,p=null,y=null,x=null;if(h>0){g=d-o,p=m-i;const n=Math.sqrt(g*g+p*p);if(g/=n,p/=n,h>1){let t=g+l,n=p+c;const r=Math.sqrt(t*t+n*n);t/=r,n/=r;const o=Math.min(1/(t*g+n*p),e);t*=o,n*=o,y=-n,x=t}else y=-p,x=g;null!==y&&null!==x&&(u(o,i,a,y,x,t,r),f())}o=d,i=m,a=w,l=g,c=p}u(o,i,a,-c,l,t,r)}return{vertexData:a,indexData:l}}function g(t,n){const r=n.pixels,{width:o,height:i}=n,a=new Float32Array(o*i*2);if(\"vector-uv\"===t)for(let e=0;e<o*i;e++)a[2*e+0]=r[0][e],a[2*e+1]=-r[1][e];else if(\"vector-magdir\"===t)for(let l=0;l<o*i;l++){const t=r[0][l],n=e(r[1][l]),o=Math.cos(n-Math.PI/2),i=Math.sin(n-Math.PI/2);a[2*l+0]=o*t,a[2*l+1]=i*t}return{data:a,width:o,height:i}}async function p(t,e,n,r,o){const l=i(e.spatialReference);if(!l)return y(t,e,n,r,o);const[s,c]=l.valid,h=c-s,f=Math.ceil(e.width/h),u=e.width/f,d=Math.round(n/f);let m=e.xmin;const w=[];for(let i=0;i<f;i++){const n=new a({xmin:m,xmax:m+u,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference});w.push(y(t,n,d,r,o)),m+=u}const g=await Promise.all(w),p={data:new Float32Array(n*r*2),width:n,height:r};let x=0;for(const i of g){for(let t=0;t<i.height;t++)for(let e=0;e<i.width;e++)x+e>=n||(p.data[2*(t*n+x+e)+0]=i.data[2*(t*i.width+e)+0],p.data[2*(t*n+x+e)+1]=i.data[2*(t*i.width+e)+1]);x+=i.width}return p}async function y(t,e,r,o,i){if(\"imagery\"===t.type){await t.load({signal:i});const a=t.rasterInfo.dataType,l=await t.fetchImage(e,r,o,{signal:i});return!l||n(l.pixelData)||n(l.pixelData.pixelBlock)?{data:new Float32Array(r*o*2),width:r,height:o}:g(a,l.pixelData.pixelBlock)}await t.load({signal:i});const a=t.rasterInfo.dataType,l=await t.fetchPixels(e,r,o,{signal:i});return!l||n(l.pixelBlock)?{data:new Float32Array(r*o*2),width:r,height:o}:g(a,l.pixelBlock)}export{m as createAnimatedLinesData,w as createLinesMesh,c as createStreamlinesMesh,y as fetchPart,p as loadImagery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"./BrushFlow.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.flowStyle=null}get requiresDedicatedFBO(){return!1}doRender(e){super.doRender(e)}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"flow\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";const t=e.getLogger(\"esri.views.2d.engine.flow.FlowDisplayData\");class s{constructor(e,t,s,a){this.state={name:\"created\"},this.flowStyle=e,this.extent=t,this.size=s,this.pixelRatio=a}async load(){const e=new AbortController;this.state={name:\"loading\",abortController:e};const t=await this.flowStyle.loadResources({extent:this.extent,size:this.size,pixelRatio:this.pixelRatio},e.signal);this.state={name:\"loaded\",resources:t}}prepareForRendering(e,s,a){if(\"loaded\"!==this.state.name)return void t.error(\"Only loaded resources can be attached.\");const i=this.state.resources;i.prepareForRendering(e,s,a),this.state={name:\"attached\",resources:i}}destroy(){if(\"loading\"===this.state.name)return this.state.abortController.abort(),void(this.state={name:\"detached\"});\"attached\"===this.state.name&&(this.state.resources.detach(),this.state={name:\"detached\"})}update(e){if(!this.flowStyle.areResourcesCompatible(e.flowStyle))return!1;return!(!this.extent.equals(e.extent)||this.size[0]!==e.size[0]||this.size[1]!==e.size[1]||this.pixelRatio!==e.pixelRatio)&&(this.flowStyle=e.flowStyle,!0)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{b as e,c as i,d as r,r as o}from\"../../../../chunks/mat3.js\";import{c as n}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as l}from\"../DisplayObject.js\";class m extends l{constructor(){super(...arguments),this._displayData=null}get displayData(){return this._displayData}set displayData(t){this._displayData=t,this.requestRender()}clear(){s(this._displayData)&&(this._displayData.destroy(),this._displayData=null,this.requestRender())}setTransform(s){const{displayData:n}=this;if(a(n))return;const l=n.extent.xmin,m=n.extent.ymax,p=[0,0];s.toScreen(p,[l,m]);const c=(n.extent.xmax-n.extent.xmin)/n.size[0]/s.resolution,d=t(s.rotation),{dvs:x}=this.transforms;e(x),i(x,x,[-1,1,0]),r(x,x,[2/(s.size[0]*s.pixelRatio),-2/(s.size[1]*s.pixelRatio),1]),i(x,x,[p[0],p[1],0]),o(x,x,d),r(x,x,[c*s.pixelRatio,c*s.pixelRatio,1])}_createTransforms(){return{dvs:n()}}}export{m as FlowDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import o from\"../../../../core/Accessor.js\";import e from\"../../../../core/Logger.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{isNone as r,isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Point.js\";import c from\"./FlowDisplayData.js\";import{FlowDisplayObject as m}from\"./FlowDisplayObject.js\";import d from\"../../../../geometry/Extent.js\";const y=1.15,h=e.getLogger(\"esri.views.2d.engine.flow.FlowStrategy\");let f=class extends o{constructor(t){super(t),this._flowDisplayObject=new m,this._loading=null}initialize(){this.flowContainer.addChild(this._flowDisplayObject)}destroy(){this._clear(),this.flowContainer.removeAllChildren()}get updating(){return null!=this._loading}update(t){const{flowStyle:o}=this.flowContainer;if(r(o))return void this._clear();const{extent:e,rotation:i,resolution:l,pixelRatio:n}=t.state,p=g(e,i);p.expand(y);const m=[Math.round((p.xmax-p.xmin)/l),Math.round((p.ymax-p.ymin)/l)],d=new c(o,p,m,n);if(s(this._loading)){if(this._loading.update(d))return;this._loading.destroy(),this._loading=null}!r(this._flowDisplayObject.displayData)&&this._flowDisplayObject.displayData.update(d)||(d.load().then((()=>{this._flowDisplayObject.clear(),this._flowDisplayObject.displayData=this._loading,this._loading=null}),(t=>{a(t)||(h.error(\"A resource failed to load.\",t),this._loading=null)})),this._loading=d)}_clear(){this._flowDisplayObject.clear(),s(this._loading)&&(this._loading.destroy(),this._loading=null)}};t([l()],f.prototype,\"_loading\",void 0),t([l()],f.prototype,\"flowContainer\",void 0),t([l()],f.prototype,\"updating\",null),f=t([n(\"esri.views.2d.engine.flow.FlowStrategy\")],f);const u=f;function g(t,o){const e=new p({x:(t.xmax+t.xmin)/2,y:(t.ymax+t.ymin)/2,spatialReference:t.spatialReference}),r=t.xmax-t.xmin,s=t.ymax-t.ymin,a=Math.abs(Math.cos(i(o))),l=Math.abs(Math.sin(i(o))),n=a*r+l*s,c=l*r+a*s,m=new d({xmin:e.x-n/2,ymin:e.y-c/2,xmax:e.x+n/2,ymax:e.y+c/2,spatialReference:t.spatialReference});return m.centerAt(e),m}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/Texture.js\";import t from\"../../../webgl/VertexArrayObject.js\";class r{constructor(e,t){this._vertexData=e,this._indexData=t}prepareForRendering(r,s,i){const a=e.createVertex(r,35044,this._vertexData),o=e.createIndex(r,35044,this._indexData),x=new t(r,s,i,{geometry:a},o);this.vertexBuffer=a,this.indexBuffer=o,this.vertexArray=x,this._vertexData=null,this._indexData=null}detach(){this.vertexArray.dispose(),this.vertexBuffer.dispose(),this.indexBuffer.dispose()}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{createAnimatedFlowRendererSettings as r}from\"./animatedFlowRendererUtils.js\";import t from\"./FlowGLResources.js\";class n{constructor(e,t,n){this._loadImagery=e,this._createStreamlinesMesh=t,this._rendererSettings=r(n)}get animated(){return this._rendererSettings.lineSpeed>0}get renderSettings(){return this._rendererSettings}areResourcesCompatible(e){let r=!0;return r=r&&e._loadImagery===this._loadImagery,r=r&&e._createStreamlinesMesh===this._createStreamlinesMesh,r=r&&e._rendererSettings.verticesPerLine===this._rendererSettings.verticesPerLine,r=r&&e._rendererSettings.segmentLength===this._rendererSettings.segmentLength,r=r&&e._rendererSettings.lineSpacing===this._rendererSettings.lineSpacing,r=r&&e._rendererSettings.density===this._rendererSettings.density,r=r&&e._rendererSettings.smoothing===this._rendererSettings.smoothing,r=r&&e._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&e._rendererSettings.minWeightThreshold===this._rendererSettings.minWeightThreshold,r=r&&e._rendererSettings.minSpeedThreshold===this._rendererSettings.minSpeedThreshold,r=r&&e._rendererSettings.mergeLines===this._rendererSettings.mergeLines,r=r&&e._rendererSettings.interpolate===this._rendererSettings.interpolate,r&&this._rendererSettings.mergeLines&&(r=e._rendererSettings.lineCollisionWidth===this._rendererSettings.lineCollisionWidth),!!r}async loadResources(r,n){const{extent:i,size:s}=r;e(n);const d=await this._loadImagery(i,s[0],s[1],n),{vertexData:g,indexData:h}=await this._createStreamlinesMesh(this._rendererSettings,d,n);return new t(g,h)}}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";function n(n){const i=e(n.lineWidth),o=2*i,t=Math.round(e(n.lineLength)/o)+1,l=i,r=10,d=n.lineColor.toRgba(),s=[d[0]/255,d[1]/255,d[2]/255,d[3]],{lineSpeed:h,fadeDuration:a,density:g}=n;return{lineRenderWidth:i,segmentLength:o,verticesPerLine:t,lineCollisionWidth:l,lineSpacing:r,lineColor:s,lineSpeed:h,fadeDuration:a,density:g,smoothing:e(n.smoothing),velocityScale:1,minWeightThreshold:.001,minSpeedThreshold:.001,maxTurnAngle:1,mergeLines:!0,interpolate:!0,profile:!1}}export{n as createAnimatedFlowRendererSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{loadImagery as o}from\"./dataUtils.js\";import i from\"./FlowContainer.js\";import a from\"./FlowStrategy.js\";import n from\"./FlowStyle.js\";let l=class extends t{constructor(){super(...arguments),this._loadImagery=(e,t,r,s)=>o(this.layer,e,t,r,s),this._createStreamlinesMesh=(e,t,r)=>this.layer.createStreamlinesMesh({flowData:t,rendererSettings:e},{signal:r}),this.container=null,this.layer=null,this.type=\"rasterAnimatedFlow\",this.redrawOrRefetch=async()=>{this._rendererChanged()}}get updating(){return!this._strategy||this._strategy.updating}update(e){e.stationary?this._strategy.update(e):this.layerView.requestUpdate()}install(e){this.container=new i,e.addChild(this.container),this._strategy=new a({flowContainer:this.container}),this._rendererChanged()}uninstall(){this._strategy.destroy(),this.container.removeAllChildren(),this.container.remove()}moveEnd(){}async doRefresh(){}attach(){}_rendererChanged(){if(\"animated-flow\"!==this.layer.renderer.type)return;const e=new n(this._loadImagery,this._createStreamlinesMesh,this.layer.renderer);this.container.flowStyle=e,this.layerView.requestUpdate()}};e([r()],l.prototype,\"_strategy\",void 0),e([r()],l.prototype,\"container\",void 0),e([r()],l.prototype,\"layer\",void 0),e([r()],l.prototype,\"layerView\",void 0),e([r()],l.prototype,\"type\",void 0),e([r()],l.prototype,\"updating\",null),l=e([s(\"esri.views.2d.engine.flow.AnimatedFlowView2D\")],l);const p=l;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n"],"sourceRoot":""}