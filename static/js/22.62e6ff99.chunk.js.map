{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js"],"names":["i","e","constructor","t","r","a","n","super","this","bitmap","s","coordScale","once","ready","destroy","stage","stencilRef","setTransform","transforms","dvs","_createTransforms","tileMat3","onAttach","onDetach","o","arguments","isCustomTilingScheme","createTile","_getTileBounds","_tileInfoView","tileInfo","size","destroyTile","prepareRenderPasses","registerRenderPass","name","brushes","raster","target","children","map","drawPhase","MAP","doRender","visible","getTileBounds","world","spatialReference","resolution","lodAt","level","l","_emptyTilePixelBlock","container","layer","tileSize","useWebGLForProcessing","fetchTile","row","col","createEmptyTilePixelBlock","join","width","height","pixels","Uint8Array","mask","pixelType","prototype","type","canUseWebGLForProcessing","symbolizer","canRenderInWebGL","interpolation","_canUseMajorityInterpolationOnDataSource","bandIds","_getLayerInterpolation","source","symbolizerParams","globalSymbolizerParams","suspended","c","coords","p","u","d","x","y","pixelBlock","extent","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","invalidateTexture","local","global","install","tileInfoView","addChild","uninstall","removeAllChildren","remove","bandCount","attributeTable","colormap","rasterInfo","renderer","colorRamp","_source","_symbolizerParameters","_vaoInvalidated","vaoData","magdir","vao","dispose","scalar","JSON","stringify","invalidateVAO","requestRender","updateVectorFieldVAO","style","_createVectorFieldVAO","context","vertexData","indexData","createVertex","Float32Array","createIndex","Uint32Array","geometry","location","count","normalized","attributes","bufferLayouts","elementCount","length","tileData","pixelRatio","offset","h","f","toScreenNoRotation","symbolTileSize","m","Math","round","D","rangeX","rangeY","displayViewMat3","symbolTypes","forEach","renderPass","_handle","dataType","convertVectorFieldData","updateTileSource","key","_getTileSymbolOffset","_sampleVectorFieldData","Promise","resolve","updateTileSymbolizerParameters","_updateSymbolType","watch","_rasterFieldPrefix","view","fullExtent","datumTransformation","dynamicRangeAdjustment","reject","popupEnabled","popupTemplate","value","magdirValue","identify","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","features","filter","Value","VALUE","String","hasOwnProperty","clone","sourceLayer","push","updateFullExtent","_set","fieldInfos","_getFieldInfo","format","trim","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","some","fieldName","replace","split","Number","isNaN","readOnly","getLogger","L","V","R","T","w","U","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","subview","_redrawOrRefetch","doRefresh","_redrawImage","initialize","addResolvingPromise","_get","useProgressiveUpdate","_getCacheSize","S","cachePolicy","acquireTile","releaseTile","cacheSize","requestUpdate","hitTest","toMap","update","pause","state","resume","scale","getClosestInfoForScale","toJSON","k","fromJSON","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","notifyChange","attach","increaseRasterJobHandlerUsage","j","supportsTextureFloat","_initializeTileInfo","C","_computeFetchConcurrency","P","concurrency","process","_updatesubview","handles","add","catch","error","blendMode","effect","_updateBlockCacheRegistry","detach","decreaseRasterJobHandlerUsage","clear","moveStart","viewChange","moveEnd","abort","AbortController","signal","then","createFetchPopupFeaturesQueryGeometry","z","updateRenderer","reset","tiles","_enqueueTileFetch","isUpdating","id","removeChild","allowPartialFill","registryId","requestRawData","srcResolution","_isVectorField","I","v","F","xmin","ymax","scales","srcResolutions","b","create","origin","blockBoundary","storageInfo","maxCol","minCol","maxRow","minRow","has","moving","getTileCoords","getTileResolution","_updateGlobalSymbolizerParams","async","fetchPixels","generateWebGLParameters","_","isGCS","isGeographic","factor","outMin","outMax","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","g","q","triangleCountReportedInDebug","triangleCount","texture","EventedMixin","parent","when","title","declaredClass","get","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","Boolean","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","on","whenLayerView","destroyed","isVisibleAtScale","minScale","maxScale","processUpdate","isFulfilled","isResolved","isRendering","set","renderChildren","sortChildren","setStencilReference","createRenderParams","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","updateTransforms","dataChanged","Map","PI","esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour","sqrt","atan2","cos","sin","createEmptyBand","M","validPixelCount","maskIsAlpha","updateStatistics","equals","max","ceil","xmax","ymin","floor","A","N","B","E","J","pennants","barbs","shaft","min","MAX_VALUE","inputUnit","random","outputUnit","breakValues","xoffset","abs","yoffset","stops","maxSize","minSize","event","pointerType","visualVariables","symbol","uniqueValueInfos","classBreakInfos","isWGS84","isWebMercator","3395","3410","3832","3857","3975","4087","4088","6933","8858","8859","32662","53001","53002","53003","53004","53016","53017","53025","53031","53034","53036","53037","53079","53080","54001","54002","54003","54004","54016","54017","54025","54031","54034","54050","54053","54079","54080","54100","54101","102038","102299","center","W","normalize","apply","wkid","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","blockWidth","pyramidScalingFactor","transform","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","G","cols","rows","inverseTransform","NaN","offsets","coefficients","spacing","pixelSize","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","projectedPixelSize","overlayPixelSizeInMapUnits","basemapSpatialReference","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_timer","_cachedBlocks","_size","_duration","_interval","decreaseRefCount","refCount","delete","controller","getBlock","ts","Date","now","block","putBlock","updateTimer","deleteBlock","updateMaxSize","empty","clearTimer","getCurrentSize","setInterval","Array","from","clearInterval","cache","isRejected","Set","pyramidBlockWidth","pyramidBlockHeight","blockHeight","$","H"],"mappings":"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","file":"static/js/22.62e6ff99.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../layers/support/PixelBlock.js\";let l=class extends r{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this.container=null,this.layer=null,this.tileSize=null,this.useWebGLForProcessing=!0}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}createEmptyTilePixelBlock(e=null){const r=null==e||e.join(\",\")===this.tileSize.join(\",\");if(r&&o(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this.tileSize;const[t,i]=e,l=new s({width:t,height:i,pixels:[new Uint8Array(t*i)],mask:new Uint8Array(t*i),pixelType:\"u8\"});return r&&(this._emptyTilePixelBlock=l),l}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([i(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],l);export{l as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as i}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as o}from\"./BaseImageryTileSubView2D.js\";let l=class extends o{constructor(){super(...arguments),this.container=null,this.layer=null,this.tileSize=null,this.type=\"raster\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:s}=this.layer,i=this._getLayerInterpolation(),o=this.canUseWebGLForProcessing(),{source:l,symbolizerParams:a,globalSymbolizerParams:n,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,l&&r(l)&&r(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};if(d.rawPixelData=e,o)d.source=l.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==n?void 0:n.type)?n:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=o?a:null,o?d.transformGrid||(d.transformGrid=l.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=o?a:null,d.transformGrid=null}d.bandIds=o?s:null,d.width=this.tileSize[0],d.height=this.tileSize[1],d.interpolation=i,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:s,global:i}=t,{bandIds:o}=this.layer,l=this._getLayerInterpolation(),a=this.canUseWebGLForProcessing(),{bitmap:n}=e,{rawPixelData:c}=n;!a&&r(c)?(n.source=await this.layer.applyRenderer(c,\"stretch\"===(null==i?void 0:i.type)?i:null),n.isRendereredSource=!0):(n.isRendereredSource&&r(c)&&(n.source=c.pixelBlock),n.isRendereredSource=!1),n.symbolizerParameters=a?i||s:null,n.bandIds=a?o:null,n.interpolation=l,n.suspended=!1}install(e,r){this.container=new i(r.tileInfoView),this.container.isCustomTilingScheme=r.isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove()}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:r,colormap:t,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=r||null!=t||\"u8\"===s||\"s8\"===s)}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([s(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],l);const a=l;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.tileSize=null,this.type=\"rasterVF\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this.tileSize[0],s.height=this.tileSize[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this.tileSize[0]-s.offset[0])/o),Math.round((this.tileSize[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e,t){this.container=new o(t.tileInfoView),this.container.isCustomTilingScheme=t.isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove()}_getTileSymbolOffset(e,t){const i=e.col*this.tileSize[0]%t,r=e.row*this.tileSize[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"tileSize\",void 0),e([i()],a.prototype,\"type\",void 0),e([i()],a.prototype,\"useWebGLForProcessing\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);const c=a;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i,isNone as o}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{getDefaultDatumTransformationForDataset as n,projectExtent as l}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const p=p=>{let f=class extends p{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:a}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a}));const{popupEnabled:s}=a,n=u(a,o);if(!s||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:s,popupTemplate:n});const l=[],{value:p,magdirValue:f}=await a.identify(e);let m=\"\";if(p&&p.length){var c,h;m=\"imagery-tile\"===a.type&&a.hasStandardTime()&&null!=p[0]?p.map((e=>a.getStandardTimeValue(e))).join(\", \"):p.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(m,r);const i=null==(c=a.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===m}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=a.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==f?void 0:f[0],e[\"Raster.Direction\"]=null==f?void 0:f[1]);const s=new t(this.fullExtent.clone(),null,e);s.layer=a,s.sourceLayer=s.layer,l.push(s)}return l}updateFullExtent(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference))return Promise.reject(new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));if(o(this.layer.fullExtent))return Promise.reject(new r(\"layerview:extent-missing\",\"The layer doesn't provide a full extent.\",{layer:this.layer}));const t=n(this.layer.fullExtent,this.view.spatialReference,!1),i=l(this.layer.fullExtent,this.view.spatialReference,t);return null==i?Promise.reject(new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})):(this._set(\"fullExtent\",i),this.datumTransformation||(this.datumTransformation=n(this.layer.fullExtent,this.view.spatialReference,!0)),Promise.resolve())}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([a()],f.prototype,\"layer\",void 0),e([a()],f.prototype,\"view\",void 0),e([a()],f.prototype,\"fullExtent\",void 0),e([a()],f.prototype,\"tileInfo\",void 0),e([a({readOnly:!0})],f.prototype,\"hasTilingEffects\",null),f=e([s(\"esri.views.layers.ImageryTileLayerView\")],f),f};export{p as ImageryTileLayerView,p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isNone as s,unwrap as r}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as a,eachAlways as l}from\"../../../core/promiseUtils.js\";import{createScreenPoint as n}from\"../../../core/screenUtils.js\";import{watch as h,init as c}from\"../../../core/watchUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../layers/support/TileInfo.js\";import{update as m,unregister as y,register as g,getRasterId as f}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as _}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as b}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{LayerView2DMixin as w}from\"./LayerView2D.js\";import v from\"./imagery/ImageryTileView2D.js\";import I from\"./imagery/VectorFieldTileView2D.js\";import C from\"../tiling/TileInfoView.js\";import P from\"../tiling/TileQueue.js\";import S from\"../tiling/TileStrategy.js\";import{ImageryTileLayerView as R}from\"../../layers/ImageryTileLayerView.js\";import U from\"../../layers/LayerView.js\";import{RefreshableLayerView as T}from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as z}from\"../../support/drapedUtils.js\";import j from\"../../webgl/capabilities.js\";import k from\"../../../geometry/Extent.js\";import F from\"../../../geometry/Point.js\";const x=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),L=[0,0];let V=class extends(R(T(w(U)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.subview=null,this._redrawOrRefetch=o(((e,t)=>e?this.doRefresh():this._redrawImage(t)))}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this.subview&&(this.subview.useWebGLForProcessing=e),this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){var t;this._tileStrategy.destroy(),null==(t=this.subview)||t.container.removeAllChildren();const i=this._getCacheSize(e);this._tileStrategy=new S({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:i,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,i){if(this.suspended)return Promise.resolve(null);const s=this.view.toMap(n(e,i));return Promise.resolve(new t({attributes:{},geometry:s}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var o;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:k.fromJSON(t);m(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(o=this._previousLOD)?void 0:o.level)!==r.level&&(this._previousLOD=r,null==this._symbolizerParams||this.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),j().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new C(this.tileInfo,this.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new P({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this.fetchTile(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new S({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updatesubview(),this.handles.add([h(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,t,i)=>{const s=\"multidimensionalDefinition\"===i,r=\"interpolation\"===i&&(\"majority\"===e||\"majority\"===t)&&this._canUseMajorityInterpolationOnDataSource(),o=\"renderer\"===i&&\"vector-field\"===t.type!=(\"vector-field\"===e.type);o&&this._updatesubview();const l=s||r||o;this._redrawOrRefetch(l).catch((e=>{a(e)||x.error(e)}))})),c(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),c(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0)],\"attach\"),this._updateBlockCacheRegistry()}detach(){var e;this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),null==(e=this.subview)||e.uninstall(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,y(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return z(e,t,this.view)}async doRefresh(){if(this.suspended)return;await this.layer.updateRenderer(),this.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await l(e),this.notifyChange(\"updating\")}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this.subview.container.createTile(e);return this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){var t;this._fetchQueue.abort(e.key.id),null==(t=this.subview)||t.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,t){const i=!s(t)&&t.signal,o=this.subview.canUseWebGLForProcessing(),a={allowPartialFill:!0,tileInfo:this.tileInfo,signal:r(i),registryId:this._blockCacheRegistryId,requestRawData:o,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:o?\"nearest\":this.layer.interpolation};return this.subview.fetchTile(e,a)}_updatesubview(){const e=this._isVectorField()?\"rasterVF\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:t}=this;this._tileStrategy.clear();const i=new(\"rasterVF\"===e?I:v)({layer:t,tileSize:this.tileInfo.size,useWebGLForProcessing:this.useWebGLForProcessing});i.install(this.container,{tileInfoView:this._tileInfoView,isCustomTilingScheme:this._isCustomTilingScheme}),i.container.blendMode=t.blendMode,i.container.effect=t.effect,this.subview=i}_isVectorField(){return\"vector-field\"===this.layer.renderer.type}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new F({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=b(this.layer.rasterInfo,e),o=p.create({spatialReference:e,size:512,scales:i});(0===o.origin.x||o.origin.x>t.x)&&(o.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",o),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){a(i)&&x.error(i)}this._globalUpdateRequested=!1}!this.subview.canUseWebGLForProcessing()&&!this._isVectorField()||this.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const o=this._tileInfoView.getTileCoords(L,e.key),l=this._tileInfoView.getTileResolution(e.key);await this.subview.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:o,resolution:l}),e.once(\"attach\",(()=>this.requestUpdate())),this.subview.container.addChild(e)}catch(i){a(i)||x.error(i)}this.requestUpdate()}}async _redrawImage(e){if(0===this.subview.container.children.length)return;await this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.subview.container.children.map((async e=>this.subview.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await l(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:_(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this.subview.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,o=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,a=f(t,o);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&y(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=g(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];m(a,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}};e([u()],V.prototype,\"subview\",void 0),e([u()],V.prototype,\"useWebGLForProcessing\",null),e([u()],V.prototype,\"useProgressiveUpdate\",null),V=e([d(\"esri.views.2d.layers.ImageryTileLayerView2D\")],V);const q=V;export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);const t=e;export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};r([e({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0})],c.prototype,\"version\",null),c=y=r([o(\"esri.views.layers.support.Geometry\")],c);const a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([s({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),r([s({readOnly:!0})],e.prototype,\"version\",null),e=r([o(\"esri.views.layers.support.Path\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as o}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new o),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&t<=i&&(s=!0),!a&&t>=r&&(a=!0),e=s&&a}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([a(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/watchUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o(this,\"layer\",\"refresh\",(r=>{r.dataChanged&&this.doRefresh().catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as RefreshableLayerView,i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../core/jsonMap.js\";import{isSome as e}from\"../../../core/maybe.js\";import n from\"../PixelBlock.js\";import{isValidPixelBlock as r}from\"./pixelUtils.js\";const o=new Map;o.set(\"meter-per-second\",1),o.set(\"kilometer-per-hour\",.277778),o.set(\"knots\",.514444),o.set(\"feet-per-second\",.3048),o.set(\"mile-per-hour\",.44704);const a=180/Math.PI,s=5,i=new t({esriMetersPerSecond:\"meter-per-second\",esriKilometersPerHour:\"kilometer-per-hour\",esriKnots:\"knots\",esriFeetPerSecond:\"feet-per-second\",esriMilesPerHour:\"mile-per-hour\"});function h(t,e){return o.get(t)/o.get(e)||1}function l(t){return(450-t)%360}function c(t,e=\"geographic\"){const[n,r]=t,o=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n)*a;return s=(360+s)%360,\"geographic\"===e&&(s=l(s)),[o,s]}function u(t,e=\"geographic\"){let n=t[1];\"geographic\"===e&&(n=l(n)),n%=360;const r=t[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function f(t,e,o=\"geographic\",a=1){if(!r(t))return t;const{pixels:s,width:i,height:h}=t,l=i*h,f=s[0],p=s[1],m=n.createEmptyBand(t.pixelType,l),M=n.createEmptyBand(t.pixelType,l);let x=0;for(let n=0;n<h;n++)for(let t=0;t<i;t++)\"vector-uv\"===e?([m[x],M[x]]=c([f[x],p[x]],o),m[x]*=a):([m[x],M[x]]=u([f[x],p[x]],o),m[x]*=a,M[x]*=a),x++;const d=new n({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[m,M]});return d.updateStatistics(),d}function p(t,e,n=1){if(1===n||!r(t))return t;const o=t.clone(),{pixels:a,width:s,height:i}=o,h=a[0],l=a[1];let c=0;for(let r=0;r<i;r++)for(let t=0;t<s;t++)\"vector-uv\"===e?(h[c]*=n,l[c]*=n):h[c]*=n,c++;return o.updateStatistics(),o}function m(t,n,r,o,a){if(!e(a)||!a.spatialReference.equals(t.spatialReference))return{extent:t,width:n,height:r,resolution:t.width/n};const s=a.xmin,i=a.ymax;o=Math.max(o||0,30);const h=Math.ceil(n*(1/o)),l=Math.ceil(r*(1/o)),c=((t.xmax-t.xmin)/h+(t.ymax-t.ymin)/l)/2;return t.xmin=s+Math.floor((t.xmin-s)/c)*c,t.xmax=s+Math.ceil((t.xmax-s)/c)*c,t.ymin=i+Math.floor((t.ymin-i)/c)*c,t.ymax=i+Math.ceil((t.ymax-i)/c)*c,{extent:t,width:Math.round(t.width/c),height:Math.round(t.height/c),resolution:c}}const M=x(0,0,0);function x(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,a=13*o,s=-7*o,i=-2*o,h=-16*o,l=29,[c,u]=g(0,e+a,n,l),[f,p]=g(t-5.5,e+s,n,l),[m,M]=g(t+5.5,e+s,n,l),[x,d]=g(t-1.5,e+i,n,l),[k,w]=g(t+1.5,e+i,n,l),[y,P]=g(t-1.5,e+h,n,l),[b,I]=g(t+1.5,e+h,n,l);return[c,u,f,p,x,d,k,w,m,M,y,P,b,I]}function d(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,a=5*o,i=20*o,h=25*o,l=45,c=0,u=0,f=2,p=0,m=f*o;let[M,x]=[c+r/2,u-i],[d,k]=[M+f,x],[w,y]=[d-p,k+m],[P,b]=[c-r/2,u-h],[I,v]=[P+p,b-m],A=Math.ceil(t/s),_=Math.floor(A/10);A-=8*_;const U=[],S=[];for(let s=0;s<A/2;s++,_--){_<=0&&A%2==1&&s===(A-1)/2&&(P=c,I=P+p,b=(b+x)/2,v=b-m);const[t,n]=g(P,b,e,l);if(_>0){const[r,o]=g(d,b,e,l),[a,s]=g(M,x,e,l);U.push(r),U.push(o),U.push(t),U.push(n),U.push(a),U.push(s)}else{const[r,o]=g(d,k,e,l),[a,s]=g(w,y,e,l),[i,h]=g(I,v,e,l);S.push(t),S.push(n),S.push(i),S.push(h),S.push(a),S.push(s),S.push(r),S.push(o)}b+=a,x+=a,k+=a,y+=a,v+=a}const[D,F]=g(c+r/2,u+i,e,l),j=r/2+f,[N,T]=g(c+j,u+i,e,l),[q,B]=g(c+r/2,u-h,e,l),[E,J]=g(c+j,u-h,e,l);return{pennants:U,barbs:S,shaft:[D,F,N,T,q,B,E,J]}}function g(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,a=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+a-n)%(2*Math.PI)]}const k=[0,1,3,6,10,16,21,27,33,40,47,55,63],w=[0,.5,1,1.5,2],y=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(t,e,n,r){const o=h(r||\"knots\",n);let a;for(a=1;a<e.length;a++)if(a===e.length-1){if(t<e[a]*o)break}else if(t<=e[a]*o)break;return Math.min(a-1,e.length-2)}function b(t,e,n,r,o){let a=0;switch(e){case\"beaufort_kn\":a=P(t,k,\"knots\",n);break;case\"beaufort_km\":a=P(t,k,\"kilometer-per-hour\",n);break;case\"beaufort_ft\":a=P(t,k,\"feet-per-second\",n);break;case\"beaufort_m\":a=P(t,k,\"meter-per-second\",n);break;case\"classified_arrow\":a=P(t,o,r,n);break;case\"ocean_current_m\":a=P(t,w,\"meter-per-second\",n);break;case\"ocean_current_kn\":a=P(t,y,\"knots\",n)}return a}function I(t,e){const{style:n,inputUnit:r,outputUnit:o,breakValues:a}=e,s=i.fromJSON(r),h=i.fromJSON(o),l=7*6,c=15;let u=0,f=0;const{width:p,height:m,mask:x}=t,d=t.pixels[0],g=t.pixels[1],k=x?x.filter((t=>t>0)).length:p*m,w=new Float32Array(k*l),y=new Uint32Array(c*k);for(let i=0;i<m;i++)for(let t=0;t<p;t++){const e=i*p+t;if(!x||x[i*p+t]){var P;const r=null!=(P=(g[e]+360)%360/180*Math.PI)?P:2*Math.PI*Math.random(),o=b(d[e],n,s,h,a);for(let n=0;n<M.length;n+=2)w[u++]=(t+.5)/p,w[u++]=(i+.5)/m,w[u++]=M[n],w[u++]=M[n+1]+r,w[u++]=o,w[u++]=d[e];const c=7*(u/l-1);y[f++]=c,y[f++]=c+1,y[f++]=c+2,y[f++]=c+0,y[f++]=c+4,y[f++]=c+3,y[f++]=c+0,y[f++]=c+2,y[f++]=c+3,y[f++]=c+2,y[f++]=c+5,y[f++]=c+3,y[f++]=c+5,y[f++]=c+6,y[f++]=c+3}}return{vertexData:w,indexData:y}}const v=[];function A(t,e){if(0===v.length)for(let s=0;s<30;s++)v.push(d(5*s,0));const n=h(i.fromJSON(e.inputUnit),\"knots\"),{width:r,height:o,mask:a}=t,l=t.pixels[0],c=t.pixels[1],u=6,f=[],p=[];let m=0,M=0;for(let i=0;i<o;i++)for(let t=0;t<r;t++){const e=i*r+t,h=l[e]*n;if((!a||a[i*r+t])&&h>=s){var x;const n=null!=(x=(c[e]+360)%360/180*Math.PI)?x:2*Math.PI*Math.random(),{pennants:a,barbs:s,shaft:l}=v[Math.min(Math.floor(h/5),29)];if(a.length+s.length===0)continue;let d=f.length/u;const g=(t+.5)/r,k=(i+.5)/o;for(let t=0;t<a.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=a[t],f[m++]=a[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<s.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=s[t],f[m++]=s[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<l.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=l[t],f[m++]=l[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<a.length/6;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,d+=3;for(let t=0;t<s.length/8;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+2,p[M++]=d+3,d+=4;p[M++]=d+0,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+3,p[M++]=d+2,d+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function _(t,e){const n=4*6;let r=0,o=0;const{width:a,height:i,mask:h}=t,l=t.pixels[0],c=[],u=[],f=\"wind_speed\"===e.style?s:Number.MAX_VALUE;for(let s=0;s<i;s++)for(let t=0;t<a;t++){const e=s*a+t;if((!h||h[s*a+t])&&l[e]<f){for(let n=0;n<4;n++)c[r++]=(t+.5)/a,c[r++]=(s+.5)/i,c[r++]=n<2?-.5:.5,c[r++]=n%2==0?-.5:.5,c[r++]=0,c[r++]=l[e];const h=4*(r/n-1);u[o++]=h,u[o++]=h+1,u[o++]=h+2,u[o++]=h+1,u[o++]=h+2,u[o++]=h+3}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(u)}}function U(t,e){return\"simple_scalar\"===e.style?_(t,e):\"wind_speed\"===e.style?A(t,e):I(t,e)}function S(t,e,r,o=[0,0],a=.5){const{width:s,height:i,mask:h}=t,[l,f]=t.pixels,[p,m]=o,M=Math.round((s-p)/r),x=Math.round((i-m)/r),d=M*x,g=new Float32Array(d),k=new Float32Array(d),w=new Uint8Array(d),y=\"vector-uv\"===e;for(let n=0;n<x;n++)for(let t=0;t<M;t++){let e=0;const o=n*M+t,x=Math.max(0,n*r+m),d=Math.max(0,t*r+p),P=Math.min(i,x+r),b=Math.min(s,d+r);for(let t=x;t<P;t++)for(let n=d;n<b;n++){const r=t*s+n;if(!h||h[r]){e++;const t=y?[l[r],f[r]]:[l[r],(360+f[r])%360],[n,a]=y?t:u(t);g[o]+=n,k[o]+=a}}if(e>=(P-x)*(b-d)*(1-a)){w[o]=1;const[t,n]=c([g[o]/e,k[o]/e]);g[o]=t,k[o]=n}else w[o]=0,g[o]=0,k[o]=0}const P=new n({width:M,height:x,pixels:[g,k],mask:w});return P.updateStatistics(),P}export{f as convertVectorFieldData,p as convertVectorFieldUnit,U as createVFMesh,_ as createVFMeshScalar,h as getUnitConversionFactor,S as sampleVectorField,m as snapImageToSymbolTile,i as unitKebabDict,c as uvComponentToVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as t,isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isLoaded as r,load as i,getTransformation as a,project as s}from\"../../../geometry/projection.js\";import{project as l}from\"../../../geometry/support/webMercatorUtils.js\";import c from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const m=5e-4,f=function(e,t){const n=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||n)},u=function(e,t){const n=(e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4,o=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs(n-e[2*t.rows+2]),Math.abs(o-e[2*t.rows+3])]},p={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},h=32;async function y(){if(r())return null;await i()}function M(t,n,o){if(!f(t.spatialReference,n))return null;if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?a(n,t.spatialReference,t):a(t.spatialReference,n,t)}function d(n,o,i,a=null){if(n.spatialReference.equals(o))return n;const x=f(n.spatialReference,o);if(x&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const m=i.center,u=new c({xmin:m.x-n.x/2,xmax:m.x+n.x/2,ymin:m.y-n.y/2,ymax:m.y+n.y/2,spatialReference:n.spatialReference}),p=x?s(u,o,a):l(u,o);if(t(p))return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function g(e,t=.01){return o(e)?t/o(e):0}function w(n,o,i=null,a=!0){const c=n.spatialReference;if(c.equals(o))return n;let x=l(n,o);if(t(x)){if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");x=s(n,o,i)}if(a&&o.isGeographic){const[e,t]=S(c,!0),o=g(c);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<m?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<m&&(x.x+=360))}return x}function R(e){const t=v(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new c({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function j(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=W(e),a=v(e.spatialReference,!0);if(!n(a)||0===i)return b(e,t,o,r);return R(e.clone().normalize().map((e=>b(e,t,o,r))))}function b(n,o,i=null,a=!0){const c=n.spatialReference;if(c.equals(o))return n;if(f(c,o)&&!r())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");let u=l(n,o);t(u)&&(u=s(n,o,i));let[p,h]=S(c,!0);if(u&&a&&c.isWebMercator&&o.isGeographic&&null!=p&&null!=h){const e=.001,t=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>t&&Math.abs(180-u.xmax)<m){u.xmin=-180;const e=[];e.push(new x(n.xmax,n.ymin,c)),e.push(new x(n.xmax,(n.ymin+n.ymax)/2,c)),e.push(new x(n.xmax,n.ymax,c));const t=e.map((e=>w(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));u.xmax=Math.max.apply(null,t)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>t&&Math.abs(180+u.xmin)<m){u.xmax=180;const e=[];e.push(new x(n.xmin,n.ymin,c)),e.push(new x(n.xmin,(n.ymin+n.ymax)/2,c)),e.push(new x(n.xmin,n.ymax,c));const t=e.map((e=>w(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));u.xmin=Math.min.apply(null,t)}}[p,h]=S(o,!0);const y=g(o);return y&&null!=p&&null!=h&&(Math.abs(u.xmin-p)<y&&(u.xmin=p),Math.abs(u.xmax-h)<y&&(u.xmax=h)),u}function v(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*p[e.wkid]||null}function S(e,t=!1){const o=[],r=v(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function N(e,t,n,o){let r=(e-t)/n;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function W(e,t=!1){const o=v(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return N(e.xmax,r,o,!0)-N(e.xmin,r,o,!1)}function z(e){const t=e.storageInfo.origin.x,o=v(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const f=[],u=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=u?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,u=(c-Math.round(h/m)%c)%c;f.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:u,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:f,hasGCSSShiftTransform:u}}function G(t,o,i,a=null,s=null,l=!1,c=[h,h]){if(f(t.spatialReference,o.spatialReference)&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&o&&i))return null;const{xmin:m,ymin:p,xmax:y,ymax:M}=t,d=t.spatialReference,g=o.spatialReference,R=v(g);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((y-m)/j.x-.1/c[0])+1,rows:Math.ceil((M-p)/j.y-.1/c[1])+1},S=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let r=0;r<b.rows;r++){let i=w(new x({x:m+S*e,y:M-N*r,spatialReference:d}),g,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[r]&&n(R)&&i.x<z[r].x&&(i.x+=R),i?(W.push((i.x-o.xmin)/(o.xmax-o.xmin)),W.push((o.ymax-i.y)/(o.ymax-o.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=u(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let t=0;t<b.rows-1;t++){let n=e*b.rows*2+2*t;const o=W[n],r=W[n+1],i=W[n+2],a=W[n+3];n+=2*b.rows;const s=W[n],l=W[n+1],c=W[n+2],x=W[n+3];let m=0,f=12*(t*(b.cols-1)+e);for(let e=0;e<3;e++)C[f++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function P(e){const t=e.clone().normalize();return 1===t.length?t[0]:R(t)}function C(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,m=(i.x+i.y)/2;if(n<=m)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=m;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const f=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new x({x:f.x,y:f.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,m=Math.log(e.y/i.y)/Math.LN2,f=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,m)):\"up\"===o?Math.ceil(Math.max(c,m)):Math.round((c+m)/2),a<0?a=0:a>f&&(s=a>f+3,a=f);const u=2**a;return{pyramidLevel:a,pyramidResolution:new x({x:u*t.nativePixelSize.x,y:u*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function L(e,t,n=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=d(new x({x:s.x,y:s.y,spatialReference:a}),t,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,m=o(t),f=c*m*96*39.37,u=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=j(i,t);p||r&&(t.isGeographic||t.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=f;const g=1.001;if(p){M=u;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*m*39.37),o=t.isGeographic?4326:3857;y=d(new x({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/n,y.y*=M/n}else{y={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;M<u*(g/2)&&n<t;)n++,M*=2,y.x*=2,y.y*=2;Math.max(M,u)/Math.min(M,u)<=g&&(M=u)}const w=[M],R=[{x:y.x,y:y.y}],b=70.5310735,v=Math.min(b,f)/g;for(;M>=v;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{L as computeProjectedScales,h as defaultGridSpacing,M as getDefaultDatumTransformationForDataset,G as getProjectionOffsetGrid,z as getRasterDatasetAlignmentInfo,v as getWorldWidth,W as getWorldWrapCount,y as load,j as projectExtent,w as projectPoint,d as projectResolution,P as snapExtent,C as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n"],"sourceRoot":""}